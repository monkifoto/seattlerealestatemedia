"use strict";(self.webpackChunkseattlerealestatemedia=self.webpackChunkseattlerealestatemedia||[]).push([[179],{2011:(ht,Ce,L)=>{L.d(Ce,{Dh:()=>ce,GT:()=>se,cc:()=>De,hO:()=>Ve,on:()=>H,pX:()=>re,xv:()=>he});var c=L(4650),B=L(9260),P=L(2122);ht=L.hmd(ht);const te=["ngOnDestroy"],re=(Ie,we,Pe,Ae={})=>new Proxy(Ie,{get:(xe,be)=>Pe.runOutsideAngular(()=>{var $e;if(Ie[be])return!(null===($e=Ae?.spy)||void 0===$e)&&$e.get&&Ae.spy.get(be,Ie[be]),Ie[be];if(te.indexOf(be)>-1)return()=>{};const K=we.toPromise().then(oe=>{const ge=oe&&oe[be];return"function"==typeof ge?ge.bind(oe):ge&&ge.then?ge.then(Ge=>Pe.run(()=>Ge)):Pe.run(()=>ge)});return new Proxy(()=>{},{get:(oe,ge)=>K[ge],apply:(oe,ge,Ge)=>K.then(je=>{var Et;const Xe=je&&je(...Ge);return!(null===(Et=Ae?.spy)||void 0===Et)&&Et.apply&&Ae.spy.apply(be,Ge,Xe),Xe})})})}),se=(Ie,we)=>{we.forEach(Pe=>{Object.getOwnPropertyNames(Pe.prototype||Pe).forEach(Ae=>{Object.defineProperty(Ie.prototype,Ae,Object.getOwnPropertyDescriptor(Pe.prototype||Pe,Ae))})})};class fe{constructor(we){return we}}const ce=new c.OlP("angularfire2.app.options"),he=new c.OlP("angularfire2.app.name");function H(Ie,we,Pe){const xe="object"==typeof Pe&&Pe||{};xe.name=xe.name||"string"==typeof Pe&&Pe||"[DEFAULT]";const $e=B.Z.apps.filter(K=>K&&K.name===xe.name)[0]||we.runOutsideAngular(()=>B.Z.initializeApp(Ie,xe));try{JSON.stringify(Ie)!==JSON.stringify($e.options)&&z("error",`${$e.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe($e)}const z=(Ie,...we)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ie](...we)},q={provide:fe,useFactory:H,deps:[ce,c.R0b,[new c.FiY,he]]};let Ve=(()=>{class Ie{constructor(Pe){B.Z.registerVersion("angularfire",P.q4.full,"core"),B.Z.registerVersion("angularfire",P.q4.full,"app-compat"),B.Z.registerVersion("angular",c.q4F.full,Pe.toString())}static initializeApp(Pe,Ae){return{ngModule:Ie,providers:[{provide:ce,useValue:Pe},{provide:he,useValue:Ae}]}}}return Ie.\u0275fac=function(Pe){return new(Pe||Ie)(c.LFG(c.Lbi))},Ie.\u0275mod=c.oAB({type:Ie}),Ie.\u0275inj=c.cJS({providers:[q]}),Ie})();function De(Ie,we,Pe,Ae,xe){const[,be,$e]=globalThis.\u0275AngularfireInstanceCache.find(K=>K[0]===Ie)||[];if(be)return function ze(Ie,we){try{return Ie.toString()===we.toString()}catch{return Ie===we}}(xe,$e)||(pe("error",`${we} was already initialized on the ${Pe} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:xe,was:$e})),be;{const K=Ae();return globalThis.\u0275AngularfireInstanceCache.push([Ie,K,xe]),K}}const st=!!ht.hot,pe=(Ie,...we)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ie](...we)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(ht,Ce,L)=>{L.d(Ce,{q4:()=>bi,iC:()=>ma,HU:()=>es,vb:()=>Ji,JM:()=>ut,u3:()=>ya});var c=L(4650),B=L(259),P=L(5861),te=L(9681),re=L(2090),se=L(4859),fe=L(1877),ce=L(8766);const he="@firebase/installations",H="0.6.4",z=1e4,q=`w:${H}`,Ve="FIS_v2",De="https://firebaseinstallations.googleapis.com/v1",ze=36e5,we=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Pe(E){return E instanceof re.ZR&&E.code.includes("request-failed")}function Ae({projectId:E}){return`${De}/projects/${E}/installations`}function xe(E){return{token:E.token,requestStatus:2,expiresIn:je(E.expiresIn),creationTime:Date.now()}}function be(E,D){return $e.apply(this,arguments)}function $e(){return($e=(0,P.Z)(function*(E,D){const V=(yield D.json()).error;return we.create("request-failed",{requestName:E,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function K({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function ge(E){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,P.Z)(function*(E){const D=yield E();return D.status>=500&&D.status<600?E():D})).apply(this,arguments)}function je(E){return Number(E.replace("s","000"))}function ie(){return(ie=(0,P.Z)(function*({appConfig:E,heartbeatServiceProvider:D},{fid:M}){const V=Ae(E),W=K(E),ne=D.getImmediate({optional:!0});if(ne){const vt=yield ne.getHeartbeatsHeader();vt&&W.append("x-firebase-client",vt)}const nt={method:"POST",headers:W,body:JSON.stringify({fid:M,authVersion:Ve,appId:E.appId,sdkVersion:q})},ot=yield ge(()=>fetch(V,nt));if(ot.ok){const vt=yield ot.json();return{fid:vt.fid||M,registrationStatus:2,refreshToken:vt.refreshToken,authToken:xe(vt.authToken)}}throw yield be("Create Installation",ot)})).apply(this,arguments)}function de(E){return new Promise(D=>{setTimeout(D,E)})}const Se=/^[cdef][\w-]{21}$/,ke="";function Le(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const M=function Je(E){return function ve(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Se.test(M)?M:ke}catch{return ke}}function Ye(E){return`${E.appName}!${E.appId}`}const sn=new Map;function mt(E,D){const M=Ye(E);tn(M,D),function Nn(E,D){const M=function on(){return!cn&&"BroadcastChannel"in self&&(cn=new BroadcastChannel("[Firebase] FID Change"),cn.onmessage=E=>{tn(E.data.key,E.data.fid)}),cn}();M&&M.postMessage({key:E,fid:D}),function Qn(){0===sn.size&&cn&&(cn.close(),cn=null)}()}(M,D)}function tn(E,D){const M=sn.get(E);if(M)for(const V of M)V(D)}let cn=null;const Fr="firebase-installations-database",Oi=1,kn="firebase-installations-store";let ri=null;function ii(){return ri||(ri=(0,ce.X3)(Fr,Oi,{upgrade:(E,D)=>{0===D&&E.createObjectStore(kn)}})),ri}function wn(E,D){return tr.apply(this,arguments)}function tr(){return(tr=(0,P.Z)(function*(E,D){const M=Ye(E),W=(yield ii()).transaction(kn,"readwrite"),ne=W.objectStore(kn),Oe=yield ne.get(M);return yield ne.put(D,M),yield W.done,(!Oe||Oe.fid!==D.fid)&&mt(E,D.fid),D})).apply(this,arguments)}function rt(E){return dr.apply(this,arguments)}function dr(){return(dr=(0,P.Z)(function*(E){const D=Ye(E),V=(yield ii()).transaction(kn,"readwrite");yield V.objectStore(kn).delete(D),yield V.done})).apply(this,arguments)}function hr(E,D){return zn.apply(this,arguments)}function zn(){return(zn=(0,P.Z)(function*(E,D){const M=Ye(E),W=(yield ii()).transaction(kn,"readwrite"),ne=W.objectStore(kn),Oe=yield ne.get(M),nt=D(Oe);return void 0===nt?yield ne.delete(M):yield ne.put(nt,M),yield W.done,nt&&(!Oe||Oe.fid!==nt.fid)&&mt(E,nt.fid),nt})).apply(this,arguments)}function Fn(E){return Kr.apply(this,arguments)}function Kr(){return Kr=(0,P.Z)(function*(E){let D;const M=yield hr(E.appConfig,V=>{const W=function xt(E){return Xn(E||{fid:Le(),registrationStatus:0})}(V),ne=function dt(E,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(we.create("app-offline"))};const M={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},V=function Mt(E,D){return En.apply(this,arguments)}(E,M);return{installationEntry:M,registrationPromise:V}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Sn(E)}:{installationEntry:D}}(E,W);return D=ne.registrationPromise,ne.installationEntry});return M.fid===ke?{installationEntry:yield D}:{installationEntry:M,registrationPromise:D}}),Kr.apply(this,arguments)}function En(){return En=(0,P.Z)(function*(E,D){try{const M=yield function Xe(E,D){return ie.apply(this,arguments)}(E,D);return wn(E.appConfig,M)}catch(M){throw Pe(M)&&409===M.customData.serverCode?yield rt(E.appConfig):yield wn(E.appConfig,{fid:D.fid,registrationStatus:0}),M}}),En.apply(this,arguments)}function Sn(E){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,P.Z)(function*(E){let D=yield fr(E.appConfig);for(;1===D.registrationStatus;)yield de(100),D=yield fr(E.appConfig);if(0===D.registrationStatus){const{installationEntry:M,registrationPromise:V}=yield Fn(E);return V||M}return D})).apply(this,arguments)}function fr(E){return hr(E,D=>{if(!D)throw we.create("installation-not-found");return Xn(D)})}function Xn(E){return function gi(E){return 1===E.registrationStatus&&E.registrationTime+z<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function mi(){return(mi=(0,P.Z)(function*({appConfig:E,heartbeatServiceProvider:D},M){const V=function Gt(E,{fid:D}){return`${Ae(E)}/${D}/authTokens:generate`}(E,M),W=function oe(E,{refreshToken:D}){const M=K(E);return M.append("Authorization",function Et(E){return`${Ve} ${E}`}(D)),M}(E,M),ne=D.getImmediate({optional:!0});if(ne){const vt=yield ne.getHeartbeatsHeader();vt&&W.append("x-firebase-client",vt)}const nt={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:q,appId:E.appId}})},ot=yield ge(()=>fetch(V,nt));if(ot.ok)return xe(yield ot.json());throw yield be("Generate Auth Token",ot)})).apply(this,arguments)}function Lr(E){return Ln.apply(this,arguments)}function Ln(){return Ln=(0,P.Z)(function*(E,D=!1){let M;const V=yield hr(E.appConfig,ne=>{if(!Yt(ne))throw we.create("not-registered");const Oe=ne.authToken;if(!D&&function Vn(E){return 2===E.requestStatus&&!function $(E){const D=Date.now();return D<E.creationTime||E.creationTime+E.expiresIn<D+ze}(E)}(Oe))return ne;if(1===Oe.requestStatus)return M=function Ue(E,D){return _e.apply(this,arguments)}(E,D),ne;{if(!navigator.onLine)throw we.create("app-offline");const nt=function j(E){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:D})}(ne);return M=function yt(E,D){return At.apply(this,arguments)}(E,nt),nt}});return M?yield M:V.authToken}),Ln.apply(this,arguments)}function _e(){return(_e=(0,P.Z)(function*(E,D){let M=yield tt(E.appConfig);for(;1===M.authToken.requestStatus;)yield de(100),M=yield tt(E.appConfig);const V=M.authToken;return 0===V.requestStatus?Lr(E,D):V})).apply(this,arguments)}function tt(E){return hr(E,D=>{if(!Yt(D))throw we.create("not-registered");return function R(E){return 1===E.requestStatus&&E.requestTime+z<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function At(){return At=(0,P.Z)(function*(E,D){try{const M=yield function Vt(E,D){return mi.apply(this,arguments)}(E,D),V=Object.assign(Object.assign({},D),{authToken:M});return yield wn(E.appConfig,V),M}catch(M){if(!Pe(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const V=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield wn(E.appConfig,V)}else yield rt(E.appConfig);throw M}}),At.apply(this,arguments)}function Yt(E){return void 0!==E&&2===E.registrationStatus}function O(){return(O=(0,P.Z)(function*(E){const D=E,{installationEntry:M,registrationPromise:V}=yield Fn(D);return V?V.catch(console.error):Lr(D).catch(console.error),M.fid})).apply(this,arguments)}function ae(){return ae=(0,P.Z)(function*(E,D=!1){const M=E;return yield function it(E){return wt.apply(this,arguments)}(M),(yield Lr(M,D)).token}),ae.apply(this,arguments)}function wt(){return(wt=(0,P.Z)(function*(E){const{registrationPromise:D}=yield Fn(E);D&&(yield D)})).apply(this,arguments)}function Ku(E){return we.create("missing-app-config-values",{valueName:E})}const Ga="installations",Go=E=>{const D=E.getProvider("app").getImmediate(),M=function za(E){if(!E||!E.options)throw Ku("App Configuration");if(!E.name)throw Ku("App Name");const D=["projectId","apiKey","appId"];for(const M of D)if(!E.options[M])throw Ku(M);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(D);return{app:D,appConfig:M,heartbeatServiceProvider:(0,te._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Yu=E=>{const D=E.getProvider("app").getImmediate(),M=(0,te._getProvider)(D,Ga).getImmediate();return{getId:()=>function F(E){return O.apply(this,arguments)}(M),getToken:W=>function Y(E){return ae.apply(this,arguments)}(M,W)}};(function Qu(){(0,te._registerComponent)(new se.wA(Ga,Go,"PUBLIC")),(0,te._registerComponent)(new se.wA("installations-internal",Yu,"PRIVATE"))})(),(0,te.registerVersion)(he,H),(0,te.registerVersion)(he,H,"esm2017");const nn="@firebase/remote-config",mr=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _s{constructor(D,M,V,W){this.client=D,this.storage=M,this.storageCache=V,this.logger=W}isCachedDataFresh(D,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-M,W=V<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${W}.`),W}fetch(D){var M=this;return(0,P.Z)(function*(){const[V,W]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(W&&M.isCachedDataFresh(D.cacheMaxAgeMillis,V))return W;D.eTag=W&&W.eTag;const ne=yield M.client.fetch(D),Oe=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&Oe.push(M.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(Oe),ne})()}}function Zi(E=navigator){return E.languages&&E.languages[0]||E.language}class nr{constructor(D,M,V,W,ne,Oe){this.firebaseInstallations=D,this.sdkVersion=M,this.namespace=V,this.projectId=W,this.apiKey=ne,this.appId=Oe}fetch(D){var M=this;return(0,P.Z)(function*(){const[V,W]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Oe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,nt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},ot={sdk_version:M.sdkVersion,app_instance_id:V,app_instance_id_token:W,app_id:M.appId,language_code:Zi()},vt={method:"POST",headers:nt,body:JSON.stringify(ot)},Zt=fetch(Oe,vt),bt=new Promise((Tr,Dn)=>{D.signal.addEventListener(()=>{const Co=new Error("The operation was aborted.");Co.name="AbortError",Dn(Co)})});let Ar;try{yield Promise.race([Zt,bt]),Ar=yield Zt}catch(Tr){let Dn="fetch-client-network";throw"AbortError"===Tr?.name&&(Dn="fetch-timeout"),mr.create(Dn,{originalErrorMessage:Tr?.message})}let yr=Ar.status;const Qs=Ar.headers.get("ETag")||void 0;let Ts,Xr;if(200===Ar.status){let Tr;try{Tr=yield Ar.json()}catch(Dn){throw mr.create("fetch-client-parse",{originalErrorMessage:Dn?.message})}Ts=Tr.entries,Xr=Tr.state}if("INSTANCE_STATE_UNSPECIFIED"===Xr?yr=500:"NO_CHANGE"===Xr?yr=304:("NO_TEMPLATE"===Xr||"EMPTY_CONFIG"===Xr)&&(Ts={}),304!==yr&&200!==yr)throw mr.create("fetch-status",{httpStatus:yr});return{status:yr,eTag:Qs,config:Ts}})()}}class Pt{constructor(D,M){this.client=D,this.storage=M}fetch(D){var M=this;return(0,P.Z)(function*(){const V=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(D,V)})()}attemptFetch(D,{throttleEndTimeMillis:M,backoffCount:V}){var W=this;return(0,P.Z)(function*(){yield function lo(E,D){return new Promise((M,V)=>{const W=Math.max(D-Date.now(),0),ne=setTimeout(M,W);E.addEventListener(()=>{clearTimeout(ne),V(mr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,M);try{const ne=yield W.client.fetch(D);return yield W.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function eh(E){if(!(E instanceof re.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ne))throw ne;const Oe={throttleEndTimeMillis:Date.now()+(0,re.$s)(V),backoffCount:V+1};return yield W.storage.setThrottleMetadata(Oe),W.attemptFetch(D,Oe)}})()}}class hc{constructor(D,M,V,W,ne){this.app=D,this._client=M,this._storageCache=V,this._storage=W,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function qi(E,D){const M=E.target.error||void 0;return mr.create(D,{originalErrorMessage:M&&M?.message})}const Ri="app_namespace_store";class Cr{constructor(D,M,V,W=function Jf(){return new Promise((E,D)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=V=>{D(qi(V,"storage-open"))},M.onsuccess=V=>{E(V.target.result)},M.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(Ri,{keyPath:"compositeKey"})}}catch(M){D(mr.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=D,this.appName=M,this.namespace=V,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var M=this;return(0,P.Z)(function*(){const V=yield M.openDbPromise;return new Promise((W,ne)=>{const nt=V.transaction([Ri],"readonly").objectStore(Ri),ot=M.createCompositeKey(D);try{const vt=nt.get(ot);vt.onerror=Zt=>{ne(qi(Zt,"storage-get"))},vt.onsuccess=Zt=>{const bt=Zt.target.result;W(bt?bt.value:void 0)}}catch(vt){ne(mr.create("storage-get",{originalErrorMessage:vt?.message}))}})})()}set(D,M){var V=this;return(0,P.Z)(function*(){const W=yield V.openDbPromise;return new Promise((ne,Oe)=>{const ot=W.transaction([Ri],"readwrite").objectStore(Ri),vt=V.createCompositeKey(D);try{const Zt=ot.put({compositeKey:vt,value:M});Zt.onerror=bt=>{Oe(qi(bt,"storage-set"))},Zt.onsuccess=()=>{ne()}}catch(Zt){Oe(mr.create("storage-set",{originalErrorMessage:Zt?.message}))}})})()}delete(D){var M=this;return(0,P.Z)(function*(){const V=yield M.openDbPromise;return new Promise((W,ne)=>{const nt=V.transaction([Ri],"readwrite").objectStore(Ri),ot=M.createCompositeKey(D);try{const vt=nt.delete(ot);vt.onerror=Zt=>{ne(qi(Zt,"storage-delete"))},vt.onsuccess=()=>{W()}}catch(vt){ne(mr.create("storage-delete",{originalErrorMessage:vt?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class rr{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,P.Z)(function*(){const M=D.storage.getLastFetchStatus(),V=D.storage.getLastSuccessfulFetchTimestampMillis(),W=D.storage.getActiveConfig(),ne=yield M;ne&&(D.lastFetchStatus=ne);const Oe=yield V;Oe&&(D.lastSuccessfulFetchTimestampMillis=Oe);const nt=yield W;nt&&(D.activeConfig=nt)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function ki(){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,P.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}!function el(){(0,te._registerComponent)(new se.wA("remote-config",function E(D,{instanceIdentifier:M}){const V=D.getProvider("app").getImmediate(),W=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw mr.create("registration-window");if(!(0,re.hl)())throw mr.create("indexed-db-unavailable");const{projectId:ne,apiKey:Oe,appId:nt}=V.options;if(!ne)throw mr.create("registration-project-id");if(!Oe)throw mr.create("registration-api-key");if(!nt)throw mr.create("registration-app-id");const ot=new Cr(nt,V.name,M=M||"firebase"),vt=new rr(ot),Zt=new fe.Yd(nn);Zt.logLevel=fe.in.ERROR;const bt=new nr(W,te.SDK_VERSION,M,ne,Oe,nt),Ar=new Pt(bt,ot),yr=new _s(Ar,ot,vt,Zt),Qs=new hc(V,yr,vt,ot,Zt);return function Gi(E){const D=(0,re.m9)(E);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Qs),Qs},"PUBLIC").setMultipleInstances(!0)),(0,te.registerVersion)(nn,"0.4.4"),(0,te.registerVersion)(nn,"0.4.4","esm2017")}();const Is="/firebase-messaging-sw.js",co="/firebase-cloud-messaging-push-scope",ho="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ep="https://fcmregistrations.googleapis.com/v1",fc="google.c.a.c_id",tp="google.c.a.c_l",np="google.c.a.ts",Ko="google.c.a.e";var Fi=(()=>{return(E=Fi||(Fi={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",Fi;var E})();function Ls(E){const D=new Uint8Array(E);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function rp(E){const M=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(M),W=new Uint8Array(V.length);for(let ne=0;ne<V.length;++ne)W[ne]=V.charCodeAt(ne);return W}const Wa="fcm_token_details_db",si=5,pc="fcm_token_object_Store";function fo(){return fo=(0,P.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(Wa))return null;let D=null;return(yield(0,ce.X3)(Wa,si,{upgrade:(V=(0,P.Z)(function*(W,ne,Oe,nt){var ot;if(ne<2||!W.objectStoreNames.contains(pc))return;const vt=nt.objectStore(pc),Zt=yield vt.index("fcmSenderId").get(E);if(yield vt.clear(),Zt)if(2===ne){const bt=Zt;if(!bt.auth||!bt.p256dh||!bt.endpoint)return;D={token:bt.fcmToken,createTime:null!==(ot=bt.createTime)&&void 0!==ot?ot:Date.now(),subscriptionOptions:{auth:bt.auth,p256dh:bt.p256dh,endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:"string"==typeof bt.vapidKey?bt.vapidKey:Ls(bt.vapidKey)}}}else if(3===ne){const bt=Zt;D={token:bt.fcmToken,createTime:bt.createTime,subscriptionOptions:{auth:Ls(bt.auth),p256dh:Ls(bt.p256dh),endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:Ls(bt.vapidKey)}}}else if(4===ne){const bt=Zt;D={token:bt.fcmToken,createTime:bt.createTime,subscriptionOptions:{auth:Ls(bt.auth),p256dh:Ls(bt.p256dh),endpoint:bt.endpoint,swScope:bt.swScope,vapidKey:Ls(bt.vapidKey)}}}}),function(ne,Oe,nt,ot){return V.apply(this,arguments)})})).close(),yield(0,ce.Lj)(Wa),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),function mc(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:D}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var V}),fo.apply(this,arguments)}const yc="firebase-messaging-database",ip=1,oi="firebase-messaging-store";let Ka=null;function Vs(){return Ka||(Ka=(0,ce.X3)(yc,ip,{upgrade:(E,D)=>{0===D&&E.createObjectStore(oi)}})),Ka}function Yo(E){return Us.apply(this,arguments)}function Us(){return Us=(0,P.Z)(function*(E){const D=Wi(E),V=yield(yield Vs()).transaction(oi).objectStore(oi).get(D);if(V)return V;{const W=yield function gc(E){return fo.apply(this,arguments)}(E.appConfig.senderId);if(W)return yield Qo(E,W),W}}),Us.apply(this,arguments)}function Qo(E,D){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,P.Z)(function*(E,D){const M=Wi(E),W=(yield Vs()).transaction(oi,"readwrite");return yield W.objectStore(oi).put(D,M),yield W.done,D})).apply(this,arguments)}function tl(){return(tl=(0,P.Z)(function*(E){const D=Wi(E),V=(yield Vs()).transaction(oi,"readwrite");yield V.objectStore(oi).delete(D),yield V.done})).apply(this,arguments)}function Wi({appConfig:E}){return E.appId}const an=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function rl(E,D){return po.apply(this,arguments)}function po(){return(po=(0,P.Z)(function*(E,D){const M=yield Jo(E),V=sr(D),W={method:"POST",headers:M,body:JSON.stringify(V)};let ne;try{ne=yield(yield fetch(il(E.appConfig),W)).json()}catch(Oe){throw an.create("token-subscribe-failed",{errorInfo:Oe?.toString()})}if(ne.error)throw an.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw an.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function Xo(){return(Xo=(0,P.Z)(function*(E,D){const M=yield Jo(E),V=sr(D.subscriptionOptions),W={method:"PATCH",headers:M,body:JSON.stringify(V)};let ne;try{ne=yield(yield fetch(`${il(E.appConfig)}/${D.token}`,W)).json()}catch(Oe){throw an.create("token-update-failed",{errorInfo:Oe?.toString()})}if(ne.error)throw an.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw an.create("token-update-no-token");return ne.token})).apply(this,arguments)}function bs(E,D){return ir.apply(this,arguments)}function ir(){return(ir=(0,P.Z)(function*(E,D){const V={method:"DELETE",headers:yield Jo(E)};try{const ne=yield(yield fetch(`${il(E.appConfig)}/${D}`,V)).json();if(ne.error)throw an.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(W){throw an.create("token-unsubscribe-failed",{errorInfo:W?.toString()})}})).apply(this,arguments)}function il({projectId:E}){return`${ep}/projects/${E}/registrations`}function Jo(E){return ai.apply(this,arguments)}function ai(){return(ai=(0,P.Z)(function*({appConfig:E,installations:D}){const M=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function sr({p256dh:E,auth:D,endpoint:M,vapidKey:V}){const W={web:{endpoint:M,auth:D,p256dh:E}};return V!==ho&&(W.web.applicationPubKey=V),W}const sl=6048e5;function vc(){return vc=(0,P.Z)(function*(E){const D=yield function al(E,D){return ul.apply(this,arguments)}(E.swRegistration,E.vapidKey),M={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:D.endpoint,auth:Ls(D.getKey("auth")),p256dh:Ls(D.getKey("p256dh"))},V=yield Yo(E.firebaseDependencies);if(V){if(function ll(E,D){return D.vapidKey===E.vapidKey&&D.endpoint===E.endpoint&&D.auth===E.auth&&D.p256dh===E.p256dh}(V.subscriptionOptions,M))return Date.now()>=V.createTime+sl?function ea(E,D){return Ot.apply(this,arguments)}(E,{token:V.token,createTime:Date.now(),subscriptionOptions:M}):V.token;try{yield bs(E.firebaseDependencies,V.token)}catch(W){console.warn(W)}return Ja(E.firebaseDependencies,M)}return Ja(E.firebaseDependencies,M)}),vc.apply(this,arguments)}function Xa(){return Xa=(0,P.Z)(function*(E){const D=yield Yo(E.firebaseDependencies);D&&(yield bs(E.firebaseDependencies,D.token),yield function Qa(E){return tl.apply(this,arguments)}(E.firebaseDependencies));const M=yield E.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),Xa.apply(this,arguments)}function Ot(){return Ot=(0,P.Z)(function*(E,D){try{const M=yield function xn(E,D){return Xo.apply(this,arguments)}(E.firebaseDependencies,D),V=Object.assign(Object.assign({},D),{token:M,createTime:Date.now()});return yield Qo(E.firebaseDependencies,V),M}catch(M){throw yield function yi(E){return Xa.apply(this,arguments)}(E),M}}),Ot.apply(this,arguments)}function Ja(E,D){return ol.apply(this,arguments)}function ol(){return(ol=(0,P.Z)(function*(E,D){const V={token:yield rl(E,D),createTime:Date.now(),subscriptionOptions:D};return yield Qo(E,V),V.token})).apply(this,arguments)}function ul(){return(ul=(0,P.Z)(function*(E,D){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rp(D)})})).apply(this,arguments)}function _c(E){const D={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function cl(E,D){if(!D.notification)return;E.notification={};const M=D.notification.title;M&&(E.notification.title=M);const V=D.notification.body;V&&(E.notification.body=V);const W=D.notification.image;W&&(E.notification.image=W);const ne=D.notification.icon;ne&&(E.notification.icon=ne)}(D,E),function On(E,D){D.data&&(E.data=D.data)}(D,E),function Te(E,D){var M,V,W,ne,Oe;if(!(D.fcmOptions||null!==(M=D.notification)&&void 0!==M&&M.click_action))return;E.fcmOptions={};const nt=null!==(W=null===(V=D.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==W?W:null===(ne=D.notification)||void 0===ne?void 0:ne.click_action;nt&&(E.fcmOptions.link=nt);const ot=null===(Oe=D.fcmOptions)||void 0===Oe?void 0:Oe.analytics_label;ot&&(E.fcmOptions.analyticsLabel=ot)}(D,E),D}function wc(E,D){const M=[];for(let V=0;V<E.length;V++)M.push(E.charAt(V)),V<D.length&&M.push(D.charAt(V));return M.join("")}function Bn(E){return an.create("missing-app-config-values",{valueName:E})}wc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),wc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class rh{constructor(D,M,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function nh(E){if(!E||!E.options)throw Bn("App Configuration Object");if(!E.name)throw Bn("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:M}=E;for(const V of D)if(!M[V])throw Bn(V);return{appName:E.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:W,installations:M,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Es(E){return vi.apply(this,arguments)}function vi(){return(vi=(0,P.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Is,{scope:co}),E.swRegistration.update().catch(()=>{})}catch(D){throw an.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function tu(){return(tu=(0,P.Z)(function*(E,D){if(!D&&!E.swRegistration&&(yield Es(E)),D||!E.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw an.create("invalid-sw-registration");E.swRegistration=D}})).apply(this,arguments)}function Ic(){return(Ic=(0,P.Z)(function*(E,D){D?E.vapidKey=D:E.vapidKey||(E.vapidKey=ho)})).apply(this,arguments)}function Zn(){return Zn=(0,P.Z)(function*(E,D){if(!navigator)throw an.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw an.create("permission-blocked");return yield function nu(E,D){return Ic.apply(this,arguments)}(E,D?.vapidKey),yield function eu(E,D){return tu.apply(this,arguments)}(E,D?.serviceWorkerRegistration),function Bs(E){return vc.apply(this,arguments)}(E)}),Zn.apply(this,arguments)}function dl(){return(dl=(0,P.Z)(function*(E,D,M){const V=function js(E){switch(E){case Fi.NOTIFICATION_CLICKED:return"notification_open";case Fi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:M[fc],message_name:M[tp],message_time:M[np],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ru(){return ru=(0,P.Z)(function*(E,D){const M=D.data;if(!M.isFirebaseMessaging)return;E.onMessageHandler&&M.messageType===Fi.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(_c(M)):E.onMessageHandler.next(_c(M)));const V=M.data;(function Xt(E){return"object"==typeof E&&!!E&&fc in E})(V)&&"1"===V[Ko]&&(yield function Dr(E,D,M){return dl.apply(this,arguments)}(E,M.messageType,V))}),ru.apply(this,arguments)}const hl="@firebase/messaging",ih=E=>{const D=new rh(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Li(E,D){return ru.apply(this,arguments)}(D,M)),D},Ki=E=>{const D=E.getProvider("messaging").getImmediate();return{getToken:V=>function ta(E,D){return Zn.apply(this,arguments)}(D,V)}};function bc(){return iu.apply(this,arguments)}function iu(){return(iu=(0,P.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function pl(){(0,te._registerComponent)(new se.wA("messaging",ih,"PUBLIC")),(0,te._registerComponent)(new se.wA("messaging-internal",Ki,"PRIVATE")),(0,te.registerVersion)(hl,"0.12.4"),(0,te.registerVersion)(hl,"0.12.4","esm2017")}();const Cc="analytics",ap="firebase_id",jr="origin",Cs=6e4,hn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",su="https://www.googletagmanager.com/gtag/js",or=new fe.Yd("@firebase/analytics"),Qr=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Em(E){if(!E.startsWith(su)){const D=Qr.create("invalid-gtag-resource",{gtagURL:E});return or.warn(D.message),""}return E}function oh(E){return Promise.all(E.map(D=>D.catch(M=>M)))}function _i(){return(_i=(0,P.Z)(function*(E,D,M,V,W,ne){const Oe=V[W];try{if(Oe)yield D[Oe];else{const ot=(yield oh(M)).find(vt=>vt.measurementId===W);ot&&(yield D[ot.appId])}}catch(nt){or.error(nt)}E("config",W,ne)})).apply(this,arguments)}function wi(){return(wi=(0,P.Z)(function*(E,D,M,V,W){try{let ne=[];if(W&&W.send_to){let Oe=W.send_to;Array.isArray(Oe)||(Oe=[Oe]);const nt=yield oh(M);for(const ot of Oe){const vt=nt.find(bt=>bt.measurementId===ot),Zt=vt&&D[vt.appId];if(!Zt){ne=[];break}ne.push(Zt)}}0===ne.length&&(ne=Object.values(D)),yield Promise.all(ne),E("event",V,W||{})}catch(ne){or.error(ne)}})).apply(this,arguments)}const ou=30,sa=new class vl{constructor(D={},M=1e3){this.throttleMetadata=D,this.intervalMillis=M}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,M){this.throttleMetadata[D]=M}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function _l(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function mo(){return(mo=(0,P.Z)(function*(E){var D;const{appId:M,apiKey:V}=E,W={method:"GET",headers:_l(V)},ne=hn.replace("{app-id}",M),Oe=yield fetch(ne,W);if(200!==Oe.status&&304!==Oe.status){let nt="";try{const ot=yield Oe.json();null!==(D=ot.error)&&void 0!==D&&D.message&&(nt=ot.error.message)}catch{}throw Qr.create("config-fetch-failed",{httpStatus:Oe.status,responseMessage:nt})}return Oe.json()})).apply(this,arguments)}function yo(){return(yo=(0,P.Z)(function*(E,D=sa,M){const{appId:V,apiKey:W,measurementId:ne}=E.options;if(!V)throw Qr.create("no-app-id");if(!W){if(ne)return{measurementId:ne,appId:V};throw Qr.create("no-api-key")}const Oe=D.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nt=new ah;return setTimeout((0,P.Z)(function*(){nt.abort()}),void 0!==M?M:Cs),Vi({appId:V,apiKey:W,measurementId:ne},Oe,nt,D)})).apply(this,arguments)}function Vi(E,D,M){return aa.apply(this,arguments)}function aa(){return aa=(0,P.Z)(function*(E,{throttleEndTimeMillis:D,backoffCount:M},V,W=sa){var ne;const{appId:Oe,measurementId:nt}=E;try{yield function ua(E,D){return new Promise((M,V)=>{const W=Math.max(D-Date.now(),0),ne=setTimeout(M,W);E.addEventListener(()=>{clearTimeout(ne),V(Qr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(V,D)}catch(ot){if(nt)return or.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nt} provided in the "measurementId" field in the local Firebase config. [${ot?.message}]`),{appId:Oe,measurementId:nt};throw ot}try{const ot=yield function oa(E){return mo.apply(this,arguments)}(E);return W.deleteThrottleMetadata(Oe),ot}catch(ot){const vt=ot;if(!function au(E){if(!(E instanceof re.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}(vt)){if(W.deleteThrottleMetadata(Oe),nt)return or.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nt} provided in the "measurementId" field in the local Firebase config. [${vt?.message}]`),{appId:Oe,measurementId:nt};throw ot}const Zt=503===Number(null===(ne=vt?.customData)||void 0===ne?void 0:ne.httpStatus)?(0,re.$s)(M,W.intervalMillis,ou):(0,re.$s)(M,W.intervalMillis),bt={throttleEndTimeMillis:Date.now()+Zt,backoffCount:M+1};return W.setThrottleMetadata(Oe,bt),or.debug(`Calling attemptFetch again in ${Zt} millis`),Vi(E,bt,V,W)}}),aa.apply(this,arguments)}class ah{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let $s,wo;function Yi(){return(Yi=(0,P.Z)(function*(E,D,M,V,W){if(W&&W.global)E("event",M,V);else{const ne=yield D;E("event",M,Object.assign(Object.assign({},V),{send_to:ne}))}})).apply(this,arguments)}function cu(){return(cu=(0,P.Z)(function*(){if(!(0,re.hl)())return or.warn(Qr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(E){return or.warn(Qr.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function du(){return du=(0,P.Z)(function*(E,D,M,V,W,ne,Oe){var nt;const ot=function Cn(E){return yo.apply(this,arguments)}(E);ot.then(yr=>{M[yr.measurementId]=yr.appId,E.options.measurementId&&yr.measurementId!==E.options.measurementId&&or.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${yr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(yr=>or.error(yr)),D.push(ot);const vt=function lh(){return cu.apply(this,arguments)}().then(yr=>{if(yr)return V.getId()}),[Zt,bt]=yield Promise.all([ot,vt]);(function Cm(E){const D=window.document.getElementsByTagName("script");for(const M of Object.values(D))if(M.src&&M.src.includes(su)&&M.src.includes(E))return M;return null})(ne)||function na(E,D){const M=function yl(E,D){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(E,D)),M}("firebase-js-sdk-policy",{createScriptURL:Em}),V=document.createElement("script"),W=`${su}?l=${E}&id=${D}`;V.src=M?M?.createScriptURL(W):W,V.async=!0,document.head.appendChild(V)}(ne,Zt.measurementId),wo&&(W("consent","default",wo),function zs(E){wo=E}(void 0)),W("js",new Date);const Ar=null!==(nt=Oe?.config)&&void 0!==nt?nt:{};return Ar[jr]="firebase",Ar.update=!0,null!=bt&&(Ar[ap]=bt),W("config",Zt.measurementId,Ar),$s&&(W("set",$s),function ca(E){$s=E}(void 0)),Zt.measurementId}),du.apply(this,arguments)}class Tc{constructor(D){this.app=D}_delete(){return delete Ii[this.app.options.appId],Promise.resolve()}}let Ii={},hu=[];const Xi={};let fu,Hr,da="dataLayer",Il="gtag",bl=!1;function Sc(E,D,M){!function El(){const E=[];if((0,re.ru)()&&E.push("This is a browser extension environment."),(0,re.zI)()||E.push("Cookies are not available."),E.length>0){const D=E.map((V,W)=>`(${W+1}) ${V}`).join(" "),M=Qr.create("invalid-analytics-context",{errorInfo:D});or.warn(M.message)}}();const V=E.options.appId;if(!V)throw Qr.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Qr.create("no-api-key");or.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ii[V])throw Qr.create("already-exists",{id:V});if(!bl){!function go(E){let D=[];Array.isArray(window[E])?D=window[E]:window[E]=D}(da);const{wrappedGtag:ne,gtagCore:Oe}=function Ac(E,D,M,V,W){let ne=function(...Oe){window[V].push(arguments)};return window[W]&&"function"==typeof window[W]&&(ne=window[W]),window[W]=function ia(E,D,M,V){function ne(){return ne=(0,P.Z)(function*(Oe,nt,ot){try{"event"===Oe?yield function Dc(E,D,M,V,W){return wi.apply(this,arguments)}(E,D,M,nt,ot):"config"===Oe?yield function ra(E,D,M,V,W,ne){return _i.apply(this,arguments)}(E,D,M,V,nt,ot):"consent"===Oe?E("consent","update",ot):E("set",nt)}catch(vt){or.error(vt)}}),ne.apply(this,arguments)}return function W(Oe,nt,ot){return ne.apply(this,arguments)}}(ne,E,D,M),{gtagCore:ne,wrappedGtag:window[W]}}(Ii,hu,Xi,da,Il);Hr=ne,fu=Oe,bl=!0}return Ii[V]=function wl(E,D,M,V,W,ne,Oe){return du.apply(this,arguments)}(E,hu,Xi,D,fu,da,M),new Tc(E)}function bo(){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,P.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const Cl="@firebase/analytics";!function Al(){(0,te._registerComponent)(new se.wA(Cc,(D,{options:M})=>Sc(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,te._registerComponent)(new se.wA("analytics-internal",function E(D){try{const M=D.getProvider(Cc).getImmediate();return{logEvent:(V,W,ne)=>function Ds(E,D,M,V){E=(0,re.m9)(E),function uu(E,D,M,V,W){return Yi.apply(this,arguments)}(Hr,Ii[E.app.options.appId],D,M,V).catch(W=>or.error(W))}(M,V,W,ne)}}catch(M){throw Qr.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,te.registerVersion)(Cl,"0.9.5"),(0,te.registerVersion)(Cl,"0.9.5","esm2017")}();var Am=L(4408),Tm=L(7565);const qs=new class Oc extends Tm.v{}(class ch extends Am.o{constructor(D,M){super(D,M),this.scheduler=D,this.work=M}schedule(D,M=0){return M>0?super.schedule(D,M):(this.delay=M,this.state=D,this.scheduler.flush(this),this)}execute(D,M){return M>0||this.closed?super.execute(D,M):this._execute(D,M)}requestAsyncId(D,M,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(D,M,V):(D.flush(this),0)}});var Sm=L(4986),Pn=L(9751),Pc=L(8505),ui=L(9468),Tl=L(5363);const bi=new c.GfV("7.5.0"),As="__angularfire_symbol__analyticsIsSupportedValue",Sl="__angularfire_symbol__analyticsIsSupported",Ws="__angularfire_symbol__remoteConfigIsSupportedValue",Ks="__angularfire_symbol__remoteConfigIsSupported",Rc="__angularfire_symbol__messagingIsSupportedValue",dh="__angularfire_symbol__messagingIsSupported";function ut(E,D,M){if(D){if(1===D.length)return D[0];const ne=D.filter(Oe=>Oe.app===M);if(1===ne.length)return ne[0]}return M.container.getProvider(E).getImmediate({optional:!0})}globalThis[Sl]||(globalThis[Sl]=bo().then(E=>globalThis[As]=E).catch(()=>globalThis[As]=!1)),globalThis[dh]||(globalThis[dh]=bc().then(E=>globalThis[Rc]=E).catch(()=>globalThis[Rc]=!1)),globalThis[Ks]||(globalThis[Ks]=ki().then(E=>globalThis[Ws]=E).catch(()=>globalThis[Ws]=!1));const Ji=(E,D)=>{const M=D?[D]:(0,B.C6)(),V=[];return M.forEach(W=>{W.container.getProvider(E).instances.forEach(Oe=>{V.includes(Oe)||V.push(Oe)})}),V};function ar(){}class Eo{constructor(D,M=qs){this.zone=D,this.delegate=M}now(){return this.delegate.now()}schedule(D,M,V){const W=this.zone;return this.delegate.schedule(function(Oe){W.runGuarded(()=>{D.apply(this,[Oe])})},M,V)}}class pu{constructor(D){this.zone=D,this.task=null}call(D,M){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ar,{},ar,ar)),M.pipe((0,Pc.b)({next:V,complete:V,error:V})).subscribe(D).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let es=(()=>{class E{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Eo(Zone.current)),this.insideAngular=M.run(()=>new Eo(Zone.current,Sm.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(M){return new(M||E)(c.LFG(c.R0b))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function ts(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function ns(E){return ts().ngZone.run(()=>E())}function ma(E){return ts(),function Ui(E){return function(M){return(M=M.lift(new pu(E.ngZone))).pipe((0,ui.R)(E.outsideAngular),(0,Tl.Q)(E.insideAngular))}}(ts())(E)}const Ct=(E,D)=>function(){const V=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),ns(()=>E.apply(void 0,V))},ya=(E,D)=>function(){let M;const V=arguments;for(let ne=0;ne<arguments.length;ne++)"function"==typeof V[ne]&&(D&&(M||(M=ns(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ar,{},ar,ar)))),V[ne]=Ct(V[ne],M));const W=function Ml(E){return ts().ngZone.runOutsideAngular(()=>E())}(()=>E.apply(this,V));if(!D){if(W instanceof Pn.y){const ne=ts();return W.pipe((0,ui.R)(ne.outsideAngular),(0,Tl.Q)(ne.insideAngular))}return ns(()=>W)}return W instanceof Pn.y?W.pipe(ma):W instanceof Promise?ns(()=>new Promise((ne,Oe)=>W.then(nt=>ns(()=>ne(nt)),nt=>ns(()=>Oe(nt))))):"function"==typeof W&&M?function(){return setTimeout(()=>{M&&"scheduled"===M.state&&M.invoke()},10),W.apply(this,arguments)}:ns(()=>W)}},3432:(ht,Ce,L)=>{L.d(Ce,{$:()=>rl,A:()=>z,C:()=>De,H:()=>Yu,I:()=>Yr,K:()=>Pt,M:()=>Vn,N:()=>Wo,P:()=>Pc,Q:()=>ep,R:()=>Ds,U:()=>fc,V:()=>tp,W:()=>ho,X:()=>Fi,Y:()=>Ls,Z:()=>gc,_:()=>nl,a:()=>vl,a0:()=>xn,a1:()=>il,a2:()=>vc,a3:()=>Xa,a4:()=>Ot,a5:()=>ol,a6:()=>ul,a7:()=>_c,a8:()=>On,a9:()=>Te,aA:()=>Qs,aB:()=>je,aC:()=>$,aD:()=>vt,aE:()=>ga,aF:()=>Nc,aG:()=>pr,aK:()=>oa,aN:()=>Ko,aa:()=>wc,ab:()=>nh,ac:()=>vi,ad:()=>tu,ae:()=>Ic,ah:()=>dl,ai:()=>Li,aj:()=>ru,am:()=>oi,an:()=>Ec,ap:()=>or,aq:()=>ra,ar:()=>ge,as:()=>qt,at:()=>it,au:()=>Pe,av:()=>Lc,aw:()=>Dn,ax:()=>It,ay:()=>Ae,az:()=>K,b:()=>ou,c:()=>dh,d:()=>Ys,e:()=>B_,f:()=>Ct,g:()=>W,h:()=>D,i:()=>wl,j:()=>nt,k:()=>Xs,l:()=>Am,m:()=>yh,p:()=>ce,r:()=>Tm,s:()=>Dl,u:()=>Sm});var c=L(5861),B=L(2090),P=L(9681),te=L(1877),re=L(655),se=L(4859);const ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const De=function q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ze=function Ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},st=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ie=new te.Yd("@firebase/auth");function we(v,...p){Ie.logLevel<=te.in.ERROR&&Ie.error(`Auth (${P.SDK_VERSION}): ${v}`,...p)}function Pe(v,...p){throw $e(v,...p)}function Ae(v,...p){return $e(v,...p)}function xe(v,p,g){const w=Object.assign(Object.assign({},ze()),{[p]:g});return new B.LL("auth","Firebase",w).create(p,{appName:v.name})}function be(v,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Pe(v,"argument-error"),xe(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(v,...p){if("string"!=typeof v){const g=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(g,...w)}return st.create(v,...p)}function K(v,p,...g){if(!v)throw $e(p,...g)}function oe(v){const p="INTERNAL ASSERTION FAILED: "+v;throw we(p),new Error(p)}function ge(v,p){v||oe(p)}const Ge=new Map;function je(v){ge(v instanceof Function,"Expected a class definition");let p=Ge.get(v);return p?(ge(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,Ge.set(v,p),p)}function ie(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function de(){return"http:"===ve()||"https:"===ve()}function ve(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Le{constructor(p,g){this.shortDelay=p,this.longDelay=g,ge(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Se(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(de()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Je(v,p){ge(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Ye{static initialize(p,g,w){this.fetchImpl=p,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void oe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void oe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void oe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},mt=new Le(3e4,6e4);function ct(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function et(v,p,g,w){return tn.apply(this,arguments)}function tn(){return(tn=(0,c.Z)(function*(v,p,g,w,S={}){return Nn(v,S,(0,c.Z)(function*(){let k={},Q={};w&&("GET"===p?Q=w:k={body:JSON.stringify(w)});const Ee=(0,B.xO)(Object.assign({key:v.config.apiKey},Q)).slice(1),We=yield v._getAdditionalHeaders();return We["Content-Type"]="application/json",v.languageCode&&(We["X-Firebase-Locale"]=v.languageCode),Ye.fetch()(Fr(v,v.config.apiHost,g,Ee),Object.assign({method:p,headers:We,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function Nn(v,p,g){return cn.apply(this,arguments)}function cn(){return(cn=(0,c.Z)(function*(v,p,g){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},sn),p);try{const S=new Oi(v),k=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const Q=yield k.json();if("needConfirmation"in Q)throw kn(v,"account-exists-with-different-credential",Q);if(k.ok&&!("errorMessage"in Q))return Q;{const Ee=k.ok?Q.errorMessage:Q.error.message,[We,ft]=Ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===We)throw kn(v,"credential-already-in-use",Q);if("EMAIL_EXISTS"===We)throw kn(v,"email-already-in-use",Q);if("USER_DISABLED"===We)throw kn(v,"user-disabled",Q);const Ht=w[We]||We.toLowerCase().replace(/[_\s]+/g,"-");if(ft)throw xe(v,Ht,ft);Pe(v,Ht)}}catch(S){if(S instanceof B.ZR)throw S;Pe(v,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function on(v,p,g,w){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,c.Z)(function*(v,p,g,w,S={}){const k=yield et(v,p,g,w,S);return"mfaPendingCredential"in k&&Pe(v,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function Fr(v,p,g,w){const S=`${p}${g}?${w}`;return v.config.emulator?Je(v.config,S):`${v.config.apiScheme}://${S}`}class Oi{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(Ae(this.auth,"network-request-failed")),mt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kn(v,p,g){const w={appName:v.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const S=Ae(v,p,w);return S.customData._tokenResponse=g,S}function ii(){return(ii=(0,c.Z)(function*(v,p){return et(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function tr(){return(tr=(0,c.Z)(function*(v,p){return et(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function dr(){return(dr=(0,c.Z)(function*(v,p){return et(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function hr(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Kr(){return(Kr=(0,c.Z)(function*(v,p=!1){const g=(0,B.m9)(v),w=yield g.getIdToken(p),S=dt(w);K(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const k="object"==typeof S.firebase?S.firebase:void 0,Q=k?.sign_in_provider;return{claims:S,token:w,authTime:hr(xt(S.auth_time)),issuedAtTime:hr(xt(S.iat)),expirationTime:hr(xt(S.exp)),signInProvider:Q||null,signInSecondFactor:k?.sign_in_second_factor||null}})).apply(this,arguments)}function xt(v){return 1e3*Number(v)}function dt(v){const[p,g,w]=v.split(".");if(void 0===p||void 0===g||void 0===w)return we("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,B.tV)(g);return S?JSON.parse(S):(we("Failed to decode base64 JWT payload"),null)}catch(S){return we("Caught error parsing JWT payload as JSON",S?.toString()),null}}function En(v,p){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,c.Z)(function*(v,p,g=!1){if(g)return p;try{return yield p}catch(w){throw w instanceof B.ZR&&function Gn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}class fr{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),w)}iteration(){var p=this;return(0,c.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class Xn{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=hr(this.lastLoginAt),this.creationTime=hr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function gi(v){return Vt.apply(this,arguments)}function Vt(){return Vt=(0,c.Z)(function*(v){var p;const g=v.auth,w=yield v.getIdToken(),S=yield En(v,function rt(v,p){return dr.apply(this,arguments)}(g,{idToken:w}));K(S?.users.length,g,"internal-error");const k=S.users[0];v._notifyReloadListener(k);const Q=null!==(p=k.providerUserInfo)&&void 0!==p&&p.length?function Ln(v){return v.map(p=>{var{providerId:g}=p,w=(0,re._T)(p,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(k.providerUserInfo):[],Ee=function Lr(v,p){return[...v.filter(w=>!p.some(S=>S.providerId===w.providerId)),...p]}(v.providerData,Q),Ht=!!v.isAnonymous&&!(v.email&&k.passwordHash||Ee?.length),Tn={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:Ee,metadata:new Xn(k.createdAt,k.lastLoginAt),isAnonymous:Ht};Object.assign(v,Tn)}),Vt.apply(this,arguments)}function Gt(){return(Gt=(0,c.Z)(function*(v){const p=(0,B.m9)(v);yield gi(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function _e(){return(_e=(0,c.Z)(function*(v,p){const g=yield Nn(v,{},(0,c.Z)(function*(){const w=(0,B.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:k}=v.config,Q=Fr(v,S,"/v1/token",`key=${k}`),Ee=yield v._getAdditionalHeaders();return Ee["Content-Type"]="application/x-www-form-urlencoded",Ye.fetch()(Q,{method:"POST",headers:Ee,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class tt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){K(p.idToken,"internal-error"),K(typeof p.idToken<"u","internal-error"),K(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Mt(v){const p=dt(v);return K(p,"internal-error"),K(typeof p.exp<"u","internal-error"),K(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var w=this;return(0,c.Z)(function*(){return K(!w.accessToken||w.refreshToken,p,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var w=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:k,expiresIn:Q}=yield function Ue(v,p){return _e.apply(this,arguments)}(p,g);w.updateTokensAndExpiration(S,k,Number(Q))})()}updateTokensAndExpiration(p,g,w){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,g){const{refreshToken:w,accessToken:S,expirationTime:k}=g,Q=new tt;return w&&(K("string"==typeof w,"internal-error",{appName:p}),Q.refreshToken=w),S&&(K("string"==typeof S,"internal-error",{appName:p}),Q.accessToken=S),k&&(K("number"==typeof k,"internal-error",{appName:p}),Q.expirationTime=k),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new tt,this.toJSON())}_performRefresh(){return oe("not implemented")}}function yt(v,p){K("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class At{constructor(p){var{uid:g,auth:w,stsTokenManager:S}=p,k=(0,re._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new Xn(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,c.Z)(function*(){const w=yield En(g,g.stsTokenManager.getToken(g.auth,p));return K(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(p){return function Fn(v){return Kr.apply(this,arguments)}(this,p)}reload(){return function mi(v){return Gt.apply(this,arguments)}(this)}_assign(p){this!==p&&(K(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const g=new At(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(p){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var w=this;return(0,c.Z)(function*(){let S=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),S=!0),g&&(yield gi(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,c.Z)(function*(){const g=yield p.getIdToken();return yield En(p,function ri(v,p){return ii.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var w,S,k,Q,Ee,We,ft,Ht;const Tn=null!==(w=g.displayName)&&void 0!==w?w:void 0,ji=null!==(S=g.email)&&void 0!==S?S:void 0,To=null!==(k=g.phoneNumber)&&void 0!==k?k:void 0,Ea=null!==(Q=g.photoURL)&&void 0!==Q?Q:void 0,yp=null!==(Ee=g.tenantId)&&void 0!==Ee?Ee:void 0,wh=null!==(We=g._redirectEventId)&&void 0!==We?We:void 0,vp=null!==(ft=g.createdAt)&&void 0!==ft?ft:void 0,_p=null!==(Ht=g.lastLoginAt)&&void 0!==Ht?Ht:void 0,{uid:Uc,emailVerified:yu,isAnonymous:vu,providerData:Fl,stsTokenManager:So}=g;K(Uc&&So,p,"internal-error");const Ih=tt.fromJSON(this.name,So);K("string"==typeof Uc,p,"internal-error"),yt(Tn,p.name),yt(ji,p.name),K("boolean"==typeof yu,p,"internal-error"),K("boolean"==typeof vu,p,"internal-error"),yt(To,p.name),yt(Ea,p.name),yt(yp,p.name),yt(wh,p.name),yt(vp,p.name),yt(_p,p.name);const bh=new At({uid:Uc,auth:p,email:ji,emailVerified:yu,displayName:Tn,isAnonymous:vu,photoURL:Ea,phoneNumber:To,tenantId:yp,stsTokenManager:Ih,createdAt:vp,lastLoginAt:_p});return Fl&&Array.isArray(Fl)&&(bh.providerData=Fl.map(Eh=>Object.assign({},Eh))),wh&&(bh._redirectEventId=wh),bh}static _fromIdTokenResponse(p,g,w=!1){return(0,c.Z)(function*(){const S=new tt;S.updateFromServerResponse(g);const k=new At({uid:g.localId,auth:p,stsTokenManager:S,isAnonymous:w});return yield gi(k),k})()}}const Vn=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,w){var S=this;return(0,c.Z)(function*(){S.storage[g]=w})()}_get(g){var w=this;return(0,c.Z)(function*(){const S=w.storage[g];return void 0===S?null:S})()}_remove(g){var w=this;return(0,c.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return v.type="NONE",v})();function $(v,p,g){return`firebase:${v}:${p}:${g}`}class j{constructor(p,g,w){this.persistence=p,this.auth=g,this.userKey=w;const{config:S,name:k}=this.auth;this.fullUserKey=$(this.userKey,S.apiKey,k),this.fullPersistenceKey=$("persistence",S.apiKey,k),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?At._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,c.Z)(function*(){if(g.persistence===p)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,w="authUser"){return(0,c.Z)(function*(){if(!g.length)return new j(je(Vn),p,w);const S=(yield Promise.all(g.map(function(){var ft=(0,c.Z)(function*(Ht){if(yield Ht._isAvailable())return Ht});return function(Ht){return ft.apply(this,arguments)}}()))).filter(ft=>ft);let k=S[0]||je(Vn);const Q=$(w,p.config.apiKey,p.name);let Ee=null;for(const ft of g)try{const Ht=yield ft._get(Q);if(Ht){const Tn=At._fromJSON(p,Ht);ft!==k&&(Ee=Tn),k=ft;break}}catch{}const We=S.filter(ft=>ft._shouldAllowMigration);return k._shouldAllowMigration&&We.length?(k=We[0],Ee&&(yield k._set(Q,Ee.toJSON())),yield Promise.all(g.map(function(){var ft=(0,c.Z)(function*(Ht){if(Ht!==k)try{yield Ht._remove(Q)}catch{}});return function(Ht){return ft.apply(this,arguments)}}())),new j(k,p,w)):new j(k,p,w)})()}}function R(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(ae(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(F(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(wt(p))return"Blackberry";if(Tt(p))return"Webos";if(O(p))return"Safari";if((p.includes("chrome/")||Y(p))&&!p.includes("edge/"))return"Chrome";if(it(p))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function F(v=(0,B.z$)()){return/firefox\//i.test(v)}function O(v=(0,B.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Y(v=(0,B.z$)()){return/crios\//i.test(v)}function ae(v=(0,B.z$)()){return/iemobile/i.test(v)}function it(v=(0,B.z$)()){return/android/i.test(v)}function wt(v=(0,B.z$)()){return/blackberry/i.test(v)}function Tt(v=(0,B.z$)()){return/webos/i.test(v)}function qt(v=(0,B.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function It(v=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Vr(v=(0,B.z$)()){return qt(v)||it(v)||Tt(v)||wt(v)||/windows phone/i.test(v)||ae(v)}function za(v,p=[]){let g;switch(v){case"Browser":g=R((0,B.z$)());break;case"Worker":g=`${R((0,B.z$)())}-${v}`;break;default:g=v}const w=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${P.SDK_VERSION}/${w}`}class Ku{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const w=k=>new Promise((Q,Ee)=>{try{Q(p(k))}catch(We){Ee(We)}});w.onAbort=g,this.queue.push(w);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,c.Z)(function*(){if(g.auth.currentUser===p)return;const w=[];try{for(const S of g.queue)yield S(p),S.onAbort&&w.push(S.onAbort)}catch(S){w.reverse();for(const k of w)try{k()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class Ga{constructor(p,g,w){this.app=p,this.heartbeatServiceProvider=g,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Go(this),this.idTokenSubscription=new Go(this),this.beforeStateQueue=new Ku(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=st,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,g){var w=this;return g&&(this._popupRedirectResolver=je(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S,k;if(!w._deleted&&(w.persistenceManager=yield j.create(w,p),!w._deleted)){if(null!==(S=w._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(k=w.currentUser)||void 0===k?void 0:k.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,c.Z)(function*(){var w;const S=yield g.assertedPersistence.getCurrentUser();let k=S,Q=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Ee=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,We=k?._redirectEventId,ft=yield g.tryRedirectSignIn(p);(!Ee||Ee===We)&&ft?.user&&(k=ft.user,Q=!0)}if(!k)return g.directlySetCurrentUser(null);if(!k._redirectEventId){if(Q)try{yield g.beforeStateQueue.runMiddleware(k)}catch(Ee){k=S,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Ee))}return k?g.reloadAndSetCurrentUserOrClear(k):g.directlySetCurrentUser(null)}return K(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===k._redirectEventId?g.directlySetCurrentUser(k):g.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(p){var g=this;return(0,c.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,c.Z)(function*(){try{yield gi(p)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ke(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,c.Z)(function*(){const w=p?(0,B.m9)(p):null;return w&&K(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(p,g=!1){var w=this;return(0,c.Z)(function*(){if(!w._deleted)return p&&K(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,c.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(je(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.LL("auth","Firebase",p())}onAuthStateChanged(p,g,w){return this.registerStateListener(this.authStateSubscription,p,g,w)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,w){return this.registerStateListener(this.idTokenSubscription,p,g,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var w=this;return(0,c.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(g);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const w=p&&je(p)||g._popupRedirectResolver;K(w,g,"argument-error"),g.redirectPersistenceManager=yield j.create(g,[je(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,c.Z)(function*(){var w,S;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===p?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,c.Z)(function*(){if(p===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,w,S){if(this._deleted)return()=>{};const k="function"==typeof g?g:g.next.bind(g),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return K(Q,this,"internal-error"),Q.then(()=>k(this.currentUser)),"function"==typeof g?p.addObserver(g,w,S):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=za(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){var g;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return S&&(w["X-Firebase-Client"]=S),w})()}}function pr(v){return(0,B.m9)(v)}class Go{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.ne)(g=>this.observer=g)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Yu(v,p,g){const w=pr(v);K(w._canInitEmulator,w,"emulator-config-failed"),K(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const S=!!g?.disableWarnings,k=Qu(p),{host:Q,port:Ee}=function nn(v){const p=Qu(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const k=S[1];return{host:k,port:Un(w.substr(k.length+1))}}{const[k,Q]=w.split(":");return{host:k,port:Un(Q)}}}(p);w.config.emulator={url:`${k}//${Q}${null===Ee?"":`:${Ee}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Q,port:Ee,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function gr(){function v(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Qu(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Un(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Yr{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return oe("not implemented")}_getIdTokenResponse(p){return oe("not implemented")}_linkToIdToken(p,g){return oe("not implemented")}_getReauthenticationResolver(p){return oe("not implemented")}}function Ur(v,p){return mr.apply(this,arguments)}function mr(){return(mr=(0,c.Z)(function*(v,p){return et(v,"POST","/v1/accounts:resetPassword",ct(v,p))})).apply(this,arguments)}function Xu(v,p){return ms.apply(this,arguments)}function ms(){return(ms=(0,c.Z)(function*(v,p){return et(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Qe(){return(Qe=(0,c.Z)(function*(v,p){return et(v,"POST","/v1/accounts:update",ct(v,p))})).apply(this,arguments)}function gn(){return(gn=(0,c.Z)(function*(v,p){return on(v,"POST","/v1/accounts:signInWithPassword",ct(v,p))})).apply(this,arguments)}function Br(v,p){return zi.apply(this,arguments)}function zi(){return(zi=(0,c.Z)(function*(v,p){return et(v,"POST","/v1/accounts:sendOobCode",ct(v,p))})).apply(this,arguments)}function Gi(){return(Gi=(0,c.Z)(function*(v,p){return Br(v,p)})).apply(this,arguments)}function ys(){return(ys=(0,c.Z)(function*(v,p){return Br(v,p)})).apply(this,arguments)}function kt(){return(kt=(0,c.Z)(function*(v,p){return Br(v,p)})).apply(this,arguments)}function vs(){return(vs=(0,c.Z)(function*(v,p){return Br(v,p)})).apply(this,arguments)}function Fs(){return(Fs=(0,c.Z)(function*(v,p){return on(v,"POST","/v1/accounts:signInWithEmailLink",ct(v,p))})).apply(this,arguments)}function _s(){return(_s=(0,c.Z)(function*(v,p){return on(v,"POST","/v1/accounts:signInWithEmailLink",ct(v,p))})).apply(this,arguments)}class Zi extends Yr{constructor(p,g,w,S=null){super("password",w),this._email=p,this._password=g,this._tenantId=S}static _fromEmailAndPassword(p,g){return new Zi(p,g,"password")}static _fromEmailAndCode(p,g,w=null){return new Zi(p,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function Bt(v,p){return gn.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Zo(v,p){return Fs.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Pe(p,"internal-error")}})()}_linkToIdToken(p,g){var w=this;return(0,c.Z)(function*(){switch(w.signInMethod){case"password":return Xu(p,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function br(v,p){return _s.apply(this,arguments)}(p,{idToken:g,email:w._email,oobCode:w._password});default:Pe(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function nr(v,p){return lo.apply(this,arguments)}function lo(){return(lo=(0,c.Z)(function*(v,p){return on(v,"POST","/v1/accounts:signInWithIdp",ct(v,p))})).apply(this,arguments)}class Pt extends Yr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Pt(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Pe("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S}=g,k=(0,re._T)(g,["providerId","signInMethod"]);if(!w||!S)return null;const Q=new Pt(w,S);return Q.idToken=k.idToken||void 0,Q.accessToken=k.accessToken||void 0,Q.secret=k.secret,Q.nonce=k.nonce,Q.pendingToken=k.pendingToken||null,Q}_getIdTokenResponse(p){return nr(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,nr(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,nr(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,B.xO)(g)}return p}}function qo(){return(qo=(0,c.Z)(function*(v,p){return et(v,"POST","/v1/accounts:sendVerificationCode",ct(v,p))})).apply(this,arguments)}function qi(){return(qi=(0,c.Z)(function*(v,p){return on(v,"POST","/v1/accounts:signInWithPhoneNumber",ct(v,p))})).apply(this,arguments)}function ws(){return(ws=(0,c.Z)(function*(v,p){const g=yield on(v,"POST","/v1/accounts:signInWithPhoneNumber",ct(v,p));if(g.temporaryProof)throw kn(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Er={USER_NOT_FOUND:"user-not-found"};function Cr(){return(Cr=(0,c.Z)(function*(v,p){return on(v,"POST","/v1/accounts:signInWithPhoneNumber",ct(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Er)})).apply(this,arguments)}class rr extends Yr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new rr({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new rr({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function hc(v,p){return qi.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Ri(v,p){return ws.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Jf(v,p){return Cr.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:w,verificationCode:S}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:w,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:w,phoneNumber:S,temporaryProof:k}=p;return w||g||S||k?new rr({verificationId:g,verificationCode:w,phoneNumber:S,temporaryProof:k}):null}}class Ni{constructor(p){var g,w,S,k,Q,Ee;const We=(0,B.zd)((0,B.pd)(p)),ft=null!==(g=We.apiKey)&&void 0!==g?g:null,Ht=null!==(w=We.oobCode)&&void 0!==w?w:null,Tn=function el(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=We.mode)&&void 0!==S?S:null);K(ft&&Ht&&Tn,"argument-error"),this.apiKey=ft,this.operation=Tn,this.code=Ht,this.continueUrl=null!==(k=We.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(Q=We.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(Ee=We.tenantId)&&void 0!==Ee?Ee:null}static parseLink(p){const g=function qa(v){const p=(0,B.zd)((0,B.pd)(v)).link,g=p?(0,B.zd)((0,B.pd)(p)).deep_link_id:null,w=(0,B.zd)((0,B.pd)(v)).deep_link_id;return(w?(0,B.zd)((0,B.pd)(w)).link:null)||w||g||p||v}(p);try{return new Ni(g)}catch{return null}}}let Wo=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,w){return Zi._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const S=Ni.parseLink(w);return K(S,"argument-error"),Zi._fromEmailAndCode(g,S.code,S.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Is{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class co extends Is{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ho extends co{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return K("providerId"in g&&"signInMethod"in g,"argument-error"),Pt._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return K(p.idToken||p.accessToken,"argument-error"),Pt._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ho.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ho.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:k,nonce:Q,providerId:Ee}=p;if(!w&&!S&&!g&&!k||!Ee)return null;try{return new ho(Ee)._credential({idToken:g,accessToken:w,nonce:Q,pendingToken:k})}catch{return null}}}let ep=(()=>{class v extends co{constructor(){super("facebook.com")}static credential(g){return Pt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),fc=(()=>{class v extends co{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return Pt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:S}=g;if(!w&&!S)return null;try{return v.credential(w,S)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),tp=(()=>{class v extends co{constructor(){super("github.com")}static credential(g){return Pt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Ko extends Yr{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return nr(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,nr(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,nr(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S,pendingToken:k}=g;return w&&S&&k&&w===S?new Ko(w,k):null}static _create(p,g){return new Ko(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Fi extends Is{constructor(p){K(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Fi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Fi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Ko.fromJSON(p);return K(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:w}=p;if(!g||!w)return null;try{return Ko._create(w,g)}catch{return null}}}let Ls=(()=>{class v extends co{constructor(){super("twitter.com")}static credential(g,w){return Pt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=g;if(!w||!S)return null;try{return v.credential(w,S)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function rp(v,p){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,c.Z)(function*(v,p){return on(v,"POST","/v1/accounts:signUp",ct(v,p))})).apply(this,arguments)}class si{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,w,S=!1){return(0,c.Z)(function*(){const k=yield At._fromIdTokenResponse(p,w,S),Q=pc(w);return new si({user:k,providerId:Q,_tokenResponse:w,operationType:g})})()}static _forOperation(p,g,w){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const S=pc(w);return new si({user:p,providerId:S,_tokenResponse:w,operationType:g})})()}}function pc(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function gc(v){return fo.apply(this,arguments)}function fo(){return(fo=(0,c.Z)(function*(v){var p;const g=pr(v);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new si({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield rp(g,{returnSecureToken:!0}),S=yield si._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class mc extends B.ZR{constructor(p,g,w,S){var k;super(g.code,g.message),this.operationType=w,this.user=S,Object.setPrototypeOf(this,mc.prototype),this.customData={appName:p.name,tenantId:null!==(k=p.tenantId)&&void 0!==k?k:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,g,w,S){return new mc(p,g,w,S)}}function yc(v,p,g,w){return("reauthenticate"===p?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?mc._fromErrorAndOperation(v,k,p,w):k})}function ip(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function oi(v,p){return Ka.apply(this,arguments)}function Ka(){return Ka=(0,c.Z)(function*(v,p){const g=(0,B.m9)(v);yield Us(!0,g,p);const{providerUserInfo:w}=yield function wn(v,p){return tr.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),S=ip(w||[]);return g.providerData=g.providerData.filter(k=>S.has(k.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Ka.apply(this,arguments)}function Vs(v,p){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,c.Z)(function*(v,p,g=!1){const w=yield En(v,p._linkToIdToken(v.auth,yield v.getIdToken()),g);return si._forOperation(v,"link",w)})).apply(this,arguments)}function Us(v,p,g){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,c.Z)(function*(v,p,g){yield gi(p);const S=!1===v?"provider-already-linked":"no-such-provider";K(ip(p.providerData).has(g)===v,p.auth,S)})).apply(this,arguments)}function Ya(v,p){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,c.Z)(function*(v,p,g=!1){const{auth:w}=v,S="reauthenticate";try{const k=yield En(v,yc(w,S,p,v),g);K(k.idToken,w,"internal-error");const Q=dt(k.idToken);K(Q,w,"internal-error");const{sub:Ee}=Q;return K(v.uid===Ee,w,"user-mismatch"),si._forOperation(v,S,k)}catch(k){throw"auth/user-not-found"===k?.code&&Pe(w,"user-mismatch"),k}})).apply(this,arguments)}function tl(v,p){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,c.Z)(function*(v,p,g=!1){const w="signIn",S=yield yc(v,w,p),k=yield si._fromIdTokenResponse(v,w,S);return g||(yield v._updateCurrentUser(k.user)),k})).apply(this,arguments)}function nl(v,p){return an.apply(this,arguments)}function an(){return(an=(0,c.Z)(function*(v,p){return tl(pr(v),p)})).apply(this,arguments)}function rl(v,p){return po.apply(this,arguments)}function po(){return(po=(0,c.Z)(function*(v,p){const g=(0,B.m9)(v);return yield Us(!1,g,p.providerId),Vs(g,p)})).apply(this,arguments)}function xn(v,p){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,c.Z)(function*(v,p){return Ya((0,B.m9)(v),p)})).apply(this,arguments)}function ir(){return(ir=(0,c.Z)(function*(v,p){return on(v,"POST","/v1/accounts:signInWithCustomToken",ct(v,p))})).apply(this,arguments)}function il(v,p){return Jo.apply(this,arguments)}function Jo(){return Jo=(0,c.Z)(function*(v,p){const g=pr(v),w=yield function bs(v,p){return ir.apply(this,arguments)}(g,{token:p,returnSecureToken:!0}),S=yield si._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(S.user),S}),Jo.apply(this,arguments)}class ai{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?sr._fromServerResponse(p,g):"totpInfo"in g?sl._fromServerResponse(p,g):Pe(p,"internal-error")}}class sr extends ai{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new sr(g)}}class sl extends ai{constructor(p){super("totp",p)}static _fromServerResponse(p,g){return new sl(g)}}function Bs(v,p,g){var w;K((null===(w=g.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),K(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(K(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(K(g.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function vc(v,p,g){return yi.apply(this,arguments)}function yi(){return yi=(0,c.Z)(function*(v,p,g){const w=(0,B.m9)(v),S={requestType:"PASSWORD_RESET",email:p};g&&Bs(w,S,g),yield function Mn(v,p){return ys.apply(this,arguments)}(w,S)}),yi.apply(this,arguments)}function Xa(v,p,g){return ea.apply(this,arguments)}function ea(){return(ea=(0,c.Z)(function*(v,p,g){yield Ur((0,B.m9)(v),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Ot(v,p){return Ja.apply(this,arguments)}function Ja(){return Ja=(0,c.Z)(function*(v,p){yield function Pi(v,p){return Qe.apply(this,arguments)}((0,B.m9)(v),{oobCode:p})}),Ja.apply(this,arguments)}function ol(v,p){return al.apply(this,arguments)}function al(){return(al=(0,c.Z)(function*(v,p){const g=(0,B.m9)(v),w=yield Ur(g,{oobCode:p}),S=w.requestType;switch(K(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":K(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":K(w.mfaInfo,g,"internal-error");default:K(w.email,g,"internal-error")}let k=null;return w.mfaInfo&&(k=ai._fromServerResponse(pr(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:k},operation:S}})).apply(this,arguments)}function ul(v,p){return ll.apply(this,arguments)}function ll(){return(ll=(0,c.Z)(function*(v,p){const{data:g}=yield ol((0,B.m9)(v),p);return g.email})).apply(this,arguments)}function _c(v,p,g){return cl.apply(this,arguments)}function cl(){return(cl=(0,c.Z)(function*(v,p,g){const w=pr(v),S=yield rp(w,{returnSecureToken:!0,email:p,password:g}),k=yield si._fromIdTokenResponse(w,"signIn",S);return yield w._updateCurrentUser(k.user),k})).apply(this,arguments)}function On(v,p,g){return nl((0,B.m9)(v),Wo.credential(p,g))}function Te(v,p,g){return Xt.apply(this,arguments)}function Xt(){return Xt=(0,c.Z)(function*(v,p,g){const w=(0,B.m9)(v),S={requestType:"EMAIL_SIGNIN",email:p};K(g.handleCodeInApp,w,"argument-error"),g&&Bs(w,S,g),yield function Ju(v,p){return kt.apply(this,arguments)}(w,S)}),Xt.apply(this,arguments)}function wc(v,p){return"EMAIL_SIGNIN"===Ni.parseLink(p)?.operation}function nh(v,p,g){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,c.Z)(function*(v,p,g){const w=(0,B.m9)(v),S=Wo.credentialWithLink(p,g||ie());return K(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),nl(w,S)})).apply(this,arguments)}function Es(){return(Es=(0,c.Z)(function*(v,p){return et(v,"POST","/v1/accounts:createAuthUri",ct(v,p))})).apply(this,arguments)}function vi(v,p){return eu.apply(this,arguments)}function eu(){return eu=(0,c.Z)(function*(v,p){const w={identifier:p,continueUri:de()?ie():"http://localhost"},{signinMethods:S}=yield function rh(v,p){return Es.apply(this,arguments)}((0,B.m9)(v),w);return S||[]}),eu.apply(this,arguments)}function tu(v,p){return nu.apply(this,arguments)}function nu(){return nu=(0,c.Z)(function*(v,p){const g=(0,B.m9)(v),S={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Bs(g.auth,S,p);const{email:k}=yield function An(v,p){return Gi.apply(this,arguments)}(g.auth,S);k!==v.email&&(yield v.reload())}),nu.apply(this,arguments)}function Ic(v,p,g){return ta.apply(this,arguments)}function ta(){return ta=(0,c.Z)(function*(v,p,g){const w=(0,B.m9)(v),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};g&&Bs(w.auth,k,g);const{email:Q}=yield function Za(v,p){return vs.apply(this,arguments)}(w.auth,k);Q!==v.email&&(yield v.reload())}),ta.apply(this,arguments)}function Dr(){return(Dr=(0,c.Z)(function*(v,p){return et(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function dl(v,p){return js.apply(this,arguments)}function js(){return js=(0,c.Z)(function*(v,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const w=(0,B.m9)(v),k={idToken:yield w.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},Q=yield En(w,function Zn(v,p){return Dr.apply(this,arguments)}(w.auth,k));w.displayName=Q.displayName||null,w.photoURL=Q.photoUrl||null;const Ee=w.providerData.find(({providerId:We})=>"password"===We);Ee&&(Ee.displayName=w.displayName,Ee.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Q)}),js.apply(this,arguments)}function Li(v,p){return hl((0,B.m9)(v),p,null)}function ru(v,p){return hl((0,B.m9)(v),null,p)}function hl(v,p,g){return fl.apply(this,arguments)}function fl(){return(fl=(0,c.Z)(function*(v,p,g){const{auth:w}=v,k={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(k.email=p),g&&(k.password=g);const Q=yield En(v,Xu(w,k));yield v._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class Ki{constructor(p,g,w={}){this.isNewUser=p,this.providerId=g,this.profile=w}}class pl extends Ki{constructor(p,g,w,S){super(p,g,w),this.username=S}}class bc extends Ki{constructor(p,g){super(p,"facebook.com",g)}}class iu extends pl{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class sp extends Ki{constructor(p,g){super(p,"google.com",g)}}class gl extends pl{constructor(p,g,w){super(p,"twitter.com",g,w)}}function Ec(v){const{user:p,_tokenResponse:g}=v;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function ih(v){var p,g;if(!v)return null;const{providerId:w}=v,S=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},k=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&v?.idToken){const Q=null===(g=null===(p=dt(v.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(Q)return new Ki(k,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!w)return null;switch(w){case"facebook.com":return new bc(k,S);case"github.com":return new iu(k,S);case"google.com":return new sp(k,S);case"twitter.com":return new gl(k,S,v.screenName||null);case"custom":case"anonymous":return new Ki(k,null);default:return new Ki(k,w,S)}}(g)}class hn{constructor(p,g,w){this.type=p,this.credential=g,this.auth=w}static _fromIdtoken(p,g){return new hn("enroll",p,g)}static _fromMfaPendingCredential(p){return new hn("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,w;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return hn._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return hn._fromIdtoken(p.multiFactorSession.idToken)}return null}}class su{constructor(p,g,w){this.session=p,this.hints=g,this.signInResolver=w}static _fromError(p,g){const w=pr(p),S=g.customData._serverResponse,k=(S.mfaInfo||[]).map(Ee=>ai._fromServerResponse(w,Ee));K(S.mfaPendingCredential,w,"internal-error");const Q=hn._fromMfaPendingCredential(S.mfaPendingCredential);return new su(Q,k,function(){var Ee=(0,c.Z)(function*(We){const ft=yield We._process(w,Q);delete S.mfaInfo,delete S.mfaPendingCredential;const Ht=Object.assign(Object.assign({},S),{idToken:ft.idToken,refreshToken:ft.refreshToken});switch(g.operationType){case"signIn":const Tn=yield si._fromIdTokenResponse(w,g.operationType,Ht);return yield w._updateCurrentUser(Tn.user),Tn;case"reauthenticate":return K(g.user,w,"internal-error"),si._forOperation(g.user,g.operationType,Ht);default:Pe(w,"internal-error")}});return function(We){return Ee.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,c.Z)(function*(){return g.signInResolver(p)})()}}function or(v,p){var g;const w=(0,B.m9)(v),S=p;return K(p.customData.operationType,w,"argument-error"),K(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),su._fromError(w,S)}class na{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>ai._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new na(p)}getSession(){var p=this;return(0,c.Z)(function*(){return hn._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var w=this;return(0,c.Z)(function*(){const S=p,k=yield w.getSession(),Q=yield En(w.user,S._process(w.user.auth,k,g));return yield w.user._updateTokensIfNecessary(Q),w.user.reload()})()}unenroll(p){var g=this;return(0,c.Z)(function*(){const w="string"==typeof p?p:p.uid,S=yield g.user.getIdToken();try{const k=yield En(g.user,function yl(v,p){return et(v,"POST","/v2/accounts/mfaEnrollment:withdraw",ct(v,p))}(g.user.auth,{idToken:S,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Q})=>Q!==w),yield g.user._updateTokensIfNecessary(k),yield g.user.reload()}catch(k){throw k}})()}}const go=new WeakMap;function ra(v){const p=(0,B.m9)(v);return go.has(p)||go.set(p,na._fromUser(p)),go.get(p)}const _i="__sak";class Dc{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(_i,"1"),this.storage.removeItem(_i),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const ou=(()=>{class v extends Dc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wi(){const v=(0,B.z$)();return O(v)||qt(v)}()&&function Wu(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Vr(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),k=this.localCache[w];S!==k&&g(w,k,S)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((Ee,We,ft)=>{this.notifyListeners(Ee,ft)});const S=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ee=this.storage.getItem(S);if(g.newValue!==Ee)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!w)return}const k=()=>{const Ee=this.storage.getItem(S);!w&&this.localCache[S]===Ee||this.notifyListeners(S,Ee)},Q=this.storage.getItem(S);!function Ut(){return(0,B.w1)()&&10===document.documentMode}()||Q===g.newValue||g.newValue===g.oldValue?k():setTimeout(k,10)}notifyListeners(g,w){this.localCache[g]=w;const S=this.listeners[g];if(S)for(const k of Array.from(S))k(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var S=()=>super._set,k=this;return(0,c.Z)(function*(){yield S().call(k,g,w),k.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,S=this;return(0,c.Z)(function*(){const k=yield w().call(S,g);return S.localCache[g]=JSON.stringify(k),k})()}_remove(g){var w=()=>super._remove,S=this;return(0,c.Z)(function*(){yield w().call(S,g),delete S.localCache[g]})()}}return v.type="LOCAL",v})(),vl=(()=>{class v extends Dc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return v.type="SESSION",v})();let _l=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(k=>k.isListeningto(g));if(w)return w;const S=new v(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,c.Z)(function*(){const S=g,{eventId:k,eventType:Q,data:Ee}=S.data,We=w.handlersMap[Q];if(!We?.size)return;S.ports[0].postMessage({status:"ack",eventId:k,eventType:Q});const ft=Array.from(We).map(function(){var Tn=(0,c.Z)(function*(ji){return ji(S.origin,Ee)});return function(ji){return Tn.apply(this,arguments)}}()),Ht=yield function sa(v){return Promise.all(v.map(function(){var p=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return p.apply(this,arguments)}}()))}(ft);S.ports[0].postMessage({status:"done",eventId:k,eventType:Q,response:Ht})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function oa(v="",p=10){let g="";for(let w=0;w<p;w++)g+=Math.floor(10*Math.random());return v+g}class mo{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,w=50){var S=this;return(0,c.Z)(function*(){const k=typeof MessageChannel<"u"?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let Q,Ee;return new Promise((We,ft)=>{const Ht=oa("",20);k.port1.start();const Tn=setTimeout(()=>{ft(new Error("unsupported_event"))},w);Ee={messageChannel:k,onMessage(ji){const To=ji;if(To.data.eventId===Ht)switch(To.data.status){case"ack":clearTimeout(Tn),Q=setTimeout(()=>{ft(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),We(To.data.response);break;default:clearTimeout(Tn),clearTimeout(Q),ft(new Error("invalid_response"))}}},S.handlers.add(Ee),k.port1.addEventListener("message",Ee.onMessage),S.target.postMessage({eventType:p,eventId:Ht,data:g},[k.port2])}).finally(()=>{Ee&&S.removeMessageHandler(Ee)})})()}}function Cn(){return window}function Vi(){return typeof Cn().WorkerGlobalScope<"u"&&"function"==typeof Cn().importScripts}function ua(){return(ua=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const $s="firebaseLocalStorageDb",uu=1,Yi="firebaseLocalStorage",uh="fbase_key";class Qi{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function vo(v,p){return v.transaction([Yi],p?"readwrite":"readonly").objectStore(Yi)}function $r(){const v=indexedDB.open($s,uu);return new Promise((p,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(Yi,{keyPath:uh})}catch(S){g(S)}}),v.addEventListener("success",(0,c.Z)(function*(){const w=v.result;w.objectStoreNames.contains(Yi)?p(w):(w.close(),yield function la(){const v=indexedDB.deleteDatabase($s);return new Qi(v).toPromise()}(),p(yield $r()))}))})}function lu(v,p,g){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,c.Z)(function*(v,p,g){const w=vo(v,!0).put({[uh]:p,value:g});return new Qi(w).toPromise()})).apply(this,arguments)}function wo(){return(wo=(0,c.Z)(function*(v,p){const g=vo(v,!1).get(p),w=yield new Qi(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function zs(v,p){const g=vo(v,!0).delete(p);return new Qi(g).toPromise()}const wl=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield $r()),g.db})()}_withRetries(g){var w=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const k=yield w._openDb();return yield g(k)}catch(k){if(S++>3)throw k;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return Vi()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=_l._getInstance(function ah(){return Vi()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,c.Z)(function*(S,k){return{keyProcessed:(yield g._poll()).includes(k.key)}});return function(S,k){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,c.Z)(function*(S,k){return["keyChanged"]});return function(S,k){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var w,S;if(g.activeServiceWorker=yield function aa(){return ua.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new mo(g.activeServiceWorker);const k=yield g.sender._send("ping",{},800);k&&null!==(w=k[0])&&void 0!==w&&w.fulfilled&&null!==(S=k[0])&&void 0!==S&&S.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,c.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function au(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield $r();return yield lu(g,_i,"1"),yield zs(g,_i),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,c.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(k=>lu(k,g,w)),S.localCache[g]=w,S.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,c.Z)(function*(){const S=yield w._withRetries(k=>function _o(v,p){return wo.apply(this,arguments)}(k,g));return w.localCache[g]=S,S})()}_remove(g){var w=this;return(0,c.Z)(function*(){return w._withPendingWrite((0,c.Z)(function*(){return yield w._withRetries(S=>zs(S,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const w=yield g._withRetries(Q=>{const Ee=vo(Q,!1).getAll();return new Qi(Ee).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const S=[],k=new Set;for(const{fbase_key:Q,value:Ee}of w)k.add(Q),JSON.stringify(g.localCache[Q])!==JSON.stringify(Ee)&&(g.notifyListeners(Q,Ee),S.push(Q));for(const Q of Object.keys(g.localCache))g.localCache[Q]&&!k.has(Q)&&(g.notifyListeners(Q,null),S.push(Q));return S})()}notifyListeners(g,w){this.localCache[g]=w;const S=this.listeners[g];if(S)for(const k of Array.from(S))k(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Xi(){return(Xi=(0,c.Z)(function*(v){return(yield et(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Il(v){return new Promise((p,g)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=p,w.onerror=S=>{const k=Ae("internal-error");k.customData=S,g(k)},w.type="text/javascript",w.charset="UTF-8",function da(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(w)})}function fu(v){return`__${v}${Math.floor(1e6*Math.random())}`}const ha=1e12;class El{constructor(p){this.auth=p,this.counter=ha,this._widgets=new Map}render(p,g){const w=this.counter;return this._widgets.set(w,new Sc(p,this.auth.name,g||{})),this.counter++,w}reset(p){var g;const w=p||ha;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(p){var g;return(null===(g=this._widgets.get(p||ha))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,c.Z)(function*(){var w;return null===(w=g._widgets.get(p||ha))||void 0===w||w.execute(),""})()}}class Sc{constructor(p,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;K(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Mc(v){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Io=fu("rcb"),bo=new Le(3e4,6e4);class fa{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Cn().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return K(function lp(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Cn().grecaptcha):new Promise((w,S)=>{const k=Cn().setTimeout(()=>{S(Ae(p,"network-request-failed"))},bo.get());Cn()[Io]=()=>{Cn().clearTimeout(k),delete Cn()[Io];const Ee=Cn().grecaptcha;if(!Ee)return void S(Ae(p,"internal-error"));const We=Ee.render;Ee.render=(ft,Ht)=>{const Tn=We(ft,Ht);return this.counter++,Tn},this.hostLanguage=g,w(Ee)},Il(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Io,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(k),S(Ae(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=Cn().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class xc{load(p){return(0,c.Z)(function*(){return new El(p)})()}clearedOneInstance(){}}const Zs="recaptcha",cp={theme:"light",type:"image"};class Ds{constructor(p,g=Object.assign({},cp),w){this.parameters=g,this.type=Zs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pr(w),this.isInvisible="invisible"===this.parameters.size,K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;K(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xc:new fa,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(g)||new Promise(k=>{const Q=Ee=>{Ee&&(p.tokenChangeListeners.delete(Q),k(Ee))};p.tokenChangeListeners.add(Q),p.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){K(!this.parameters.sitekey,this.auth,"argument-error"),K(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof p)p(g);else if("string"==typeof p){const w=Cn()[p];"function"==typeof w&&w(g)}}}assertNotDestroyed(){K(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){K(de()&&!Vi(),p.auth,"internal-error"),yield function bn(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function hu(v){return Xi.apply(this,arguments)}(p.auth);K(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return K(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Cl{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=rr._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Dl(v,p,g){return Al.apply(this,arguments)}function Al(){return(Al=(0,c.Z)(function*(v,p,g){const w=pr(v),S=yield qs(w,p,(0,B.m9)(g));return new Cl(S,k=>nl(w,k))})).apply(this,arguments)}function Am(v,p,g){return ch.apply(this,arguments)}function ch(){return(ch=(0,c.Z)(function*(v,p,g){const w=(0,B.m9)(v);yield Us(!1,w,"phone");const S=yield qs(w.auth,p,(0,B.m9)(g));return new Cl(S,k=>rl(w,k))})).apply(this,arguments)}function Tm(v,p,g){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,c.Z)(function*(v,p,g){const w=(0,B.m9)(v),S=yield qs(w.auth,p,(0,B.m9)(g));return new Cl(S,k=>xn(w,k))})).apply(this,arguments)}function qs(v,p,g){return dp.apply(this,arguments)}function dp(){return dp=(0,c.Z)(function*(v,p,g){var w;const S=yield g.verify();try{let k;if(K("string"==typeof S,v,"argument-error"),K(g.type===Zs,v,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const Q=k.session;if("phoneNumber"in k)return K("enroll"===Q.type,v,"internal-error"),(yield function up(v,p){return et(v,"POST","/v2/accounts/mfaEnrollment:start",ct(v,p))}(v,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{K("signin"===Q.type,v,"internal-error");const Ee=(null===(w=k.multiFactorHint)||void 0===w?void 0:w.uid)||k.multiFactorUid;return K(Ee,v,"missing-multi-factor-info"),(yield function du(v,p){return et(v,"POST","/v2/accounts/mfaSignIn:start",ct(v,p))}(v,{mfaPendingCredential:Q.credential,mfaEnrollmentId:Ee,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield function Xf(v,p){return qo.apply(this,arguments)}(v,{phoneNumber:k.phoneNumber,recaptchaToken:S});return Q}}finally{g._reset()}}),dp.apply(this,arguments)}function Sm(v,p){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,c.Z)(function*(v,p){yield Vs((0,B.m9)(v),p)})).apply(this,arguments)}let Pc=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=pr(g)}verifyPhoneNumber(g,w){return qs(this.auth,g,(0,B.m9)(w))}static credential(g,w){return rr._fromVerification(g,w)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:S}=g;return w&&S?rr._fromTokenResponse(w,S):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function ui(v,p){return p?je(p):(K(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Tl extends Yr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return nr(p,this._buildIdpRequest())}_linkToIdToken(p,g){return nr(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return nr(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function bi(v){return tl(v.auth,new Tl(v),v.bypassAuthState)}function As(v){const{auth:p,user:g}=v;return K(g,p,"internal-error"),Ya(g,new Tl(v),v.bypassAuthState)}function Sl(v){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,c.Z)(function*(v){const{auth:p,user:g}=v;return K(g,p,"internal-error"),Vs(g,new Tl(v),v.bypassAuthState)})).apply(this,arguments)}class Ks{constructor(p,g,w,S,k=!1){this.auth=p,this.resolver=w,this.user=S,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,c.Z)(function*(w,S){p.pendingPromise={resolve:w,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(w,S){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,c.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:k,tenantId:Q,error:Ee,type:We}=p;if(Ee)return void g.reject(Ee);const ft={auth:g.auth,requestUri:w,sessionId:S,tenantId:Q||void 0,postBody:k||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(We)(ft))}catch(Ht){g.reject(Ht)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return bi;case"linkViaPopup":case"linkViaRedirect":return Sl;case"reauthViaPopup":case"reauthViaRedirect":return As;default:Pe(this.auth,"internal-error")}}resolve(p){ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rc=new Le(2e3,1e4);function dh(v,p,g){return pa.apply(this,arguments)}function pa(){return(pa=(0,c.Z)(function*(v,p,g){const w=pr(v);be(v,p,Is);const S=ui(w,g);return new Ji(w,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function B_(v,p,g){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,c.Z)(function*(v,p,g){const w=(0,B.m9)(v);be(w.auth,p,Is);const S=ui(w.auth,g);return new Ji(w.auth,"reauthViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}function Ys(v,p,g){return ut.apply(this,arguments)}function ut(){return(ut=(0,c.Z)(function*(v,p,g){const w=(0,B.m9)(v);be(w.auth,p,Is);const S=ui(w.auth,g);return new Ji(w.auth,"linkViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}let Ji=(()=>{class v extends Ks{constructor(g,w,S,k,Q){super(g,w,k,Q),this.provider=S,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const w=yield g.execute();return K(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,c.Z)(function*(){ge(1===g.filter.length,"Popup operations only handle one event");const w=oa();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(Ae(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ae(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,S;this.pollId=null!==(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ae(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Rc.get())};g()}}return v.currentPopupAction=null,v})();const ar="pendingRedirect",Eo=new Map;class pu extends Ks{constructor(p,g,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,c.Z)(function*(){let w=Eo.get(g.auth._key());if(!w){try{const k=(yield function es(v,p){return ts.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;w=()=>Promise.resolve(k)}catch(S){w=()=>Promise.reject(S)}Eo.set(g.auth._key(),w)}return g.bypassAuthState||Eo.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,w=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(w,p);if("unknown"!==p.type){if(p.eventId){const S=yield w.auth._redirectUserForId(p.eventId);if(S)return w.user=S,g().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function ts(){return(ts=(0,c.Z)(function*(v,p){const g=Ui(p),w=ma(v);if(!(yield w._isAvailable()))return!1;const S="true"===(yield w._get(g));return yield w._remove(g),S})).apply(this,arguments)}function Ml(v,p){return ns.apply(this,arguments)}function ns(){return(ns=(0,c.Z)(function*(v,p){return ma(v)._set(Ui(p),"true")})).apply(this,arguments)}function Nc(){Eo.clear()}function ga(v,p){Eo.set(v._key(),p)}function ma(v){return je(v._redirectPersistence)}function Ui(v){return $(ar,v.config.apiKey,v.name)}function Ct(v,p,g){return function ya(v,p,g){return E.apply(this,arguments)}(v,p,g)}function E(){return(E=(0,c.Z)(function*(v,p,g){const w=pr(v);be(v,p,Is),yield w._initializationPromise;const S=ui(w,g);return yield Ml(S,w),S._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function D(v,p,g){return function M(v,p,g){return V.apply(this,arguments)}(v,p,g)}function V(){return(V=(0,c.Z)(function*(v,p,g){const w=(0,B.m9)(v);be(w.auth,p,Is),yield w.auth._initializationPromise;const S=ui(w.auth,g);yield Ml(S,w.auth);const k=yield bt(w);return S._openRedirect(w.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function W(v,p,g){return function ne(v,p,g){return Oe.apply(this,arguments)}(v,p,g)}function Oe(){return(Oe=(0,c.Z)(function*(v,p,g){const w=(0,B.m9)(v);be(w.auth,p,Is),yield w.auth._initializationPromise;const S=ui(w.auth,g);yield Us(!1,w,p.providerId),yield Ml(S,w.auth);const k=yield bt(w);return S._openRedirect(w.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function nt(v,p){return ot.apply(this,arguments)}function ot(){return(ot=(0,c.Z)(function*(v,p){return yield pr(v)._initializationPromise,vt(v,p,!1)})).apply(this,arguments)}function vt(v,p){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,c.Z)(function*(v,p,g=!1){const w=pr(v),S=ui(w,p),Q=yield new pu(w,S,g).execute();return Q&&!g&&(delete Q.user._redirectEventId,yield w._persistUserIfCurrent(Q.user),yield w._setRedirectUser(null,p)),Q})).apply(this,arguments)}function bt(v){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,c.Z)(function*(v){const p=oa(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class Qs{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(g=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Tr(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xr(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var w;if(p.error&&!Xr(p)){const S=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(Ae(this.auth,S))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const w=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ts(p))}saveEventToCache(p){this.cachedEventUids.add(Ts(p)),this.lastProcessedEventTime=Date.now()}}function Ts(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Xr({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function Dn(v){return Co.apply(this,arguments)}function Co(){return(Co=(0,c.Z)(function*(v,p={}){return et(v,"GET","/v1/projects",p)})).apply(this,arguments)}const hh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sr=/^https?/;function xl(){return(xl=(0,c.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield Dn(v);for(const g of p)try{if(rs(g))return}catch{}Pe(v,"unauthorized-domain")})).apply(this,arguments)}function rs(v){const p=ie(),{protocol:g,hostname:w}=new URL(p);if(v.startsWith("chrome-extension://")){const Q=new URL(v);return""===Q.hostname&&""===w?"chrome-extension:"===g&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&Q.hostname===w}if(!Sr.test(g))return!1;if(hh.test(v))return w===v;const S=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const Jr=new Le(3e4,6e4);function _a(){const v=Cn().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let fh=null;const gu=new Le(5e3,15e3),ei="__/auth/iframe",wa="emulator/auth/iframe",j_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ph(v){const p=v.config;K(p.authDomain,v,"auth-domain-config-required");const g=p.emulator?Je(p,wa):`https://${v.config.authDomain}/${ei}`,w={apiKey:p.apiKey,appName:v.name,v:P.SDK_VERSION},S=kc.get(v.config.apiHost);S&&(w.eid=S);const k=v._getFrameworks();return k.length&&(w.fw=k.join(",")),`${g}?${(0,B.xO)(w).slice(1)}`}function Ol(){return Ol=(0,c.Z)(function*(v){const p=yield function is(v){return fh=fh||function Mm(v){return new Promise((p,g)=>{var w,S,k;function Q(){_a(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{_a(),g(Ae(v,"network-request-failed"))},timeout:Jr.get()})}if(null!==(S=null===(w=Cn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==S&&S.Iframe)p(gapi.iframes.getContext());else{if(null===(k=Cn().gapi)||void 0===k||!k.load){const Ee=fu("iframefcb");return Cn()[Ee]=()=>{gapi.load?Q():g(Ae(v,"network-request-failed"))},Il(`https://apis.google.com/js/api.js?onload=${Ee}`).catch(We=>g(We))}Q()}}).catch(p=>{throw fh=null,p})}(v),fh}(v),g=Cn().gapi;return K(g,v,"internal-error"),p.open({where:document.body,url:ph(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:j_,dontclear:!0},w=>new Promise(function(){var S=(0,c.Z)(function*(k,Q){yield w.restyle({setHideOnLeave:!1});const Ee=Ae(v,"network-request-failed"),We=Cn().setTimeout(()=>{Q(Ee)},gu.get());function ft(){Cn().clearTimeout(We),k(w)}w.ping(ft).then(ft,()=>{Q(Ee)})});return function(k,Q){return S.apply(this,arguments)}}()))}),Ol.apply(this,arguments)}const hp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fc=500,Ft=600,li="_blank",xm="http://localhost";class Ia{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Bi="__/auth/handler",pp="emulator/auth/handler";function Lc(v,p,g,w,S,k){K(v.config.authDomain,v,"auth-domain-config-required"),K(v.config.apiKey,v,"invalid-api-key");const Q={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:w,v:P.SDK_VERSION,eventId:S};if(p instanceof Is){p.setDefaultLanguage(v.languageCode),Q.providerId=p.providerId||"",(0,B.xb)(p.getCustomParameters())||(Q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[We,ft]of Object.entries(k||{}))Q[We]=ft}if(p instanceof co){const We=p.getScopes().filter(ft=>""!==ft);We.length>0&&(Q.scopes=We.join(","))}v.tenantId&&(Q.tid=v.tenantId);const Ee=Q;for(const We of Object.keys(Ee))void 0===Ee[We]&&delete Ee[We];return`${function gp({config:v}){return v.emulator?Je(v,pp):`https://${v.authDomain}/${Bi}`}(v)}?${(0,B.xO)(Ee).slice(1)}`}const mh="webStorageSupport",Xs=class Mr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vl,this._completeRedirectFn=vt,this._overrideRedirectResult=ga}_openPopup(p,g,w,S){var k=this;return(0,c.Z)(function*(){var Q;ge(null===(Q=k.eventManagers[p._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const Ee=Lc(p,g,w,ie(),S);return function Om(v,p,g,w=Fc,S=Ft){const k=Math.max((window.screen.availHeight-S)/2,0).toString(),Q=Math.max((window.screen.availWidth-w)/2,0).toString();let Ee="";const We=Object.assign(Object.assign({},hp),{width:w.toString(),height:S.toString(),top:k,left:Q}),ft=(0,B.z$)().toLowerCase();g&&(Ee=Y(ft)?li:g),F(ft)&&(p=p||xm,We.scrollbars="yes");const Ht=Object.entries(We).reduce((ji,[To,Ea])=>`${ji}${To}=${Ea},`,"");if(function In(v=(0,B.z$)()){var p;return qt(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(ft)&&"_self"!==Ee)return function fp(v,p){const g=document.createElement("a");g.href=v,g.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(p||"",Ee),new Ia(null);const Tn=window.open(p||"",Ee,Ht);K(Tn,v,"popup-blocked");try{Tn.focus()}catch{}return new Ia(Tn)}(p,Ee,oa())})()}_openRedirect(p,g,w,S){var k=this;return(0,c.Z)(function*(){return yield k._originValidation(p),function yo(v){Cn().location.href=v}(Lc(p,g,w,ie(),S)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:S,promise:k}=this.eventManagers[g];return S?Promise.resolve(S):(ge(k,"If manager is not set, promise should be"),k)}const w=this.initAndGetManager(p);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(p){var g=this;return(0,c.Z)(function*(){const w=yield function gh(v){return Ol.apply(this,arguments)}(p),S=new Qs(p);return w.register("authEvent",k=>(K(k?.authEvent,p,"invalid-auth-event"),{status:S.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:S},g.iframes[p._key()]=w,S})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(mh,{type:mh},S=>{var k;const Q=null===(k=S?.[0])||void 0===k?void 0:k[mh];void 0!==Q&&g(!!Q),Pe(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function va(v){return xl.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Vr()||O()||qt()}};class xr{constructor(p){this.factorId=p}_process(p,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,w);case"signin":return this._finalizeSignIn(p,g.credential);default:return oe("unexpected MultiFactorSessionType")}}}class Pl extends xr{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Pl(p)}_finalizeEnroll(p,g,w){return function Qr(v,p){return et(v,"POST","/v2/accounts/mfaEnrollment:finalize",ct(v,p))}(p,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function Tc(v,p){return et(v,"POST","/v2/accounts/mfaSignIn:finalize",ct(v,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let yh=(()=>{class v{constructor(){}static assertion(g){return Pl._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var Vc="@firebase/auth";class Nl{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(w=>{p(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);g&&(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,B.Pz)("authIdTokenMaxAge"),function Kt(v){(0,P._registerComponent)(new se.wA("auth",(p,{options:g})=>{const w=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),{apiKey:k,authDomain:Q}=w.options;return((Ee,We)=>{K(k&&!k.includes(":"),"invalid-api-key",{appName:Ee.name}),K(!Q?.includes(":"),"argument-error",{appName:Ee.name});const ft={apiKey:k,authDomain:Q,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:za(v)},Ht=new Ga(Ee,We,ft);return function Xe(v,p){const g=p?.persistence||[],w=(Array.isArray(g)?g:[g]).map(je);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(w,p?.popupRedirectResolver)}(Ht,g),Ht})(w,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,w)=>{p.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new se.wA("auth-internal",p=>{const g=pr(p.getProvider("auth").getImmediate());return new Nl(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(Vc,"0.22.0",function Do(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,P.registerVersion)(Vc,"0.22.0","esm2017")}("Browser")},2090:(ht,Ce,L)=>{L.d(Ce,{$s:()=>yt,BH:()=>be,G6:()=>Se,L:()=>he,LL:()=>mt,P0:()=>Pe,Pz:()=>xe,Sg:()=>$e,UG:()=>ge,US:()=>se,ZB:()=>q,ZR:()=>sn,aH:()=>Ae,b$:()=>Et,eu:()=>Le,hl:()=>ke,jU:()=>Ge,m9:()=>Vn,ne:()=>xt,pd:()=>Fn,r3:()=>kn,ru:()=>je,tV:()=>H,uI:()=>oe,vZ:()=>tr,w1:()=>ie,xO:()=>hr,xb:()=>ii,z$:()=>K,zI:()=>Je,zd:()=>zn});const te=function($){const j=[];let R=0;for(let F=0;F<$.length;F++){let O=$.charCodeAt(F);O<128?j[R++]=O:O<2048?(j[R++]=O>>6|192,j[R++]=63&O|128):55296==(64512&O)&&F+1<$.length&&56320==(64512&$.charCodeAt(F+1))?(O=65536+((1023&O)<<10)+(1023&$.charCodeAt(++F)),j[R++]=O>>18|240,j[R++]=O>>12&63|128,j[R++]=O>>6&63|128,j[R++]=63&O|128):(j[R++]=O>>12|224,j[R++]=O>>6&63|128,j[R++]=63&O|128)}return j},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,j){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const R=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let O=0;O<$.length;O+=3){const Y=$[O],ae=O+1<$.length,it=ae?$[O+1]:0,wt=O+2<$.length,Tt=wt?$[O+2]:0;let In=(15&it)<<2|Tt>>6,Ut=63&Tt;wt||(Ut=64,ae||(In=64)),F.push(R[Y>>2],R[(3&Y)<<4|it>>4],R[In],R[Ut])}return F.join("")},encodeString($,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa($):this.encodeByteArray(te($),j)},decodeString($,j){return this.HAS_NATIVE_SUPPORT&&!j?atob($):function($){const j=[];let R=0,F=0;for(;R<$.length;){const O=$[R++];if(O<128)j[F++]=String.fromCharCode(O);else if(O>191&&O<224){const Y=$[R++];j[F++]=String.fromCharCode((31&O)<<6|63&Y)}else if(O>239&&O<365){const wt=((7&O)<<18|(63&$[R++])<<12|(63&$[R++])<<6|63&$[R++])-65536;j[F++]=String.fromCharCode(55296+(wt>>10)),j[F++]=String.fromCharCode(56320+(1023&wt))}else{const Y=$[R++],ae=$[R++];j[F++]=String.fromCharCode((15&O)<<12|(63&Y)<<6|63&ae)}}return j.join("")}(this.decodeStringToByteArray($,j))},decodeStringToByteArray($,j){this.init_();const R=j?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let O=0;O<$.length;){const Y=R[$.charAt(O++)],it=O<$.length?R[$.charAt(O)]:0;++O;const Tt=O<$.length?R[$.charAt(O)]:64;++O;const It=O<$.length?R[$.charAt(O)]:64;if(++O,null==Y||null==it||null==Tt||null==It)throw new fe;F.push(Y<<2|it>>4),64!==Tt&&(F.push(it<<4&240|Tt>>2),64!==It&&F.push(Tt<<6&192|It))}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const he=function($){return function($){const j=te($);return se.encodeByteArray(j,!0)}($).replace(/\./g,"")},H=function($){try{return se.decodeString($,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function q($,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return j}for(const R in j)!j.hasOwnProperty(R)||!Ve(R)||($[R]=q($[R],j[R]));return $}function Ve($){return"__proto__"!==$}const Ie=()=>{try{return function De(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=$&&H($[1]);return j&&JSON.parse(j)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},Pe=$=>{const j=($=>{var j,R;return null===(R=null===(j=Ie())||void 0===j?void 0:j.emulatorHosts)||void 0===R?void 0:R[$]})($);if(!j)return;const R=j.lastIndexOf(":");if(R<=0||R+1===j.length)throw new Error(`Invalid host ${j} with no separate hostname and port!`);const F=parseInt(j.substring(R+1),10);return"["===j[0]?[j.substring(1,R-1),F]:[j.substring(0,R),F]},Ae=()=>{var $;return null===($=Ie())||void 0===$?void 0:$.config},xe=$=>{var j;return null===(j=Ie())||void 0===j?void 0:j[`_${$}`]};class be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,R)=>{this.resolve=j,this.reject=R})}wrapCallback(j){return(R,F)=>{R?this.reject(R):this.resolve(F),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(R):j(R,F))}}}function $e($,j){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const F=j||"demo-project",O=$.iat||0,Y=$.sub||$.user_id;if(!Y)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ae=Object.assign({iss:`https://securetoken.google.com/${F}`,aud:F,iat:O,exp:O+3600,auth_time:O,sub:Y,user_id:Y,firebase:{sign_in_provider:"custom",identities:{}}},$);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(ae)),""].join(".")}function K(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(K())}function ge(){var $;const j=null===($=Ie())||void 0===$?void 0:$.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ge(){return"object"==typeof self&&self.self===self}function je(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function Et(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ie(){const $=K();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Se(){return!ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ke(){try{return"object"==typeof indexedDB}catch{return!1}}function Le(){return new Promise(($,j)=>{try{let R=!0;const F="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(F);O.onsuccess=()=>{O.result.close(),R||self.indexedDB.deleteDatabase(F),$(!0)},O.onupgradeneeded=()=>{R=!1},O.onerror=()=>{var Y;j((null===(Y=O.error)||void 0===Y?void 0:Y.message)||"")}}catch(R){j(R)}})}function Je(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class sn extends Error{constructor(j,R,F){super(R),this.code=j,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,sn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mt.prototype.create)}}class mt{constructor(j,R,F){this.service=j,this.serviceName=R,this.errors=F}create(j,...R){const F=R[0]||{},O=`${this.service}/${j}`,Y=this.errors[j],ae=Y?function ct($,j){return $.replace(et,(R,F)=>{const O=j[F];return null!=O?String(O):`<${F}?>`})}(Y,F):"Error";return new sn(O,`${this.serviceName}: ${ae} (${O}).`,F)}}const et=/\{\$([^}]+)}/g;function kn($,j){return Object.prototype.hasOwnProperty.call($,j)}function ii($){for(const j in $)if(Object.prototype.hasOwnProperty.call($,j))return!1;return!0}function tr($,j){if($===j)return!0;const R=Object.keys($),F=Object.keys(j);for(const O of R){if(!F.includes(O))return!1;const Y=$[O],ae=j[O];if(rt(Y)&&rt(ae)){if(!tr(Y,ae))return!1}else if(Y!==ae)return!1}for(const O of F)if(!R.includes(O))return!1;return!0}function rt($){return null!==$&&"object"==typeof $}function hr($){const j=[];for(const[R,F]of Object.entries($))Array.isArray(F)?F.forEach(O=>{j.push(encodeURIComponent(R)+"="+encodeURIComponent(O))}):j.push(encodeURIComponent(R)+"="+encodeURIComponent(F));return j.length?"&"+j.join("&"):""}function zn($){const j={};return $.replace(/^\?/,"").split("&").forEach(F=>{if(F){const[O,Y]=F.split("=");j[decodeURIComponent(O)]=decodeURIComponent(Y)}}),j}function Fn($){const j=$.indexOf("?");if(!j)return"";const R=$.indexOf("#",j);return $.substring(j,R>0?R:void 0)}function xt($,j){const R=new dt($,j);return R.subscribe.bind(R)}class dt{constructor(j,R){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=R,this.task.then(()=>{j(this)}).catch(F=>{this.error(F)})}next(j){this.forEachObserver(R=>{R.next(j)})}error(j){this.forEachObserver(R=>{R.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,R,F){let O;if(void 0===j&&void 0===R&&void 0===F)throw new Error("Missing Observer.");O=function En($,j){if("object"!=typeof $||null===$)return!1;for(const R of j)if(R in $&&"function"==typeof $[R])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:R,complete:F},void 0===O.next&&(O.next=Sn),void 0===O.error&&(O.error=Sn),void 0===O.complete&&(O.complete=Sn);const Y=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),Y}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let R=0;R<this.observers.length;R++)this.sendOne(R,j)}sendOne(j,R){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{R(this.observers[j])}catch(F){typeof console<"u"&&console.error&&console.error(F)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sn(){}const Ln=1e3,Ue=2,_e=144e5,tt=.5;function yt($,j=Ln,R=Ue){const F=j*Math.pow(R,$),O=Math.round(tt*F*(Math.random()-.5)*2);return Math.min(_e,F+O)}function Vn($){return $&&$._delegate?$._delegate:$}},9135:(ht,Ce,L)=>{var c=L(4650);let B=null;function P(){return B}class re{}const se=new c.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ce(){return(0,c.LFG)(H)}()},providedIn:"platform"}),n})();const he=new c.OlP("Location Initialized");let H=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){z()?this._history.pushState(t,r,o):this._location.hash=o}replaceState(t,r,o){z()?this._history.replaceState(t,r,o):this._location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function q(){return new H((0,c.LFG)(se))}()},providedIn:"platform"}),n})();function z(){return!!window.history.pushState}function Ve(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function De(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ze(n){return n&&"?"!==n[0]?"?"+n:n}let st=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Ie)},providedIn:"root"}),n})();const pe=new c.OlP("appBaseHref");let Ie=(()=>{class n extends st{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ve(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ze(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const d=this.prepareExternalUrl(o+ze(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){const d=this.prepareExternalUrl(o+ze(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe),c.LFG(pe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),we=(()=>{class n extends st{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ve(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let d=this.prepareExternalUrl(o+ze(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){let d=this.prepareExternalUrl(o+ze(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fe),c.LFG(pe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function $e(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(De(be(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ze(r))}normalize(t){return n.stripTrailingSlash(function xe(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,be(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ze(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ze(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=ze,n.joinWithSlash=Ve,n.stripTrailingSlash=De,n.\u0275fac=function(t){return new(t||n)(c.LFG(st))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ae(){return new Pe((0,c.LFG)(st))}()},providedIn:"root"}),n})();function be(n){return n.replace(/\/index.html$/,"")}const ms=/\s+/,Pi=[];let Qe=(()=>{class n{constructor(t,r,o,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=u,this.initialClasses=Pi,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(ms):Pi}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(ms):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const o=this.stateMap.get(t);void 0!==o?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],o=t[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(ms).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class zi{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let An=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,d)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new zi(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,d),Gi(m,o)}});for(let o=0,u=r.length;o<u;o++){const m=r.get(o).context;m.index=o,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Gi(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Gi(n,e){n.context.$implicit=e.item}let Wa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const pc="server";function yc(n){return n===pc}let Vs=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Yo((0,c.LFG)(se),window)}),n})();class Yo{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Qo(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Us(this.window.history)||Us(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Us(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class go extends re{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ra extends go{static makeCurrent(){!function te(n){B||(B=n)}(new ra)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Dc(){return _i=_i||document.querySelector("base"),_i?_i.getAttribute("href"):null}();return null==t?null:function ia(n){wi=wi||document.createElement("a"),wi.setAttribute("href",n);const e=wi.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){_i=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Xu(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let wi,_i=null;const Ac=new c.OlP("TRANSITION_ID"),ou=[{provide:c.ip1,useFactory:function Cm(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=P(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[Ac,se,c.zs3],multi:!0}];let vl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const sa=new c.OlP("EventManagerPlugins");let _l=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const d=o[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(sa),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class oa{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=P().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let mo=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const o=this.usageCount;let u=o.get(t)??0;return u+=r,u>0?o.set(t,u):o.delete(t),u}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Cn=(()=>{class n extends mo{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(u=>u.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const o=this.doc.createElement("style");o.textContent=r,t.appendChild(o);const u=this.styleRef.get(r);u?u.push(o):this.styleRef.set(r,[o])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const yo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vi=/%COMP%/g,uu=new c.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Qi(n,e){return e.flat(100).map(t=>t.replace(Vi,n))}function vo(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let la=(()=>{class n{constructor(t,r,o,u){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestory=u,this.rendererByCompId=new Map,this.defaultRenderer=new $r(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const o=this.getOrCreateRenderer(t,r);return o instanceof ca?o.applyToHost(t):o instanceof zs&&o.applyStyles(),o}getOrCreateRenderer(t,r){const o=this.rendererByCompId;let u=o.get(r.id);if(!u){const d=this.eventManager,m=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(r.encapsulation){case c.ifc.Emulated:u=new ca(d,m,r,this.appId,_);break;case c.ifc.ShadowDom:return new wo(d,m,t,r);default:u=new zs(d,m,r,_)}u.onDestroy=()=>o.delete(r.id),o.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_l),c.LFG(Cn),c.LFG(c.AFp),c.LFG(uu))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class $r{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(yo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(_o(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(_o(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=yo[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=yo[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,o&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,vo(r)):this.eventManager.addEventListener(e,t,vo(r))}}function _o(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class wo extends $r{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Qi(o.id,o.styles);for(const d of u){const m=document.createElement("style");m.textContent=d,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class zs extends $r{constructor(e,t,r,o,u=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=o,this.rendererUsageCount=0,this.styles=Qi(u,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ca extends zs{constructor(e,t,r,o,u){const d=o+"-"+r.id;super(e,t,r,u,d),this.contentAttr=function Yi(n){return"_ngcontent-%COMP%".replace(Vi,n)}(d),this.hostAttr=function uh(n){return"_nghost-%COMP%".replace(Vi,n)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let lh=(()=>{class n extends oa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const cu=["alt","control","meta","shift"],wl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},du={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Tc=(()=>{class n extends oa{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let d="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),d="code."),cu.forEach(C=>{const T=r.indexOf(C);T>-1&&(r.splice(T,1),d+=C+".")}),d+=u,0!=r.length||0===u.length)return null;const _={};return _.domEventName=o,_.fullKey=d,_}static matchEventFullKeyCode(t,r){let o=wl[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(o=t.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),cu.forEach(d=>{d!==o&&(0,du[d])(t)&&(u+=d+".")}),u+=o,u===r)}static eventCallback(t,r,o){return u=>{n.matchEventFullKeyCode(u,t)&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const El=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function fu(){ra.makeCurrent()},multi:!0},{provide:se,useFactory:function bl(){return(0,c.RDi)(document),document},deps:[]}]),Sc=new c.OlP(""),Mc=[{provide:c.rWj,useClass:class Dm{addToWindow(e){c.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const o=c.dqk.getAllAngularTestabilities();let u=o.length,d=!1;const m=function(_){d=d||_,u--,0==u&&r(d)};o.forEach(function(_){_.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Io=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Hr(){return new c.qLn},deps:[]},{provide:sa,useClass:lh,multi:!0,deps:[se,c.R0b,c.Lbi]},{provide:sa,useClass:Tc,multi:!0,deps:[se]},{provide:la,useClass:la,deps:[_l,Cn,c.AFp,uu]},{provide:c.FYo,useExisting:la},{provide:mo,useExisting:Cn},{provide:Cn,useClass:Cn,deps:[se]},{provide:_l,useClass:_l,deps:[sa,c.R0b]},{provide:class Qa{},useClass:vl,deps:[]},[]];let bo=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Ac,useExisting:c.AFp},ou]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Sc,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Io,...Mc],imports:[Wa,c.hGG]}),n})(),Zs=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function xc(){return new Zs((0,c.LFG)(se))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Wt=L(8996),Ys=L(7669);function ut(...n){const e=(0,Ys.yG)(n);return(0,Wt.D)(n,e)}var Ji=L(7579);class ar extends Ji.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const pu=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var es=L(9751);const{isArray:ts}=Array,{getPrototypeOf:Ml,prototype:ns,keys:Nc}=Object;function ga(n){if(1===n.length){const e=n[0];if(ts(e))return{args:e,keys:null};if(function ma(n){return n&&"object"==typeof n&&Ml(n)===ns}(e)){const t=Nc(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ui=L(4671),Ct=L(4004);const{isArray:ya}=Array;function D(n){return(0,Ct.U)(e=>function E(n,e){return ya(e)?n(...e):n(e)}(n,e))}function M(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var V=L(5403),W=L(9672);function ne(...n){const e=(0,Ys.yG)(n),t=(0,Ys.jO)(n),{args:r,keys:o}=ga(n);if(0===r.length)return(0,Wt.D)([],e);const u=new es.y(function Oe(n,e,t=Ui.y){return r=>{nt(e,()=>{const{length:o}=n,u=new Array(o);let d=o,m=o;for(let _=0;_<o;_++)nt(e,()=>{const C=(0,Wt.D)(n[_],e);let T=!1;C.subscribe((0,V.x)(r,N=>{u[_]=N,T||(T=!0,m--),m||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>M(o,d):Ui.y));return t?u.pipe(D(t)):u}function nt(n,e,t){n?(0,W.f)(t,n,e):e()}var ot=L(8189);function Zt(...n){return function vt(){return(0,ot.J)(1)}()((0,Wt.D)(n,(0,Ys.yG)(n)))}var bt=L(8421);function Ar(n){return new es.y(e=>{(0,bt.Xf)(n()).subscribe(e)})}var yr=L(9635),Qs=L(576);function Ts(n,e){const t=(0,Qs.m)(n)?n:()=>n,r=o=>o.error(t());return new es.y(e?o=>e.schedule(r,0,o):r)}var Xr=L(515),Tr=L(727),Dn=L(4482);function Co(){return(0,Dn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,V.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class hh extends es.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Dn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Tr.w0;const t=this.getSubject();e.add(this.source.subscribe((0,V.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Tr.w0.EMPTY)}return e}refCount(){return Co()(this)}}function Sr(n,e){return(0,Dn.e)((t,r)=>{let o=null,u=0,d=!1;const m=()=>d&&!o&&r.complete();t.subscribe((0,V.x)(r,_=>{o?.unsubscribe();let C=0;const T=u++;(0,bt.Xf)(n(_,T)).subscribe(o=(0,V.x)(r,N=>r.next(e?e(_,N,T,C++):N),()=>{o=null,m()}))},()=>{d=!0,m()}))})}function va(n){return n<=0?()=>Xr.E:(0,Dn.e)((e,t)=>{let r=0;e.subscribe((0,V.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function xl(...n){const e=(0,Ys.yG)(n);return(0,Dn.e)((t,r)=>{(e?Zt(n,t,e):Zt(n,t)).subscribe(r)})}function rs(n,e){return(0,Dn.e)((t,r)=>{let o=0;t.subscribe((0,V.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}var Jr=L(5577);function _a(n){return(0,Dn.e)((e,t)=>{let r=!1;e.subscribe((0,V.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Mm(n=fh){return(0,Dn.e)((e,t)=>{let r=!1;e.subscribe((0,V.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function fh(){return new pu}function is(n,e){const t=arguments.length>=2;return r=>r.pipe(n?rs((o,u)=>n(o,u,r)):Ui.y,va(1),t?_a(e):Mm(()=>new pu))}function gu(n,e){return(0,Qs.m)(e)?(0,Jr.z)(n,e,1):(0,Jr.z)(n,1)}var ei=L(8505);function wa(n){return(0,Dn.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,V.x)(t,void 0,void 0,d=>{u=(0,bt.Xf)(n(d,wa(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}function kc(n,e){return(0,Dn.e)(function j_(n,e,t,r,o){return(u,d)=>{let m=t,_=e,C=0;u.subscribe((0,V.x)(d,T=>{const N=C++;_=m?n(_,T,N):(m=!0,T),r&&d.next(_)},o&&(()=>{m&&d.next(_),d.complete()})))}}(n,e,arguments.length>=2,!0))}function ph(n){return n<=0?()=>Xr.E:(0,Dn.e)((e,t)=>{let r=[];e.subscribe((0,V.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function gh(n,e){const t=arguments.length>=2;return r=>r.pipe(n?rs((o,u)=>n(o,u,r)):Ui.y,ph(1),t?_a(e):Mm(()=>new pu))}function Fc(n){return(0,Dn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ft="primary",li=Symbol("RouteTitle");class xm{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ia(n){return new xm(n)}function Om(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const d=r[u],m=n[u];if(d.startsWith(":"))o[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Bi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!pp(n[o],e[o]))return!1;return!0}function pp(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function Lc(n){return Array.prototype.concat.apply([],n)}function gp(n){return n.length>0?n[n.length-1]:null}function Mr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Xs(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Wt.D)(Promise.resolve(n)):ut(n)}const xr=!1,Pl={exact:function ba(n,e,t){if(!Ao(n.segments,e.segments)||!Nl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ba(n.children[r],e.children[r],t))return!1;return!0},subset:Vc},yh={exact:function vr(n,e){return Bi(n,e)},subset:function Rl(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>pp(n[t],e[t]))},ignored:()=>!0};function vh(n,e,t){return Pl[t.paths](n.root,e.root,t.matrixParams)&&yh[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Vc(n,e,t){return _h(n,e,e.segments,t)}function _h(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Ao(o,t)||e.hasChildren()||!Nl(o,t,r))}if(n.segments.length===t.length){if(!Ao(n.segments,t)||!Nl(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Vc(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Ao(n.segments,o)&&Nl(n.segments,o,r)&&n.children[Ft])&&_h(n.children[Ft],e,u,r)}}function Nl(n,e,t){return e.every((r,o)=>yh[t](n[o].parameters,r.parameters))}class Do{constructor(e=new Kt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ia(this.queryParams)),this._queryParamMap}toString(){return p.serialize(this)}}class Kt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Mr(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return g(this)}}class kl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ia(this.parameters)),this._parameterMap}toString(){return Ht(this)}}function Ao(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let mu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new v},providedIn:"root"}),n})();class v{parse(e){const t=new Uc(e);return new Do(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${w(e.root,!0)}`,r=function ji(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${k(t)}=${k(o)}`).join("&"):`${k(t)}=${k(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Q(n){return encodeURI(n)}(e.fragment)}`:""}`}}const p=new v;function g(n){return n.segments.map(e=>Ht(e)).join("/")}function w(n,e){if(!n.hasChildren())return g(n);if(e){const t=n.children[Ft]?w(n.children[Ft],!1):"",r=[];return Mr(n.children,(o,u)=>{u!==Ft&&r.push(`${u}:${w(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Pm(n,e){let t=[];return Mr(n.children,(r,o)=>{o===Ft&&(t=t.concat(e(r,o)))}),Mr(n.children,(r,o)=>{o!==Ft&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Ft?[w(n.children[Ft],!1)]:[`${o}:${w(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ft]?`${g(n)}/${t[0]}`:`${g(n)}/(${t.join("//")})`}}function S(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function k(n){return S(n).replace(/%3B/gi,";")}function Ee(n){return S(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function We(n){return decodeURIComponent(n)}function ft(n){return We(n.replace(/\+/g,"%20"))}function Ht(n){return`${Ee(n.path)}${function Tn(n){return Object.keys(n).map(e=>`;${Ee(e)}=${Ee(n[e])}`).join("")}(n.parameters)}`}const To=/^[^\/()?;=#]+/;function Ea(n){const e=n.match(To);return e?e[0]:""}const yp=/^[^=?&#]+/,vp=/^[^&#]+/;class Uc{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kt([],{}):new Kt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ft]=new Kt(e,t)),r}parseSegment(){const e=Ea(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,xr);return this.capture(e),new kl(We(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ea(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Ea(this.remaining);o&&(r=o,this.capture(r))}e[We(t)]=We(r)}parseQueryParam(e){const t=function wh(n){const e=n.match(yp);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function _p(n){const e=n.match(vp);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=ft(t),u=ft(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ea(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new c.vHH(4010,xr);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Ft);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[Ft]:new Kt([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,xr)}}function yu(n){return n.segments.length>0?new Kt([],{[Ft]:n}):n}function vu(n){const e={};for(const r of Object.keys(n.children)){const u=vu(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Fl(n){if(1===n.numberOfChildren&&n.children[Ft]){const e=n.children[Ft];return new Kt(n.segments.concat(e.segments),e.children)}return n}(new Kt(n.segments,e))}function So(n){return n instanceof Do}const Ih=!1;function $_(n,e,t,r,o){if(0===t.length)return Dh(e.root,e.root,e.root,r,o);const u=function Rm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new H_(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Mr(u.outlets,(_,C)=>{m[C]="string"==typeof _?_.split("/"):_}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===d?(u.split("/").forEach((m,_)=>{0==_&&"."===m||(0==_&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new H_(t,e,r)}(t);return u.toRoot()?Dh(e.root,e.root,new Kt([],{}),r,o):function d(_){const C=function Nm(n,e,t,r){if(n.isAbsolute)return new Ll(e.root,!0,0);if(-1===r)return new Ll(t,t===e.root,0);return function km(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new c.vHH(4005,Ih&&"Invalid number of '../'");o=r.segments.length}return new Ll(r,!1,o-u)}(t,r+(Bc(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,_),T=C.processChildren?Vl(C.segmentGroup,C.index,u.commands):jc(C.segmentGroup,C.index,u.commands);return Dh(e.root,C.segmentGroup,T,r,o)}(n.snapshot?._lastPathIndex)}function Bc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ch(n){return"object"==typeof n&&null!=n&&n.outlets}function Dh(n,e,t,r,o){let d,u={};r&&Mr(r,(_,C)=>{u[C]=Array.isArray(_)?_.map(T=>`${T}`):`${_}`}),d=n===e?t:Ah(n,e,t);const m=yu(vu(d));return new Do(m,u,o)}function Ah(n,e,t){const r={};return Mr(n.children,(o,u)=>{r[u]=o===e?t:Ah(o,e,t)}),new Kt(n.segments,r)}class H_{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Bc(r[0]))throw new c.vHH(4003,Ih&&"Root segment cannot have matrix parameters");const o=r.find(Ch);if(o&&o!==gp(r))throw new c.vHH(4004,Ih&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ll{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function jc(n,e,t){if(n||(n=new Kt([],{})),0===n.segments.length&&n.hasChildren())return Vl(n,e,t);const r=function Fm(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const d=n.segments[o],m=t[r];if(Ch(m))break;const _=`${m}`,C=r<t.length-1?t[r+1]:null;if(o>0&&void 0===_)break;if(_&&C&&"object"==typeof C&&void 0===C.outlets){if(!G_(_,C,d))return u;r+=2}else{if(!G_(_,{},d))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Kt(n.segments.slice(0,r.pathIndex),{});return u.children[Ft]=new Kt(n.segments.slice(r.pathIndex),n.children),Vl(u,0,o)}return r.match&&0===o.length?new Kt(n.segments,{}):r.match&&!n.hasChildren()?Th(n,e,t):r.match?Vl(n,0,o):Th(n,e,t)}function Vl(n,e,t){if(0===t.length)return new Kt(n.segments,{});{const r=function wp(n){return Ch(n[0])?n[0].outlets:{[Ft]:n}}(t),o={};if(!r[Ft]&&n.children[Ft]&&1===n.numberOfChildren&&0===n.children[Ft].segments.length){const u=Vl(n.children[Ft],e,t);return new Kt(n.segments,u.children)}return Mr(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[d]=jc(n.children[d],e,u))}),Mr(n.children,(u,d)=>{void 0===r[d]&&(o[d]=u)}),new Kt(n.segments,o)}}function Th(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(Ch(u)){const _=Lm(u.outlets);return new Kt(r,_)}if(0===o&&Bc(t[0])){r.push(new kl(n.segments[e].path,$c(t[0]))),o++;continue}const d=Ch(u)?u.outlets[Ft]:`${u}`,m=o<t.length-1?t[o+1]:null;d&&m&&Bc(m)?(r.push(new kl(d,$c(m))),o+=2):(r.push(new kl(d,{})),o++)}return new Kt(r,{})}function Lm(n){const e={};return Mr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Th(new Kt([],{}),0,t))}),e}function $c(n){const e={};return Mr(n,(t,r)=>e[r]=`${t}`),e}function G_(n,e,t){return n==t.path&&Bi(e,t.parameters)}const Hc="imperative";class Mo{constructor(e,t){this.id=e,this.url=t}}class Vm extends Mo{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ul extends Mo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sh extends Mo{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mh extends Mo{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class zc extends Mo{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Um extends Mo{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gc extends Mo{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fE extends Mo{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pE extends Mo{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SS extends Mo{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gE{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bm{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mE{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Z_{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ip{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jm{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $m{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let K_=(()=>{class n{createUrlTree(t,r,o,u,d,m){return $_(t||r.root,o,u,d,m)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),vE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){return K_.\u0275fac(e)},providedIn:"root"}),n})();class Y_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Hm(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Hm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=zm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return zm(e,this._root).map(t=>t.value)}}function Hm(n,e){if(n===e.value)return e;for(const t of e.children){const r=Hm(n,t);if(r)return r}return null}function zm(n,e){if(n===e.value)return[e];for(const t of e.children){const r=zm(n,t);if(r.length)return r.unshift(e),r}return[]}class ci{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function xo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Q_ extends Y_{constructor(e,t){super(e),this.snapshot=t,Gm(this,e)}toString(){return this.snapshot.toString()}}function _E(n,e){const t=function MS(n,e){const d=new Oh([],{},{},"",{},Ft,e,null,n.root,-1,{});return new X_("",new ci(d,[]))}(n,e),r=new ar([new kl("",{})]),o=new ar({}),u=new ar({}),d=new ar({}),m=new ar(""),_=new xh(r,o,d,m,u,Ft,e,t.root);return _.snapshot=t.root,new Q_(new ci(_,[]),t)}class xh{constructor(e,t,r,o,u,d,m,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=m,this.title=this.data?.pipe((0,Ct.U)(C=>C[li]))??ut(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ct.U)(e=>Ia(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ct.U)(e=>Ia(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wE(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function xS(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Oh{get title(){return this.data?.[li]}constructor(e,t,r,o,u,d,m,_,C,T,N){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=m,this.routeConfig=_,this._urlSegment=C,this._lastPathIndex=T,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ia(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ia(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class X_ extends Y_{constructor(e,t){super(t),this.url=e,Gm(this,t)}toString(){return J_(this._root)}}function Gm(n,e){e.value._routerState=n,e.children.forEach(t=>Gm(n,t))}function J_(n){const e=n.children.length>0?` { ${n.children.map(J_).join(", ")} } `:"";return`${n.value}${e}`}function Zm(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Bi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Bi(e.params,t.params)||n.params.next(t.params),function fp(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Bi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Bi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ph(n,e){const t=Bi(n.params,e.params)&&function mp(n,e){return Ao(n,e)&&n.every((t,r)=>Bi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ph(n.parent,e.parent))}function Da(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function e0(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Da(n,r,o);return Da(n,r)})}(n,e,t);return new ci(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>Da(n,m)),d}}const r=function t0(n){return new xh(new ar(n.url),new ar(n.params),new ar(n.queryParams),new ar(n.fragment),new ar(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>Da(n,u));return new ci(r,o)}}const bp="ngNavigationCancelingError";function IE(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=So(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=bE(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function bE(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[bp]=!0,r.cancellationCode=e,t&&(r.url=t),r}function EE(n){return Ep(n)&&So(n.url)}function Ep(n){return n&&n[bp]}class qm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Cp,this.attachRef=null}}let Cp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new qm,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wm=!1;let Dp=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ft,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(Cp),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,Wm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,Wm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,Wm);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new c.vHH(4013,Wm);this._activatedRoute=t;const o=this.location,d=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,_=new CE(t,m,o.injector);if(r&&function DE(n){return!!n.resolveComponentFactory}(r)){const C=r.resolveComponentFactory(d);this.activated=o.createComponent(C,o.length,_)}else this.activated=o.createComponent(d,{index:o.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),n})();class CE{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===xh?this.route:e===Cp?this.childContexts:this.parent.get(e,t)}}let Km=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[Dp],encapsulation:2}),n})();function n0(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Rh(n){const e=n.children&&n.children.map(Rh),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ft&&(t.component=Km),t}function ss(n){return n.outlet||Ft}function o0(n,e){const t=n.filter(r=>ss(r)===e);return t.push(...n.filter(r=>ss(r)!==e)),t}function Nh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class ME{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Zm(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=xo(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,o[d],r),delete o[d]}),Mr(o,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=xo(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=xo(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=xo(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new jm(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Z_(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(Zm(o),o===u)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),Zm(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=Nh(o.snapshot),_=m?.get(c._Vd)??null;d.attachRef=null,d.route=o,d.resolver=_,d.injector=m,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Xm{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Jm{constructor(e,t){this.component=e,this.route=t}}function PS(n,e,t){const r=n._root;return Zc(r,e?e._root:null,t,[r.value])}function wu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:r}function Zc(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=xo(e);return n.children.forEach(d=>{(function a0(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const _=function u0(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ao(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ao(n.url,e.url)||!Bi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ph(n,e)||!Bi(n.queryParams,e.queryParams);default:return!Ph(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);_?o.canActivateChecks.push(new Xm(r)):(u.data=d.data,u._resolvedData=d._resolvedData),Zc(n,e,u.component?m?m.children:null:t,r,o),_&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new Jm(m.outlet.component,d))}else d&&Ap(e,m,o),o.canActivateChecks.push(new Xm(r)),Zc(n,null,u.component?m?m.children:null:t,r,o)})(d,u[d.value.outlet],t,r.concat([d.value]),o),delete u[d.value.outlet]}),Mr(u,(d,m)=>Ap(d,t.getContext(m),o)),o}function Ap(n,e,t){const r=xo(n),o=n.value;Mr(r,(u,d)=>{Ap(u,o.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new Jm(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Fh(n){return"function"==typeof n}function Tp(n){return n instanceof pu||"EmptyError"===n?.name}const Oo=Symbol("INITIAL_VALUE");function qc(){return Sr(n=>ne(n.map(e=>e.pipe(va(1),xl(Oo)))).pipe((0,Ct.U)(e=>{for(const t of e)if(!0!==t){if(t===Oo)return Oo;if(!1===t||t instanceof Do)return t}return!0}),rs(e=>e!==Oo),va(1)))}function p0(n){return(0,yr.z)((0,ei.b)(e=>{if(So(e))throw IE(0,e)}),(0,Ct.U)(e=>!0===e))}const Iu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function m0(n,e,t,r,o){const u=sy(n,e,t);return u.matched?function g0(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?ut(o.map(d=>{const m=wu(d,n);return Xs(function xE(n){return n&&Fh(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))})).pipe(qc(),p0()):ut(!0)}(r=n0(e,r),e,t).pipe((0,Ct.U)(d=>!0===d?u:{...Iu})):ut(u)}function sy(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Iu}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||Om)(t,n,e);if(!o)return{...Iu};const u={};Mr(o.posParams,(m,_)=>{u[_]=m.path});const d=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function xp(n,e,t,r){if(t.length>0&&function y0(n,e,t){return t.some(r=>Lh(n,e,r)&&ss(r)!==Ft)}(n,t,r)){const u=new Kt(e,function RE(n,e,t,r){const o={};o[Ft]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&ss(u)!==Ft){const d=new Kt([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,o[ss(u)]=d}return o}(n,e,r,new Kt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function NE(n,e,t){return t.some(r=>Lh(n,e,r))}(n,t,r)){const u=new Kt(n.segments,function oy(n,e,t,r,o){const u={};for(const d of r)if(Lh(n,t,d)&&!o[ss(d)]){const m=new Kt([],{});m._sourceSegment=n,m._segmentIndexShift=e.length,u[ss(d)]=m}return{...o,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const o=new Kt(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function Lh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function kE(n,e,t,r){return!!(ss(n)===r||r!==Ft&&Lh(e,t,n))&&("**"===n.path||sy(e,n,t).matched)}function v0(n,e,t){return 0===e.length&&!n.children[t]}const bu=!1;class Op{constructor(e){this.segmentGroup=e||null}}class jl{constructor(e){this.urlTree=e}}function Aa(n){return Ts(new Op(n))}function _0(n){return Ts(new jl(n))}class VE{constructor(e,t,r,o,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0}apply(){const e=xp(this.urlTree.root,[],[],this.config).segmentGroup,t=new Kt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ft).pipe((0,Ct.U)(u=>this.createUrlTree(vu(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(wa(u=>{if(u instanceof jl)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Op?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ft).pipe((0,Ct.U)(o=>this.createUrlTree(vu(o),e.queryParams,e.fragment))).pipe(wa(o=>{throw o instanceof Op?this.noMatchError(o):o}))}noMatchError(e){return new c.vHH(4002,bu)}createUrlTree(e,t,r){const o=yu(e);return new Do(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Ct.U)(u=>new Kt([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,Wt.D)(o).pipe(gu(u=>{const d=r.children[u],m=o0(t,u);return this.expandSegmentGroup(e,m,d,u).pipe((0,Ct.U)(_=>({segment:_,outlet:u})))}),kc((u,d)=>(u[d.outlet]=d.segment,u),{}),gh())}expandSegment(e,t,r,o,u,d){return(0,Wt.D)(r).pipe(gu(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,u,d).pipe(wa(C=>{if(C instanceof Op)return ut(null);throw C}))),is(m=>!!m),wa((m,_)=>{if(Tp(m))return v0(t,o,u)?ut(new Kt([],{})):Aa(t);throw m}))}expandSegmentAgainstRoute(e,t,r,o,u,d,m){return kE(o,t,u,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d):Aa(t):Aa(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?_0(u):this.lineralizeSegments(r,u).pipe((0,Jr.z)(d=>{const m=new Kt(d,{});return this.expandSegment(e,m,t,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){const{matched:m,consumedSegments:_,remainingSegments:C,positionalParamSegments:T}=sy(t,o,u);if(!m)return Aa(t);const N=this.applyRedirectCommands(_,o.redirectTo,T);return o.redirectTo.startsWith("/")?_0(N):this.lineralizeSegments(o,N).pipe((0,Jr.z)(G=>this.expandSegment(e,t,r,G.concat(C),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){return"**"===r.path?(e=n0(r,e),r.loadChildren?(r._loadedRoutes?ut({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Ct.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new Kt(o,{})))):ut(new Kt(o,{}))):m0(t,r,o,e).pipe(Sr(({matched:d,consumedSegments:m,remainingSegments:_})=>d?this.getChildConfig(e=r._injector??e,r,o).pipe((0,Jr.z)(T=>{const N=T.injector??e,G=T.routes,{segmentGroup:ee,slicedSegments:me}=xp(t,m,_,G),Fe=new Kt(ee.segments,ee.children);if(0===me.length&&Fe.hasChildren())return this.expandChildren(N,G,Fe).pipe((0,Ct.U)(Nt=>new Kt(m,Nt)));if(0===G.length&&0===me.length)return ut(new Kt(m,{}));const He=ss(r)===u;return this.expandSegment(N,Fe,G,me,He?Ft:u,!0).pipe((0,Ct.U)(Qt=>new Kt(m.concat(Qt.segments),Qt.children)))})):Aa(t)))}getChildConfig(e,t,r){return t.children?ut({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ut({routes:t._loadedRoutes,injector:t._loadedInjector}):function PE(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?ut(!0):ut(o.map(d=>{const m=wu(d,n);return Xs(function c0(n){return n&&Fh(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))})).pipe(qc(),p0())}(e,t,r).pipe((0,Jr.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,ei.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function FE(n){return Ts(bE(bu,3))}())):ut({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return ut(r);if(o.numberOfChildren>1||!o.children[Ft])return e.redirectTo,Ts(new c.vHH(4e3,bu));o=o.children[Ft]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new Do(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Mr(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[u]=t[m]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let d={};return Mr(t.children,(m,_)=>{d[_]=this.createSegmentGroup(e,m,r,o)}),new Kt(u,d)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new c.vHH(4001,bu);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class uy{}class cy{constructor(e,t,r,o,u,d,m){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=d,this.urlSerializer=m}recognize(){const e=xp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ft).pipe((0,Ct.U)(t=>{if(null===t)return null;const r=new Oh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new ci(r,t),u=new X_(this.url,o);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=wE(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return(0,Wt.D)(Object.keys(r.children)).pipe(gu(o=>{const u=r.children[o],d=o0(t,o);return this.processSegmentGroup(e,d,u,o)}),kc((o,u)=>o&&u?(o.push(...u),o):null),function Ol(n,e=!1){return(0,Dn.e)((t,r)=>{let o=0;t.subscribe((0,V.x)(r,u=>{const d=n(u,o++);(d||e)&&r.next(u),!d&&r.complete()}))})}(o=>null!==o),_a(null),gh(),(0,Ct.U)(o=>{if(null===o)return null;const u=b0(o);return function Vh(n){n.sort((e,t)=>e.value.outlet===Ft?-1:t.value.outlet===Ft?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,o,u){return(0,Wt.D)(t).pipe(gu(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,o,u)),is(d=>!!d),wa(d=>{if(Tp(d))return v0(r,o,u)?ut([]):ut(null);throw d}))}processSegmentAgainstRoute(e,t,r,o,u){if(t.redirectTo||!kE(t,r,o,u))return ut(null);let d;if("**"===t.path){const m=o.length>0?gp(o).parameters:{},_=C0(r)+o.length;d=ut({snapshot:new Oh(o,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$l(t),ss(t),t.component??t._loadedComponent??null,t,E0(r),_,Po(t)),consumedSegments:[],remainingSegments:[]})}else d=m0(r,t,o,e).pipe((0,Ct.U)(({matched:m,consumedSegments:_,remainingSegments:C,parameters:T})=>{if(!m)return null;const N=C0(r)+_.length;return{snapshot:new Oh(_,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$l(t),ss(t),t.component??t._loadedComponent??null,t,E0(r),N,Po(t)),consumedSegments:_,remainingSegments:C}}));return d.pipe(Sr(m=>{if(null===m)return ut(null);const{snapshot:_,consumedSegments:C,remainingSegments:T}=m;e=t._injector??e;const N=t._loadedInjector??e,G=function BE(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:ee,slicedSegments:me}=xp(r,C,T,G.filter(He=>void 0===He.redirectTo));if(0===me.length&&ee.hasChildren())return this.processChildren(N,G,ee).pipe((0,Ct.U)(He=>null===He?null:[new ci(_,He)]));if(0===G.length&&0===me.length)return ut([new ci(_,[])]);const Fe=ss(t)===u;return this.processSegment(N,G,ee,me,Fe?Ft:u).pipe((0,Ct.U)(He=>null===He?null:[new ci(_,He)]))}))}}function jE(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function b0(n){const e=[],t=new Set;for(const r of n){if(!jE(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=b0(r.children);e.push(new ci(r.value,o))}return e.filter(r=>!t.has(r))}function E0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function C0(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function $l(n){return n.data||{}}function Po(n){return n.resolve||{}}function dy(n){return"string"==typeof n.title||null===n.title}function Pp(n){return Sr(e=>{const t=n(e);return t?(0,Wt.D)(t).pipe((0,Ct.U)(()=>e)):ut(e)})}const Hl=new c.OlP("ROUTES");let hy=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ut(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Xs(t.loadComponent()).pipe((0,Ct.U)(Ss),(0,ei.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Fc(()=>{this.componentLoaders.delete(t)})),o=new hh(r,()=>new Ji.x).pipe(Co());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ut({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Ct.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,C,T=!1;Array.isArray(m)?C=m:(_=m.create(t).injector,C=Lc(_.get(Hl,[],c.XFs.Self|c.XFs.Optional)));return{routes:C.map(Rh),injector:_}}),Fc(()=>{this.childrenLoaders.delete(r)})),d=new hh(u,()=>new Ji.x).pipe(Co());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return Xs(t()).pipe((0,Ct.U)(Ss),(0,Jr.z)(r=>r instanceof c.YKP||Array.isArray(r)?ut(r):(0,Wt.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ss(n){return function GE(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Uh=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ji.x,this.configLoader=(0,c.f3M)(hy),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(mu),this.rootContexts=(0,c.f3M)(Cp),this.navigationId=0,this.afterPreactivation=()=>ut(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new Bm(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new gE(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new ar({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Hc,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(rs(r=>0!==r.id),(0,Ct.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Sr(r=>{let o=!1,u=!1;return ut(r).pipe((0,ei.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Sr(d=>{const m=t.browserUrlTree.toString(),_=!t.navigated||d.extractedUrl.toString()!==m||m!==t.currentUrlTree.toString();if(!_&&"reload"!==(d.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const T="";return this.events.next(new Mh(d.id,t.serializeUrl(r.rawUrl),T,0)),t.rawUrlTree=d.rawUrl,d.resolve(null),Xr.E}if(t.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return T0(d.source)&&(t.browserUrlTree=d.extractedUrl),ut(d).pipe(Sr(T=>{const N=this.transitions?.getValue();return this.events.next(new Vm(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),N!==this.transitions?.getValue()?Xr.E:Promise.resolve(T)}),function I0(n,e,t,r){return Sr(o=>function LE(n,e,t,r,o){return new VE(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,Ct.U)(u=>({...o,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,ei.b)(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},r.urlAfterRedirects=T.urlAfterRedirects}),function HE(n,e,t,r,o){return(0,Jr.z)(u=>function UE(n,e,t,r,o,u,d="emptyOnly"){return new cy(n,e,t,r,o,d,u).recognize().pipe(Sr(m=>null===m?function ly(n){return new es.y(e=>e.error(n))}(new uy):ut(m)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,o).pipe((0,Ct.U)(d=>({...u,targetSnapshot:d}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,ei.b)(T=>{if(r.targetSnapshot=T.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!T.extras.skipLocationChange){const G=t.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);t.setBrowserUrl(G,T)}t.browserUrlTree=T.urlAfterRedirects}const N=new Um(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(N)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:T,extractedUrl:N,source:G,restoredState:ee,extras:me}=d,Fe=new Vm(T,this.urlSerializer.serialize(N),G,ee);this.events.next(Fe);const He=_E(N,this.rootComponentType).snapshot;return ut(r={...d,targetSnapshot:He,urlAfterRedirects:N,extras:{...me,skipLocationChange:!1,replaceUrl:!1}})}{const T="";return this.events.next(new Mh(d.id,t.serializeUrl(r.extractedUrl),T,1)),t.rawUrlTree=d.rawUrl,d.resolve(null),Xr.E}}),(0,ei.b)(d=>{const m=new Gc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}),(0,Ct.U)(d=>r={...d,guards:PS(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function ny(n,e){return(0,Jr.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?ut({...t,guardsResult:!0}):function Sp(n,e,t,r){return(0,Wt.D)(n).pipe((0,Jr.z)(o=>function iy(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?ut(u.map(m=>{const _=Nh(e)??o,C=wu(m,_);return Xs(function ty(n){return n&&Fh(n.canDeactivate)}(C)?C.canDeactivate(n,e,t,r):_.runInContext(()=>C(n,e,t,r))).pipe(is())})).pipe(qc()):ut(!0)}(o.component,o.route,t,e,r)),is(o=>!0!==o,!0))}(d,r,o,n).pipe((0,Jr.z)(m=>m&&function l0(n){return"boolean"==typeof n}(m)?function OE(n,e,t,r){return(0,Wt.D)(e).pipe(gu(o=>Zt(function Mp(n,e){return null!==n&&e&&e(new mE(n)),ut(!0)}(o.route.parent,r),function ry(n,e){return null!==n&&e&&e(new Ip(n)),ut(!0)}(o.route,r),function f0(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function kh(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Ar(()=>ut(d.guards.map(_=>{const C=Nh(d.node)??t,T=wu(_,C);return Xs(function RS(n){return n&&Fh(n.canActivateChild)}(T)?T.canActivateChild(r,n):C.runInContext(()=>T(r,n))).pipe(is())})).pipe(qc())));return ut(u).pipe(qc())}(n,o.path,t),function Bl(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ut(!0);const o=r.map(u=>Ar(()=>{const d=Nh(e)??t,m=wu(u,d);return Xs(function ey(n){return n&&Fh(n.canActivate)}(m)?m.canActivate(e,n):d.runInContext(()=>m(e,n))).pipe(is())}));return ut(o).pipe(qc())}(n,o.route,t))),is(o=>!0!==o,!0))}(r,u,n,e):ut(m)),(0,Ct.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,d=>this.events.next(d)),(0,ei.b)(d=>{if(r.guardsResult=d.guardsResult,So(d.guardsResult))throw IE(0,d.guardsResult);const m=new fE(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(m)}),rs(d=>!!d.guardsResult||(t.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),Pp(d=>{if(d.guards.canActivateChecks.length)return ut(d).pipe((0,ei.b)(m=>{const _=new pE(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}),Sr(m=>{let _=!1;return ut(m).pipe(function zE(n,e){return(0,Jr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return ut(t);let u=0;return(0,Wt.D)(o).pipe(gu(d=>function kS(n,e,t,r){const o=n.routeConfig,u=n._resolve;return void 0!==o?.title&&!dy(o)&&(u[li]=o.title),function FS(n,e,t,r){const o=function D0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return ut({});const u={};return(0,Wt.D)(o).pipe((0,Jr.z)(d=>function LS(n,e,t,r){const o=Nh(e)??r,u=wu(n,o);return Xs(u.resolve?u.resolve(e,t):o.runInContext(()=>u(e,t)))}(n[d],e,t,r).pipe(is(),(0,ei.b)(m=>{u[d]=m}))),ph(1),function hp(n){return(0,Ct.U)(()=>n)}(u),wa(d=>Tp(d)?Xr.E:Ts(d)))}(u,n,e,r).pipe((0,Ct.U)(d=>(n._resolvedData=d,n.data=wE(n,t).resolve,o&&dy(o)&&(n.data[li]=o.title),null)))}(d.route,r,n,e)),(0,ei.b)(()=>u++),ph(1),(0,Jr.z)(d=>u===o.length?ut(t):Xr.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,ei.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,ei.b)(m=>{const _=new SS(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}))}),Pp(d=>{const m=_=>{const C=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&C.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,ei.b)(T=>{_.component=T}),(0,Ct.U)(()=>{})));for(const T of _.children)C.push(...m(T));return C};return ne(m(d.targetSnapshot.root)).pipe(_a(),va(1))}),Pp(()=>this.afterPreactivation()),(0,Ct.U)(d=>{const m=function Ca(n,e,t){const r=Da(n,e._root,t?t._root:void 0);return new Q_(r,e)}(t.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:m}}),(0,ei.b)(d=>{t.currentUrlTree=d.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),t.routerState=d.targetRouterState,"deferred"===t.urlUpdateStrategy&&(d.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,d),t.browserUrlTree=d.urlAfterRedirects)}),((n,e,t)=>(0,Ct.U)(r=>(new ME(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,d=>this.events.next(d)),va(1),(0,ei.b)({next:d=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ul(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{o=!0}}),Fc(()=>{o||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),wa(d=>{if(u=!0,Ep(d)){EE(d)||(t.navigated=!0,t.restoreHistory(r,!0));const m=new Sh(r.id,this.urlSerializer.serialize(r.extractedUrl),d.message,d.cancellationCode);if(this.events.next(m),EE(d)){const _=t.urlHandlingStrategy.merge(d.url,t.rawUrlTree),C={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||T0(r.source)};t.scheduleNavigation(_,Hc,null,C,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const m=new zc(r.id,this.urlSerializer.serialize(r.extractedUrl),d,r.targetSnapshot??void 0);this.events.next(m);try{r.resolve(t.errorHandler(d))}catch(_){r.reject(_)}}return Xr.E}))}))}cancelNavigationTransition(t,r,o){const u=new Sh(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function T0(n){return n!==Hc}let S0=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===Ft);return r}getResolvedTitleForRoute(t){return t.data[li]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(ZE)},providedIn:"root"}),n})(),ZE=(()=>{class n extends S0{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Zs))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(WE)},providedIn:"root"}),n})();class M0{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let WE=(()=>{class n extends M0{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Np=new c.OlP("",{providedIn:"root",factory:()=>({})});let zt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(x0)},providedIn:"root"}),n})(),x0=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function O0(n){throw n}function YE(n,e,t){return e.parse("/")}const QE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},P0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let os=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(Np,{optional:!0})||{},this.errorHandler=this.options.errorHandler||O0,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||YE,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(zt),this.routeReuseStrategy=(0,c.f3M)(qE),this.urlCreationStrategy=(0,c.f3M)(vE),this.titleStrategy=(0,c.f3M)(S0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Lc((0,c.f3M)(Hl,{optional:!0})??[]),this.navigationTransitions=(0,c.f3M)(Uh),this.urlSerializer=(0,c.f3M)(mu),this.location=(0,c.f3M)(Pe),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Do,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_E(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Hc,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const u={replaceUrl:!0},d=o?.navigationId?o:null;if(o){const _={...o};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(u.state=_)}const m=this.parseUrl(t);this.scheduleNavigation(m,r,d,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Rh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:d,queryParamsHandling:m,preserveFragment:_}=r,C=_?this.currentUrlTree.fragment:d;let T=null;switch(m){case"merge":T={...this.currentUrlTree.queryParams,...u};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=u||null}return null!==T&&(T=this.removeEmptyProps(T)),this.urlCreationStrategy.createUrlTree(o,this.routerState,this.currentUrlTree,t,T,C??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=So(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,Hc,null,r)}navigate(t,r={skipLocationChange:!1}){return function R0(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new c.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...QE}:!1===r?{...P0}:r,So(t))return vh(this.currentUrlTree,t,o);const u=this.parseUrl(t);return vh(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}scheduleNavigation(t,r,o,u,d){if(this.disposed)return Promise.resolve(!1);let m,_,C,T;return d?(m=d.resolve,_=d.reject,C=d.promise):C=new Promise((N,G)=>{m=N,_=G}),T="computed"===this.canceledNavigationResolution?o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:T,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:m,reject:_,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(N=>Promise.reject(N))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===o?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bh=(()=>{class n{constructor(t,r,o,u,d,m){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=u,this.el=d,this.locationStrategy=m,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ji.x;const _=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(C=>{C instanceof Ul&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,o,u,d){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||o||u||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const o=this.renderer,u=this.el.nativeElement;null!==r?o.setAttribute(u,t,r):o.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(os),c.Y36(xh),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(st))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&c.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&c.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})(),N0=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,o,u,d){this.router=t,this.element=r,this.renderer=o,this.cdr=u,this.link=d,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.vpe,this.routerEventsSubscription=t.events.subscribe(m=>{m instanceof Ul&&this.update()})}ngAfterContentInit(){ut(this.links.changes,ut(null)).pipe((0,ot.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,Wt.D)(t).pipe((0,ot.J)()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function VS(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>!!o.urlTree&&t.isActive(o.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(os),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(Bh,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,o){if(1&t&&c.Suo(o,Bh,5),2&t){let u;c.iGM(u=c.CRH())&&(r.links=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[c.TTD]}),n})();class fy{}let JE=(()=>{class n{constructor(t,r,o,u,d){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(rs(t=>t instanceof Ul),gu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,c.MMx)(u.providers,t,`Route: ${u.path}`));const d=u._injector??t,m=u._loadedInjector??d;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(d,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,Wt.D)(o).pipe((0,ot.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ut(null);const u=o.pipe((0,Jr.z)(d=>null===d?ut(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,Wt.D)([u,d]).pipe((0,ot.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(os),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(fy),c.LFG(hy))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jh=new c.OlP("");let Fp=(()=>{class n{constructor(t,r,o,u,d={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=u,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Vm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ul&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof $m&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $m(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();var as=(()=>((as=as||{})[as.COMPLETE=0]="COMPLETE",as[as.FAILED=1]="FAILED",as[as.REDIRECTING=2]="REDIRECTING",as))();const $h=!1;function Ta(n,e){return{\u0275kind:n,\u0275providers:e}}const F0=new c.OlP("",{providedIn:"root",factory:()=>!1});function py(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const r=n.get(os),o=n.get(zh);1===n.get(gy)&&r.initialNavigation(),n.get(V0,null,c.XFs.Optional)?.setUpPreloading(),n.get(jh,null,c.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const zh=new c.OlP($h?"bootstrap done indicator":"",{factory:()=>new Ji.x}),gy=new c.OlP($h?"initial navigation":"",{providedIn:"root",factory:()=>1});function nC(){let n=[];return n=$h?[{provide:c.Xts,multi:!0,useFactory:()=>{const e=(0,c.f3M)(os);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function q_(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Ta(1,n)}const V0=new c.OlP($h?"router preloader":"");function rC(n){return Ta(0,[{provide:V0,useExisting:JE},{provide:fy,useExisting:n}])}const Kc=!1,Lp=new c.OlP(Kc?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),HS=[Pe,{provide:mu,useClass:v},os,Cp,{provide:xh,useFactory:function k0(n){return n.routerState.root},deps:[os]},hy,Kc?{provide:F0,useValue:!0}:[]];function my(){return new c.PXZ("Router",os)}let U0=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[HS,Kc&&r?.enableTracing?nC().\u0275providers:[],{provide:Hl,multi:!0,useValue:t},{provide:Lp,useFactory:oC,deps:[[os,new c.FiY,new c.tp0]]},{provide:Np,useValue:r||{}},r?.useHash?{provide:st,useClass:we}:{provide:st,useClass:Ie},{provide:jh,useFactory:()=>{const n=(0,c.f3M)(Vs),e=(0,c.f3M)(c.R0b),t=(0,c.f3M)(Np),r=(0,c.f3M)(Uh),o=(0,c.f3M)(mu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Fp(o,r,n,e,t)}},r?.preloadingStrategy?rC(r.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:my},r?.initialNavigation?j0(r):[],[{provide:$0,useFactory:py},{provide:c.tb,multi:!0,useExisting:$0}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Hl,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Lp,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Km]}),n})();function oC(n){if(Kc&&n)throw new c.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function j0(n){return["disabled"===n.initialNavigation?Ta(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(os);return()=>{e.setUpLocationChangeListener()}}},{provide:gy,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ta(2,[{provide:gy,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(he,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=e.get(os),u=e.get(zh);(function US(n,e){n.events.pipe(rs(t=>t instanceof Ul||t instanceof Sh||t instanceof zc||t instanceof Mh),(0,Ct.U)(t=>t instanceof Ul||t instanceof Mh?as.COMPLETE:t instanceof Sh&&(0===t.code||1===t.code)?as.REDIRECTING:as.FAILED),rs(t=>t!==as.REDIRECTING),va(1)).subscribe(()=>{e()})})(o,()=>{r(!0)}),e.get(Uh).afterPreactivation=()=>(r(!0),u.closed?ut(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const $0=new c.OlP(Kc?"Router Initializer":"");let Qc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-hero"]],decls:14,vars:0,consts:[[1,"hero"],[1,"hero-section"],[1,"hero-overlay"],[1,"hero-content"],[1,"intro"],[1,"hero-subtitle"],[1,"btn-group"],["href","#booknow",1,"btn","btn-accent"],["href","#",1,"btn","btn-accent"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"section",1),c._UZ(2,"div",2),c.TgZ(3,"div",3)(4,"section",4)(5,"h1"),c._uU(6,"Bring your property to life with our lens"),c.qZA(),c.TgZ(7,"p",5),c._uU(8," In today's Seattle real estate market, presentation is key. Home buyers rely heavily on online photos, videos, floor plans, and virtual 3D tours to find their next home. We offer all of these essential tools to make your listing stand out and attract potential buyers."),c.qZA(),c.TgZ(9,"div",6)(10,"a",7),c._uU(11,"Book Online"),c.qZA(),c.TgZ(12,"a",8),c._uU(13,"Call Now"),c.qZA()()()()()())},styles:['h1[_ngcontent-%COMP%]{font-size:calc(3rem + 3vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:100%;color:hsl(var(--clr-light))}.btn-group[_ngcontent-%COMP%]{margin:2em 0;display:relative}.btn[_ngcontent-%COMP%]{padding:1em 2em;text-decoration:none;text-transform:uppercase;border-radius:5px;position:relative;display:inline-block;line-height:1}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:1em}.btn-secondary[_ngcontent-%COMP%]{background:var(--foreground);color:var(--background)}.btn-accent[_ngcontent-%COMP%]{background:hsl(var(--clr-light));color:var(--foreground)}.btn[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;left:-4px;top:4px;border-radius:inherit;z-index:-1}.intro[_ngcontent-%COMP%]{height:30vh;display:grid;color:hsl(var(--clr-dark));align-content:center}.intro[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-column:2/3}.hero-section[_ngcontent-%COMP%]{position:relative;height:100vh;background-image:url(https://1.bp.blogspot.com/-lQgJpZP9Gyo/XzsLuteFRNI/AAAAAAADnrM/xBBepCELa0s98bmvNdzU4OCCWG6jjrWlQCPcBGAsYHg/s2048/_MKY2867-HDR.jpg);background-size:cover;background-position:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff;opacity:.01}.hero-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;color:#000;z-index:1}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:1rem}.hero-subtitle[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:2rem;color:var(--background)}.btn-primary[_ngcontent-%COMP%]{display:inline-block;padding:1rem 2rem;background:var(--foreground);color:var(--background);border:none;border-radius:5px;font-size:1.5rem;text-transform:uppercase;letter-spacing:1px;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000;cursor:pointer}@media (max-width: 35rem){.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.hero-subtitle[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem;color:var(--background)}.hero-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;color:#000;z-index:1}.hero-content[_ngcontent-%COMP%]{position:relative;padding:2rem;text-align:center;color:#000;z-index:1}}']}),n})();class Sa{constructor(e,t,r,o){this.Title=e,this.Description=t,this.ImageUrl=r,this.Price=o}}let Xc=(()=>{class n{constructor(){this.blank=[],this.listOfPhotoCards=[new Sa("SHOWCASE PACKAGE","The HDR with Flash method for shooting real estate photography involves hand-blending both exposures using professional lighting with natural light exposures to preserve the true colors while evening the light trought the scene."," ../../../../assets/shutter.svg",295),new Sa("ESSENTIAL PACKAGE","HDR photography is popular in real estate. It involves taking multiple exposures and blending them to create an image with visible elements in both dark and bright areas, using available light from windows and fixtures."," ../../../../assets/shutter.svg",225)],this.listOfVideoCards=[new Sa("Slide Show","A slide show is a visual tour that showcases the property through a series of carefully curated images. It typically includes a collection  photographs that highlight the key features, design elements, and unique selling points of a property."," ../../../../assets/shutter.svg",295),new Sa("Video","A video tour is a dynamic and immersive visual experience that offers potential buyers or renters a virtual walkthrough of a property. Video tours provide a more in-depth and interactive experience compared to static images, allowing viewers to get a better sense of the property's layout, flow, and unique features."," ../../../../assets/shutter.svg",225),new Sa("Social Media","Social media video is a short and engaging video content that is specifically created and optimized for sharing on social media platforms, such as Facebook, Instagram, YouTube, or TikTok, for the purpose of marketing and promoting a property. They are an effective way to increase the visibility and reach of a property listing."," ../../../../assets/shutter.svg",225)],this.listOf3DCards=[new Sa("Matterport 3D Tour","The HDR with Flash method for shooting real estate photography involves hand-blending both exposures using professional lighting with natural light exposures to preserve the true colors while evening the light trought the scene."," ../../../../assets/shutter.svg",295),new Sa("Zillow 3D Home","HDR photography is popular in real estate. It involves taking multiple exposures and blending them to create an image with visible elements in both dark and bright areas, using available light from windows and fixtures."," ../../../../assets/shutter.svg",225)]}GetCards(t){return"photo"===t?this.listOfPhotoCards:"video"===t?this.listOfVideoCards:"3d"===t?this.listOf3DCards:this.blank}AddCard(t){this.listOfPhotoCards.push(t)}RemoveCard(t){this.listOfPhotoCards.splice(t,1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vy=(()=>{class n{constructor(t){this.tblSvc=t,this.index=0}ngOnInit(){}onDelete(){this.tblSvc.RemoveCard(this.index)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Xc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-table-card"]],inputs:{tableCard:"tableCard",index:"index"},decls:15,vars:2,consts:[[1,"tableCard_container"],[1,"gradient"],[1,"tableCard_title"],[1,"tableCard_subtitle"],[1,"tableCard_buttons"],[3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"div",1),c.TgZ(2,"div",2)(3,"H1"),c._uU(4),c.qZA(),c._UZ(5,"hr"),c.qZA(),c._UZ(6,"br"),c.TgZ(7,"span",3),c._uU(8),c.qZA()(),c.TgZ(9,"div",4)(10,"button"),c._uU(11,"Edit"),c.qZA(),c._uU(12," | "),c.TgZ(13,"button",5),c.NdJ("click",function(){return r.onDelete()}),c._uU(14,"Delete"),c.qZA()()),2&t&&(c.xp6(4),c.Oqu(null==r.tableCard?null:r.tableCard.Title),c.xp6(4),c.Oqu(null==r.tableCard?null:r.tableCard.Description))},styles:[".tableCard_container[_ngcontent-%COMP%]{width:100%;max-width:400px;background-color:hsl(var(--clr-light));border:1px solid #ccc;border-radius:5px;padding:20px;box-shadow:0 2px 4px #0000001a;display:grid;flex-shrink:1}.tableCard_image[_ngcontent-%COMP%]{padding:0;margin:0;align-items:center;text-align:center;width:100%}.tableCard_price[_ngcontent-%COMP%]{position:absolute;top:1rem;left:1rem;font-size:var(--fs-700);color:hsl(var(--clr-dark))}.tableCard_title[_ngcontent-%COMP%]{padding:0}.tableCard_subtitle[_ngcontent-%COMP%]{color:hsl(var(--clr-dark));font-size:var(--fs-400);width:100%;text-align:Left;vertical-align:top;z-index:1}.tableCard_buttons[_ngcontent-%COMP%]{display:none}@media (max-width: 35rem){.tableCard_container[_ngcontent-%COMP%]{flex-grow:1;width:20rem;display:grid;position:relative;background-color:hsl(var(--clr-light));border-radius:5px;min-height:350px}.tableCard_container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding-inline:2rem}}"]}),n})();function Vp(n,e){if(1&n&&c._UZ(0,"app-table-card",2),2&n){const r=e.index;c.Q6J("tableCard",e.$implicit)("index",r)}}let Gh=(()=>{class n{constructor(t){this.tblSvc=t,this.pageName="",this.listOfCards=[]}ngOnInit(){this.listOfCards=this.tblSvc.GetCards(this.pageName)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Xc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-table-card-list"]],inputs:{pageName:"pageName"},decls:2,vars:1,consts:[[1,"cards"],["class","tableCard_item",3,"tableCard","index",4,"ngFor","ngForOf"],[1,"tableCard_item",3,"tableCard","index"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.YNc(1,Vp,1,2,"app-table-card",1),c.qZA()),2&t&&(c.xp6(1),c.Q6J("ngForOf",r.listOfCards))},dependencies:[An,vy],styles:[".cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3rem;align-items:left;justify-content:left;margin-top:5rem}.tableCard_item[_ngcontent-%COMP%]{flex:1 1 27%}"]}),n})();const _y=[{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgkRwRMYk5sHfTxr0ZUNr9lCieXTkzc-Vhzh5fYCI3b_hTyzC4Ml8U4_H4FSHT3_5E0HzD9W87NctpeMVSvxp4Jp-ECVcsOvjrpfm-wGpPguNVdoDYtZvqwHdJwFHJOQ9pgCbG_v9vLFXH2pZgay8DtYjH19hra86Hy3tvynaOCapS6c_H3ty9LiIeWIQ/s1024/Bellevue1.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEitXHekTv19Uvw1xyy5tHWiEhOkTsrqB8BSZvegexyQEhQ6pmCrYQiKSqPlNCGnlY24zvHZegzuZSHRpIMyTQj1FNx_HMFFFMkBFMCeOyRlIcw9frdi2XapzKoDkUP_cPNYOB-DxD_SeV0iPRzGtZ8ZalvRQD-LFp7khGRllXhQ7McFacqgzwnQHwH-Ng/s1024/Bellevue2.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjpv5M3dv45wQsWsu2oQ7VHerETwDPZXKAhsZFAZuEieUWNLJG5vI2weOShR6iC1PVIjDeOwoWF9KJtW4c1qtWELjoI6urjGTonarbPbmOe9GfyMi8oPyWOHac8npjVNFCO6ymoHPbQN6ur-F7FRu2kE9b7sFYeoMeNXmqiDAkgRb0tmUCMUcr8orcHig/s1024/Bothell1.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgz-Fkjvqa2RhO7CikN6e22SdiJLbALxvTBADyQHQ8WV_-ZGOGtv2mnPVuSSkRYtCyvnZhdBbX6jNcrg8q_fdaSIknnchFPz-wnUKRBFow84m7sQxNUL-5WxG7eSLN_tACrTbwzb2PIQE-rvIpG3-9kTVTjxnn6biZcoU0M0ch8RuruoTtxXXR5eipwgg/s1024/Bothell2.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgIBucALuUpYH-MVxA4RJJgWGUUVfvw_Hmz7a8bVsY0D_6USqCfWDCSlKJpGwVcBnKmCiUw0N5or5TVFSWVN69W5irFYJTc_xagrEzFAd_9wv34SkoaEmHlsZgfeWuFDEJaiEz1-MMGRx13e0i6-_NbYsnTZgtP4-kYpHeB24TyP2_OO0ZKG-_ecL_Uqw/s1024/Seattle1.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhQ1D3Vx_Ouldr3VNDW7OBxgn311kJ8JCGTu2fB7Xt109t-7PtPCwmXUf8vvoHfjc4C6vL6CkBKf80qnWcOD5jp0UHUhTz0iCXzArUb_D5Vred8ePJ9z5_IC49Xln7AZG6A2XgniYd8k0UB1zMK7LEUMgkI8RsSy3BITOmjALLAhhOKLc1nAlhT3MLUIA/s1024/Seattle2.jpg",alt:"Image 2"}],wy=[{url:"https://blogger.googleusercontent.com/img/a/AVvXsEhYKL2hFWDeNkdPwHVPjkmud64_aCzBmh6D4uTX4tZypj1FPlWjLuIXGtgd5EYieBO9TdOcP9X7SgFeLeUd_VCUD10I0ATZAnJ1_tEVApGJrrp2TAOJtqR3ffOa-3kXkes08zeUn1KNW5hh5arx9j_xtqjlAd6IDtAc4ghm3wfZ6lYx0VGOnCypkuzwvg=s1024",alt:"Image 1"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgcl3ZgOY-FWr1WssmdbyV-t8XJ6Egzh5uwj4v48SBt_L2vRDsF9PAKPqCfIdoUG2bb9KMTjlX1KLZI7DrgguFHbenocorqgVpnYIjJ96cEU2WR6FEt-MWKB0rA9FhMPM-A6h_poICjLBIHECfpxN_hDJ2IpNy7EjH-4whcwow5kyXZ3yg_wqqImsoFVg/s1024/_MKY0354.jpg",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/a/AVvXsEhjmN2PGxeP20DOSVdc4Jde96pVTqlBcwu2rnjmwMhXXfXdfWeYOWsEAUVGFZv1jPIKcsDRThF13eSYPjd3UaRqSTGqqOLAkYlRUNR1Nn9f6_-NVCBZ-v9a86kWwVivfEStJuuQ68iG0GezlCdd9yi8IaaisuaaqsSMmY3L988jDq5LGXwcFUXBkn36Lg=s1024",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/a/AVvXsEg9nT114i7bIq6VQOhSsTeDW_JGFTL7dB8UgZhzZnpeuh08mbhwgvI0OqMy-RkG2Z35x_cAQjrBSn-80tqHbSqRsYvvxfFq-Ws8iVFkaTeYXVJZ4lQLT1GQJczSIoX9kREAFviClGS4lX3Dv0X25-8kuMS3db2Uj6E17qJCer9ARbwa7Zwyobb3pGc1wA=s1024",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/a/AVvXsEgphU1RYRBFAqhTHjcLhH0-0CvA4YgvTzdVJGV9FN6x4naP_3o6f25mfDN25g8dVl4hKSNDH7Ai8Ssgzrhcp7oYb4MaXmwC1gS8OcvTIp3wzUCusFvD9jq2P7a0NTfmgXyqrqXpCl443Yz2rmfp2a2oNNJWXqva7BjrPy0w6RyCEb4GI9bYnCGt3ReTWw=s1024",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/a/AVvXsEj5sv4nXFB-gULJPWIpGhE6EX80Maf02OkbIv2526MoNdrM7PQ2tpSaOxtb4B2SRSu9eJXJEcdl2Sg3YrjwwLt78kPSXpBhMEiLQwCW26SHW_7HDUolQ4O18PiX0IVpMG0x581eIJkoUth7H27r7t29nHalr9TW79chPTLKXPR4S9EQhJUFXFFugXzqYw=s1024",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/a/AVvXsEib0cxyavK24D6djeQYnxrOT4az6CfxzNN2Y4eORNgmtLzSBVrJ6i4TVZswMGgCQSBnV1-FWp2XPq3dpWp7MqMy8TznC1OWsL7-5UpxibKt6bhNJLgSdwccW7080VNA-HqZzAntoQNxuxldd8Bdk5ZdJbArKP6bNMFBK6BmNvtFmfCgb2t6NsUDjhgNGA=s1024",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/a/AVvXsEiljGCNTzCXoWXF3lzTz4JDiBraRAUAFw49DYVnXXcNN5a1qjN1iBdBenyxPZHOqlb6rKlT2m5Ac7tp5JnvMBhmZeczn2ImCbo8Hr8jefnJwt5ZGFKUbO5wtdEXq-zD8y_4pP1qdC6rBuC7aWIla1jRfKJjwmSwctj6ugS8uQVSAYVzQ46RJu3Pc1eC-Q=s1024",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjOWRJ-AvuQvoRoWtvjWRWdj0PSU89eeKYLDyJIPNaDHuW84yzUCErmpVt5ZIQwHNWh3OKsTKPzRM-XAbbMDBgF9YPundxGhM4w2TdsTY060TYdnpmkuyJhXkrY7RPG5U6IR0NFNMkoJt_fLqShndkGNwFuhVK53CNMO0wKAMsZ-bnpNQKgjSu61NjcKg/s1024/DJI_0240-Edit.jpg",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgPniAKFOHplxuu2O_uFZ8HDyfMwtx-qyqj5Bjq2X2GLmhbVrelpA0sGoWYOS5ArrXRJ4dr5h98u8MDFc98Hw-LkEhJI1GKL1Ft2DsNkrzZjK-T7kaErZ5Dmwc3nW7b8vzJKrrtsXzPJypXUa6egP8EvooxkJrUquuMWKvfjfnghkMzI1k5BdPLgeDwBA/s1024/_MKY0544.jpg",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj95bIu6DP9quWzh3RMFut8xG3ZrjZAL-yWkhpS3X7ea8DRVj69oIMLdG2Ug49CJbmO5RfxU__QegNX8uQOWVjEbGoKGzYQOhRekYqawehupdKK_GMNiFPD_tDF--7ergIhtkRZIkilrNia-T-xtI79ZZ8d18PTII6BlzhEfGaCOeYKjP4EYuG5rN9HyQ/s1024/_MKY0652.jpg",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjo89eP5i9Keg_sf1gICj-PVcRm94R2k1A6nod3Scj5u2PGUPjGaupWLSwgzs1irkkxToUnF419gJtkwu9f3SaGNK-S5mNFioECyZeTtpwncSqvOP2_ujbdX874DDHUtQeJhpinTPPlQkYqFn6cW7nYHcpRY2FhBf6_N_K6yj2EBEmiPxZ6owpZUy8c1Q/s1024/_MKY0746.jpg",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/a/AVvXsEhBTFHokZAGKfno9QdN0xWVPHJNGaajoVbjFFm9KEwCbOW9kRdWN2mRXxDm3_pzkLmlxlEt_kmyghURdVxH2nMgevHbItvhw8yadGzE3zrA7QoMq4mR_jQ1pnvOSeMkgFm7-K_aLypXemx_0bikKuy-XwANfI6mqvbLv7BQ2B_lYmuQ5PVPkZytkoL-yw=s1024",alt:"Image 14"},{url:"https://1.bp.blogspot.com/-_IVdB80HZcs/YICRBNEn0FI/AAAAAAADy74/itBVdUR7sy8OO981GBe7eVse-lQU_LTMACLcBGAsYHQ/s1024/_MKY1172-HDR-Edit.jpg",alt:"Image 14"},{url:"https://1.bp.blogspot.com/-xAjLlrt-XB0/X0BOQTBYkGI/AAAAAAADn1s/f_qt4KwoyCYbnyQIJQoE2SlEtNnjHZ_4gCLcBGAsYHQ/s1024/MKI09808-HDR.jpg",alt:"Image 14"},{url:"https://1.bp.blogspot.com/-9btUNYnS17U/X0BOT8sBCII/AAAAAAADn2c/yh13b3lSIzUZ0SkStg736UcyPu7ju-RFwCLcBGAsYHQ/s1024/MKY04136-HDR-HDR.jpg",alt:"Image 14"},{url:"https://1.bp.blogspot.com/-sFlkH_5E-SQ/X0BOUWNKjII/AAAAAAADn2g/Bo_l3YOz5RM6EWrAWzExmkJTHPJNnCT5ACLcBGAsYHQ/s1024/MKY04151-HDR-HDR.jpg",alt:"Image 14"},{url:"https://1.bp.blogspot.com/-pyYljHKEgmo/X0BOQ93EwLI/AAAAAAADn1w/rHfA4RaRiqQ65E7Gr1xSDBPJEiyQhJiTQCLcBGAsYHQ/s1024/MKY00477-HDR.jpg",alt:"Image 14"},{url:"https://1.bp.blogspot.com/-dbuT4KbKiQQ/X1q8-6GME5I/AAAAAAADovU/7B8nIEETGCw3PI8yEv9sRSvHLv3QVsMnACLcBGAsYHQ/s1024/_MKY0912-HDR-HDR-Edit-2-Edit.jpg",alt:"Image 14"},{url:"https://1.bp.blogspot.com/-hO0chFJJoek/X1q9Mf9yztI/AAAAAAADovY/WLAIWiX_2xkx-34Sl5V3T3Gm1NC3zorngCLcBGAsYHQ/s1024/_MKY1281-HDR-Edit-2.jpg",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/a/AVvXsEjycZyq4S2_x9EufwjZyNTZUSx2wcLcwfdY7Ds7a53BxNnM-sQoCk7QHzOBcGPj3C7fmtuN6wkzfz9JJeccfqeX88LLf4dDMO5Kpux7WGz4ghNZlxJ2LSvEIKno-2QuxVlRG2jivDWn2fk6RfUu6cQPrEcvqt3fAh7gZch0lBF-J0URNywZ_kTOQtCwzw=s1024",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh4OnL_oZlBwniVz2LacnD-oFj8fzasJJW4vp4SW9JpxZ2F3C-vL4LP7A6C9vGu46qazTMEajpdqHVyWH-meijCwui2iKy_CsVTQwRXiMUk8mYKPYoqnHPFd16CiPvuJNtH47evTaP8MzUygXO48gMHI4A2TYsqezs2XFwKrv-Zeiu5CEmeCjgpdfCbHA/s800/_MKY0520.jpg",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhXVivEKL9PCo0Vro7mAKVrYMNRHUhPh72oB5avnM-7C7wWD3uoSYtk9S0rdWBm8jqpcJ-3oLlKR5HubnP9e96garMBI0qbcX7EYqfdO0RI9nJxfeGUL9-Z3aTVTR-NRhBIWik2XJq2-M8qNPzwC6vji12wTA8CG7neC2wcw-vcQYYwmy40eQXSdDeR4g/s800/_MKY0422.jpg",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj_DjS5tOLqfZcPjYXk1_6jDjWyiryePfW6xy4-pH7AVAbHmddS8MfUb8b3MZywhVGVJJU9CJUYqucRk5AdRgIHL6fPCVncgyqG7tpDM9vti3p2b-0mU9PvBuEQKc5dgrzjJZGWQv8xIiWvgTIzKLYGfj_vHvi4xtn-AsdeDT1QpaPbwLUXtDuDSi1llg/s1024/_MKY0527.jpg",alt:"Image 14"},{url:"https://1.bp.blogspot.com/-Aj605hw_kDo/X0BOS3KWw8I/AAAAAAADn2M/k1JjmoVGAasvASxXyQkrJCpyBCN7FBwbACLcBGAsYHQ/s1024/MKY03071-HDR-Edit.jpg",alt:"Image 14"}],Iy=[{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgA68q9WS3pZzkbVj3osXREUXe7jUGY9HrNal_jWJMpiNQKvqR0VUg5FMt58_eBNCPX6U6lTCmY4Th7sS5lpAJAeZFPCSlMLzyBuuec_LLvrcx9UycvvKaCkwsHxOm9a8Xr7yuEsG6Nt7sNcC4nwuWThNXEdfqRFjfGMG90hFkMiRAzetNfT0RjrM7OZw/s1024/DJI_0777-Edit.jpg",alt:"Image 1"},{url:"https://1.bp.blogspot.com/-nL8FF-vw9oE/Xz_-K4BLqMI/AAAAAAADn0w/9Hs3rm3YXMMenWix0hv0-JSwv9ugKM0FQCLcBGAsYHQ/s1024/Edmonds-Drone-176.jpg",alt:"Image 2"},{url:"https://1.bp.blogspot.com/-lLOcrvhxrSk/Xz_-K_hVFiI/AAAAAAADn0s/EAiohPGJ0DgIHhj5d-9n_Y2iBVoHtKgkACLcBGAsYHQ/s1024/Edmonds-Drone-169.jpg",alt:"Image 3"},{url:"https://1.bp.blogspot.com/-3aNlXhv_oD8/Xz_-IukUN1I/AAAAAAADn0c/GLfj7epw9ksu71P4dqf_KyYa1AVobpCzwCLcBGAsYHQ/s1024/DJI_0693-HDR.jpg",alt:"Image 4"},{url:"https://1.bp.blogspot.com/-WyVrpFi9o9g/Xz_-JiR_xrI/AAAAAAADn0k/1VN5zRKP_YA7mVKQ6V0P8ZoXO65Tc4H_gCLcBGAsYHQ/s1024/DJI_0818-HDR.jpg",alt:"Image 5"},{url:"https://1.bp.blogspot.com/-X00zxafg5a4/Xz_-JrZg5jI/AAAAAAADn0g/4zDZOR4WG68uJYaaLuUjF-dEQO4VT8xqwCLcBGAsYHQ/s1024/DJI_0743-HDR.jpg",alt:"Image 6"},{url:"https://1.bp.blogspot.com/-Ien9zziXKqM/X1rOcw6zkGI/AAAAAAADowU/DYxUQdBKqakJDIyCjZOT3fi5EKDjWxwbACLcBGAsYHQ/s1024/DJI_0985-HDR.jpg",alt:"Image 7"},{url:"https://1.bp.blogspot.com/-uPK1iLMEKUI/Xz_-INNxKSI/AAAAAAADn0U/Ma8PRlrucUkx_IB0CMP3t8Wt4LH8wy27QCLcBGAsYHQ/s1024/DJI_0171-HDR.jpg",alt:"Image 8"},{url:"https://1.bp.blogspot.com/-ldQ856ps9I0/Xz_-H8KSmoI/AAAAAAADn0Q/I7QQ1IxjV7M0w7UXhEFfmX5jDn6DBRzdACLcBGAsYHQ/s1024/DJI_0141-HDR.jpg",alt:"Image 9"},{url:"https://1.bp.blogspot.com/-BIz5i6QUdB4/X1rAVkiSIoI/AAAAAAADowA/9Tq6yy7dB64_vVXgYXk1XRyPCRPxoljEQCLcBGAsYHQ/s1024/DJI_0071-HDR.jpg",alt:"Image 10"},{url:"https://1.bp.blogspot.com/--lvlTkt-Z7U/X1rAVmHxQTI/AAAAAAADov8/XIi8t7EO_A8BkFBSLHTvwP18kOjEIN2xQCLcBGAsYHQ/s1024/DJI_0091-HDR.jpg",alt:"Image 11"},{url:"https://1.bp.blogspot.com/-gmXou1_vgO0/X1rAVWIFijI/AAAAAAADov4/OH6TLqwtUGcfHYVtxbcYTsFpCpEmAD7VACLcBGAsYHQ/s1024/DJI_0243-HDR.jpg",alt:"Image 12"},{url:"https://1.bp.blogspot.com/-GGim1050Ae8/X1rOc3J5elI/AAAAAAADowc/IZEg8lqwqoA1VREOYD1LqwDtJo-SoNcDwCLcBGAsYHQ/s1024/DJI_0011-HDR.jpg",alt:"Image 13"},{url:"https://1.bp.blogspot.com/-71eKAxNkUd4/X1rOcy_KrFI/AAAAAAADowY/mXREa2jXcLgnCm2obWYGUyF8bOQp0cVsQCLcBGAsYHQ/s1024/DJI_0955-HDR.jpg",alt:"Image 14"}],H0=[{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEieZ5eOgLHGcaOLUctTUmdh2prnEBJqqZzraKKDpaTloCCIXjBoaeTH_Km0Kps-pLpWNdWKEYmIVeH5tjDcXIgsX0UPVSWVxX-PmckQd4EQ29aJD7_CMZbGT_y-9fSWCVJbKkLSXU-NsYOk7GcD0H_oZXLP5FOwZCPtLUMpxPkF9mE_diqBps7t5tPxsw/s1024/VIrtualyStaged_MKY1568ENFUSE-Edit.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg-o5n7lVEOw6NR69Lj222N0ToF6cjUi1dF7oVk9uYNV3kHMIuoxDrs61rEfLc010vDmOiSXvTgdbn80l-2i9N5-fRTtKTN0R0t4hpmKJbA0lrcioZ5hGGtmEWsK0n_h8fGUms5IfvZBETDLUl9t0V1icp3g3lC0XU8zPFqvj3jnfIHQWYFuFFJ4eYolg/s1024/Bonus%20Room%201.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgr7gd6qXbSF2g0Z27HJwYswj2jcL1LaVFqzm-3hOPDXQEtIIv978MYJEP_AyBnDypmoHQ03zCv0wf5mKF-2kLEs99EeFgsd9mYdEPGvBwsBnwkO09qfJIR2InDFxuOcqWfefLaVCrNVYmpK8SHERWRSW-XqHi2Fn7xJOWzPxlfIO4iY4fOCDuJTU_WQA/s1024/Bonus%20Room%202.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjQdxIyxnyLlcO34qjiQ9aeG2N_AY6f4zewBoFKjo2sd4CMr93jSgk_jjt8Ai-plZEhS5SeP6jSyLpAUhhNzujRBwEAbbdE2s_mId5Hmrvx5E98kORRGrgblweopagSUgIJ1AqiLQLlkBvHQeWJ-QcrA0oolu9xsNsbz8cEzSYTH_NOAKHXXNFDcU7srg/s1024/Dining%20Room%20-%20Kitchen.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgbETRMnne1ZKImqaKy-OckbSYWWuLbeQR8C40QmmZAWjK356fdWCe1IZf-24d83Ne_e9aCfODQ4RJ812xzVCxvPL1efE67-6ADinYLn-bfugsO-7V4r5Dgj9F4QhRi95R8OIbeqtFC6SmIgKpcVN-gYboYxv3EP6sZhtm4nV6CTj4hmiXP0cKtXfHRIg/s1024/Dining%20room%20-%20Living%20Room%202.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgOJzPJTkBrk0HEvXO0Pyg9Dh8CTurVdR8Ifs4CMfFWkM4Lenj_NrQJ6QZO8PayGrZeDZ4343cxle9_bF6NLQR70qjiczwdmkX8KqqE6X7O-Yq4_rKf6aGBtrPVIlNwzVdBTVCwWWGs7_P0djYXVAGvBgdvLaq2XbdG339NSxZ3LYQLMOfWMgwIn_-6vw/s1024/Dining%20room%20-%20Living%20Room.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhJywYRt7jpYa6R0qrPERjfC3-zrEbDJfIqixHFm9NXUfQF8yCrPQVLmMkkEUErXgRDz5kl0De6jzQDjX7wI7xx7oIAEGEUZDZynVInVwK-rkbreJSUP6cZnkiQCjEXip7XktW8Or0M_e7hZwqkE8DrO3rECOyY_3hADlgufuS4wGIH36Q7gS-a6Ec4EA/s1024/Kitchen%202.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjWQ6UaEJAsMlHuAWBDOCGdLFWfJYv9z278-9n64JlEXmQYt-mhDE-bqKskqOsaK_w7tCCQ94VjW8vDP4I0lrfMrpgZK6ergBlFDcnia38M3wSngT0KOzLiPIs07FQUgsciiDYUU5Wm2sphozJzUXBhXqlPcSqHCh3r9FhJLGDTaRUZELg3IpcinmDSFw/s1024/Living%20-%20Dining%20%20-%20Kitchen%202.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgSjLrdL5y1EkTFdHDF2cOdXKzQdaSNUu8NHHi_5-f-SkZ7V93VLQJIN1hjK2SeJE6KSHRiQPlitnIy3rwQAPrAueZLTEUY3GLMIeeXhlmUwRtsLvtM00WkbtBcK7w-ZWm3cE9hxJPdEL4AGtrfu2Htd3JR2f0mtEOrjJN70-oWtGNQP1DwYIH7irN86w/s1024/Living%20-%20Dining%20%20-%20Kitchen.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiHJ3QfrV7_LYdcCURz49Cwcv2xG0_9q9FRur2EIygL7EjR5sDDbgTqCL_2Xm-FR0kCk5iiFOHmir7ZrE-2SiNVYaPrQxE4VsqFmchFhBFpTW6H9BFBBn7kc-DDYv-5DUOxpQJLq9NENPMPdrnAFbnFVnGbRQSXJVrFEaIQoNciAAzq8W0G9lL0TaRJdg/s1024/Living%20-%20Dining%20-%20Kitchen%204.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgjTruWDYdnxalJwXhMDhXpf9SrlVh19LdudtQxZ9ZAcOkS7QEKcrNulZ1fIB-d_cW19JNfETkgrfHQGYWfjYYiRfQyLea6dce5X6LOL8Q_O_cWOw8ImEfHW_kkOgtvj-7lenJI-7Rrn2Lguor-2dFZiXx_QXUaO-ynEDY26mLjMvmZiFWukrbuHJaiTQ/s1024/Living%20-%20Dining%20room%282%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgaiR3DviZ_UdwZl2-US8nnwoLuDyvvzq1ecDzYbwYBrJaaEKBULdhsFUcmDIzOp_9wZtWwOJLlugozv9YYLtybUrZYjC6LYWtDXWgNnN16bF63m2UdV_tkmGiZtafT8gSzt6GMKDj2wCh7OuAQXpXWsukFVxfpOStOUeRLLhWZK0t4bS5AAAK2kCMnKA/s1024/Living%20-%20Dining%20room%283%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiP4hQ2bx2KwfcmOnS0fg0nqFfNFgTY1j79ByrMuSCLno2WHcH8pu59Ebwh7VJAAjagFtBk9-xsNTgkZkzQR0MyNmF8Z7alVVVn_vFwBjbhWkwtXAF1oh7NHfU4K3i2tp3JwRf20wbgtCPF1imcu0Aa54_VxFk4buPPUMaPvwCxhRJPsOMAy5Fph-VFYw/s1024/Living%20-%20Dining%20room%284%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgGt8HFIetGdSjWkrUu_qqyU9_FIWtLXsabYlg9I0JhCbPB18N3WK_oo2IquLS6YC9F_XDeL1NTyhO8wDxRMcjmrGDz7dSTuMnr6x4Gcz20_-9PDCZILjXrvAAa4C9MzQPJwM5sTMZ_10JxKNp8EfD--M9qUTm8xRxrCa-LPWp_8qPwktiZ48LB48owvA/s1024/Living%20-%20Dining%20room.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiBszd99naC7Bh3dyVZuy-_Y6c0Wzx65UhQeZQGWFesrdb8KvTCiyJoLMwAW-pDNvsbF2tw0kK2WCWuuermxGkQgiaoxE0F_0wFIZeEYMV8jBZpYufau9kKupD_CYNX8Y9_bsqi4ST6MUA0Wa0hXppjYgDfJwNQRz08EMXQ3JAQaE2Dnk9hHTnWhreWIg/s1024/Living%20room%202.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj1In5swbVSP4p-aKnV2BFH_L-yFbUxHblPt8JapCSNo8dcBsN7HMYLECV2DejapwmUOLe9wlOKiRbSzKJ94hNynK23qOZd9j9HahnzDROpe9uG4qNuElRtIyQYwlBCcQN6UBRI6EcYxgrXqlGRD9lTj_ggvgVkhADSzuv40rKVToX0BuBEDX6sPto_Pw/s1024/Living%20Room.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgD_yMToqd_95gTDvhFvjWXhVmc8KDZBOMxuK6DCpfbHU4nss6Dth-qxNc_tzrVahBKOj3wTB_O-2KFGTzt-qzqT7Vz55j5_5YcPBj_mGTARuci-mX6h6rg_toCBO-8RZ1Y8n2PTAKylmkeSEYWT5kNF7nAi4bNjB9hmQJx-gpBCSTbOfgKYjhVaY-vbA/s1024/Livingroom%201.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhjNYSE_0ERH8oKfMaIhlxOm0a_akWWF9elHC0jS__JJpAubSnJpo_V5NispbxvRn-MfcJSearSkKbtTE-iZXKS77LKEsnkai0OZzGrYyCwBZWWI2YUDgZh2aretoVhwRQYQjvUPWNrh5lId1a7NxPVfxSXiQv6dxFCCXVhzaouHRYH5PAeT1iaHkiEPg/s1024/Livingroom%202.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEggDpaiB53gcOOz0ezq8bezNxZiJwUbq6SX-72viboQUqr4eYh9oEY-edfkWZi-L3d2WuaJc7Ne8G0hPzpNa_hxWcjWQMOO8OdGSXL5I-2eqsUdKZqU4U5a49nt-SWX-fj-Df48gNu3BM9-t9yDvvQhYrUw_gUTwUD7ySIiKyEeNCylFsYUKdG2Z7LOsA/s1024/Livingroom%20Dining%20Room%20Kitchen%202.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEih1ayYKuNDojFVFfGkYyyxnc9C5YS49qZeMfKzuvIIAZ8wr-CIiGvcxCoDvcUHXj0PSkWJ1KAIA5nnpfYns3SchTF9hk3e3nt8hWWDrnXz7fWET7RWxFM3ITku-jN1kmqDpTbRkxPujsgQSTej11gfPeRBjz0Aqe-oqhFz4igfcMhB8RDFYkRj6w0eZA/s1024/Livingroom%20Dining%20Room%20Kitchen.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhYd8vx8NuLBXfcYbGYLCh0aqKh-fQAidAZcw1XAkAqfeD_E9KVxFlflKK3l1bNiq39Fy1uGqdAwEYQLme66Mt3mi6UKtA2ZQvPdlnw4jTdf0m_BIL5RVejKyVzXJuNIXVPqJyLHn42unxbgcae2IkMVxAxHOFf0X5mUCho2mxKbecBMRbvYVH4s4ZYJQ/s1024/Master%20Bedroom.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjcG2h8sP_qZD6inG7WVljw5WWKTmUxfpKncPs3WA63hZai0jJjd8h4szdBOa7wplGiNxe9Eufj3mKXUp3ltJRThA54CtPjrjb7hjPnmtKHKT5YsiZz_pkvx3lzepORLAOOnk4g3ChXOz-iin0KnAqM1BgmCnOLYVuxqc_oX9nE_hsWE9MSyCAkVYLNdw/s1024/RE2022_VSBedroom%201%20Photo%20%281%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgSsepAr4ysfsjj2N3O5HapqJLjz4e-Mm1V2OWNtLx-OjjrhvqmwnMiPgmPysrOFooXJMtaJS4jtr5PvfDK7SubZYjjwmZe9YNUm6Mr07BPSjqf1pvo_Z-jM04YwjoVjxYymV77lGs97ZIgDVK3EXxzfxjoys8-P7Lt86tq0fxToSL8Vm3AwDGp68E_Cw/s1024/RE2022_VSBedroom%201%20Photo%20%282%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgs6lteWvljXCupL9qOiStTxIhW1JPpblE-PmSbvb-BLy-9nPCcGs0mFiVL2PnVIvEEeXm7q7N6ZWoEU1t68BD0YRy6SniZzH5o8CKA-X7jGD2lJrj92Fg1qzPsYMXGz43AnWXtEzpSvo173MyOYyGjwyUURA_9Mm0hrYWfYf5wnTbPPxO3F6GLzJ-Zag/s1024/RE2022_VSBedroom%201%20Photo%20%283%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg3jPSZAnnRUVU7fNXFb2kjhkNEUKJCP_a940yZdfSZWCtKL99HxzgXQrIJtly9thue-YZHGG3gm_7sS29N3kUKqVY9KX9HJ_zD_qQA5aWj2oCqYV4h2rSjTK_Ecy85aF2MmMEv8_Fi5LzLTJIPSphecbOZHRfk2na4YXug7X9iq5RdMVc0mbI36n4NWA/s1024/RE2022_VSDining%20Area.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg_-UKLXWfy2J-NyBKQnUwrKzc2FqAGI6QNFuhOxEOTnGIC822-q9KoORLaXig0E_psafU3Rzkj_rbXNYDu_KaOxd60F0rE-uck_IljCZ4xBnAX1vkliPYi0bjgivTThgybB_nSwjejrFKmc8J8UGwExHy-T04pErcxslYo7Z3Z5RyinHXU3zlz1SU6Zw/s1024/RE2022_VSDining%20Close%20Camera%20%281%29%20+%20LivingRoom%20%283%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhVaj_BZkzrslI-kRZcVH3j1IoTuHo1k5oA80_n5edPsZcGdOElGA9dDe_zSEFHdxInwZ6IYTJ1fdVYagsrTgxmpgwWJGQsJgLfdP83-6G1-9bQiPulmflViO8iBsFDlqzNYDkwvArwq6GMFG1eAEF1JjnSOq8hetB64ZfqPDQLFus8KFpJ6Xk7sf1bxA/s1024/RE2022_VSDining%20Close%20Camera%20%282%29%20+%20LivingRoom%20%284%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhfloAPBazQqSjmwEdhOieV1enInxN9CM4SZS1eZHM9rVuQm7-TstNmY7KV6-BQGtPMkGzQ0pYSqsm0JDVjyQGtPoAfAqPuYMKPC6QFLOzfObeQUt7rOw3SX1D9fangCvhyJr76CvS49PxtvS7AdztENzGUoNhRiAEC_w8OiFXcSGKhxvksPXhjAI3K2A/s1024/RE2022_VSLivingRoom%20%281%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgbV7im1MF-8O1UA1mdVXteAzYlxk6PtpCXIpdN5oFdHrxSh2NBKY6wnIrJhfEuYTPu2Aq7Y-Rvba2UIKx40H-FD1vQCuCbHA1ST63fAbuRg_Ri6d_veP3os3vqBylSRwmzR1H2EAZcuIhkCmkmMD11TgpY3zrj8N77uC9gJj0DXGaA_MMbmKOL2Lkvhw/s1024/RE2022_VSLivingRoom%20%282%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgs0J9H8reyV-4jFeRjUjQuvvh3PRoO723BcR7kuLgZLAU1OXOP-bnkDsBZgdNzhwJhb8ByfprtcoqmWMVBCQU6hwcH8_Cm1W-nGi5P8olGt1Am08qdbNw92lU86XIsRfMLdHjs29ZMtw9IhWzaThHhPWHdf_uuklpu0rU7caXd5NbJ0sTtrAKZ2Mo1sg/s1024/RE2022_VSMaster%20Bedroom%20%20Photo%20%281%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi5mlX4sDPhjUHVep-2QUiKij6cZ4iun72pGuYdhhAsqpQuB094aulvPg_KOYZxn9Ik268D8G1BZRJ-3CwWMdtEGrWw0SItx3kguiA2ExMF5GUs2xXlPHgy_pSmXj0qFUlBXOz-ToJR4rXXePFeu_UNAFVz9Di5c7U-HMbaVgc4BJWukzHKG-QByY5cDw/s1024/RE2022_VSMaster%20Bedroom%20%20Photo%20%282%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhh6l8wlzd-EF26YohFrXeLTjYVPiDHIehR-Imv41rENDs8WvrIEfzXIx62YzcVccP8HNkL8uycUKm5MSMGmseapMovy_vABCsHNttQq7oyc6AtqTVCGB1eTSasLUemDxVu_7ZSaKbfIPKblfs0pR5yvGCDY2qmKmSIqtFcwhc71clcShW3ECVGUdSzVw/s1024/RE2022_VSMaster%20Bedroom%20%20Photo%20%283%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjjbq790pXIyzobJnvVnalong-9zqLd94wQPgU1lBIp9rDw3LPbw60GCazYC1baPwGg9mo-7bE37hSvbbbb8EK7ukbL7DzeidKnOaRMi_Tnw8J7vbblL2HnolUZuqGgR_m0jEmkTwOAXiPrMdCfjp2Ny4q38Ki5AHTsC39F4VUB7gcLWJZ2HPyC-EGcJQ/s1024/RE2022_VSMaster%20Bedroom%20%20Photo%20%284%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgZTW1MsT0keOM8Z1-J_7ZNqJ_7Q3NU1Df0-Y6txK8kBpY_TvlriJw6BEtE3wpTRC1YsAwhAe0ySoIxjKe0exhTIC-ClGuuZdx-VF0GoNENX0kmxtDCQ88gqqo_-JRufrGsZzSXp3OXiQarS-9fp4aMfYRr3X5KaafNkddw6snGbzcbb7JJHY2qWuErvw/s1024/Bedroom%201.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgbPxjV7u6O9P1Xor-pWD0xrLSwotmh3SYldVIMpcrK_RrquKNO4yi33o8qGZd-rtOCRIW6_z7VxrcxwaIdyLyjopGucleVQlutPdYUHyOLocG-8E5UIV8lTlAWAfbVMFC_klw7RzlwyFJGxuLygbGha2ngB7dSOx6q0r03cBOUHoIfceHX9sxodY1i9w/s1024/Bedroom%203.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhFlQ2TBgpkYmJHuPAK7zDCGwzQbIv1L57kptJoMuz79wYiJK-x7REtKG_KbiPUR-__RnR7po17YH9cAWw1pwRLJyR5rqN4Q8vXuLFrPpMiZ8vcI0vOEexJaZ2Ow5aU2Zg4qymvAZE0-vP2E4IZDXTlHy6hQIWU_xsMX441SDYf0K5teXK6Hheyp84YYQ/s1024/Bedroom%20copy.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEisddoKEFTQZ7C1UPybLoNE2PflP3dAmkzb8rbGp5y_aGqdySzTqt3BSRm-Zh253unHv7pCCt51Vf-LTSer9s8x0pDGFthMOzPNuIG3ertd0TgWXCUk0hUHWs3vuJ3mjdAd71sbh5ymCK8spd-e0joBLikIo5vDxDzGd3VnDjMAYBdNUqwRePUQAQ7ZiA/s1024/Bedroom%281%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjejDASMUDKREUmO-m3T3LVTL_0pOLGtv7SP9Brb59MfbPyiny40Mb4iEV5z5-FPFFLIhMPuGGu9_C9RgLnH7Q0GEzWNVUI5c0LuLv5PyR3PnAmLmyk2Qcu4mV5Rm4n91d1rxrYWh7G7sidHciaggCrQKgGpe3Hiwc9i3pYJfTXRV3b_HIlIgbjlSp6fQ/s1024/Bedroom%282%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiMbgA2O3N-SxjsRNVcOHjTQeEFUb-lzy9KgAQC2ai8U-c6sSoY6St-rF-7p3XVywF2Dh97jPOVeEUJEd16oK4uiBrIvmd4stm3E_1-3znVNw7WIIm_ZH3nDT_aC3L0a7QbaXq7QADM0TJh9j4TppzMUX7yLDGgM-1FFLGDtWwWFjgAfOD6_78K11jO2g/s1024/Bedroom.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi1q9RUUCylgJiX-yJUZBXysjaZR4AyWdRu5xCgG5jcgq9DVHJSnEr29nSTguvtVBNrQK3v5A8pOv6WyPZABgQJU_WR31ggCu0Bvux5gsFn26jVWRjxBwv135yOzHii1I4mqxHd4EUwfzW4WGL_UVvxIj90QJoGjbIeWBOShASUvVeffJssMrGGAxF7CA/s1024/Living%20Room%20-%20Dining%20Room.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhIRxgUbZNCdRG_9vk4j06I1tAdHMD77DhbVB2yzMqGK-WNH5eltKh3f4oMt1oEDXWPkCk1luAPd_qMDmmyXZKvie2Cp5DICGLaMtIw6YE1TR5hOzhX_54Hz6H9dq-Jt-Bk-i57gtU-QKCP23Mjxy2vkEgVOy0d31WxfOxdvGQSm8uxbccrfXfGVvne4A/s1048/Bedroom%202.jpg",alt:"Image 2"}];let by=(()=>{class n{constructor(){this.photographyListOfImages=wy,this.aerialListOfImages=Iy,this.floorPlanListOfImages=_y,this.stagingListOfImages=H0}GetPhotographyImages(){return this.photographyListOfImages}GetAerialImages(){return this.aerialListOfImages}GetFloorPlanImages(){return this.floorPlanListOfImages}GetStagingImages(){return this.stagingListOfImages}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uC(n,e){if(1&n&&(c.TgZ(0,"div",10),c._UZ(1,"img",11),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Q6J("src",t.url,c.LSH)("alt",t.alt)}}function lC(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"span",12),c.NdJ("click",function(){const u=c.CHM(t).index,d=c.oxw();return c.KtG(d.goToImage(u))}),c.qZA()}if(2&n){const t=e.index,r=c.oxw();c.ekj("active",t===r.currentIndex)}}let Zh=(()=>{class n{constructor(t){this.carouselSvc=t,this.listOfImages=[],this.currentIndex=0}ngOnInit(){"aerial"==this.galleryType?this.listOfImages=this.carouselSvc.GetAerialImages():"photos"==this.galleryType?this.listOfImages=this.carouselSvc.GetPhotographyImages():"floorPlan"==this.galleryType?this.listOfImages=this.carouselSvc.GetFloorPlanImages():"staging"==this.galleryType&&(this.listOfImages=this.carouselSvc.GetStagingImages()),this.startInterval()}ngOnDestroy(){this.stopInterval()}startInterval(){this.interval=setInterval(()=>{this.nextImage()},3e3)}stopInterval(){clearInterval(this.interval)}prevImage(){this.currentIndex=0===this.currentIndex?this.listOfImages.length-1:this.currentIndex-1,this.stopInterval(),this.startInterval()}nextImage(){this.currentIndex=this.currentIndex===this.listOfImages.length-1?0:this.currentIndex+1,this.stopInterval(),this.startInterval()}goToImage(t){this.currentIndex=t,this.stopInterval(),this.startInterval()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(by))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dynamic-image-carousel"]],inputs:{galleryType:"galleryType"},decls:10,vars:4,consts:[[1,"carousel-container"],[1,"carousel-inner"],["class","carousel-item",4,"ngFor","ngForOf"],[1,"carousel-navigation"],[1,"carousel-prev",3,"click"],["src","../../../assets/left.svg","alt","right"],[1,"carousel-next",3,"click"],["src","../../../assets/right.svg","alt","right"],[1,"carousel-indicators"],[3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-item"],[3,"src","alt"],[3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c.YNc(2,uC,2,2,"div",2),c.qZA(),c.TgZ(3,"div",3)(4,"button",4),c.NdJ("click",function(){return r.prevImage()}),c._UZ(5,"img",5),c.qZA(),c.TgZ(6,"button",6),c.NdJ("click",function(){return r.nextImage()}),c._UZ(7,"img",7),c.qZA()(),c.TgZ(8,"div",8),c.YNc(9,lC,1,2,"span",9),c.qZA()()),2&t&&(c.xp6(1),c.Udp("transform","translateX("+100*-r.currentIndex+"%)"),c.xp6(1),c.Q6J("ngForOf",r.listOfImages),c.xp6(7),c.Q6J("ngForOf",r.listOfImages))},dependencies:[An],styles:[".carousel-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1024px;margin:0 auto;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.carousel-item[_ngcontent-%COMP%]{flex-shrink:0;width:100%;overflow:hidden}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%}.carousel-navigation[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);width:100%;display:flex;justify-content:space-between}.carousel-prev[_ngcontent-%COMP%], .carousel-next[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;background:transparent;color:#fff;cursor:pointer}.carousel-prev[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .carousel-next[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5rem;height:5rem}.carousel-prev[_ngcontent-%COMP%]:hover, .carousel-next[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2)}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;bottom:2rem;left:50%;transform:translate(-50%);display:flex}.carousel-indicators[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;border-radius:50%;background:rgba(255,255,255,.5);cursor:pointer}.carousel-indicators[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%]{background:white}"]}),n})(),cC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-photo"]],decls:16,vars:2,consts:[[1,"section-container"],[1,"container","info-container"],[1,"intro"],[1,"subtitle"],[1,"btn-group"],["href","#",1,"btn","btn-accent"],["href","#",1,"btn","btn-secondary"],[3,"pageName"],[1,"container","carousel-container"],[1,"image_carousel_container"],[3,"galleryType"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"h1"),c._uU(4,"Photography"),c.qZA(),c.TgZ(5,"p",3),c._uU(6,"Our aim is to provide homeowners and realtors with professional images that will enhance their property listings. By using the latest camera technology, multiple lighting options, and advanced image blending techniques, to produce stunning professional photos. Our services include interior, exterior, aerial photography, and video to help your listings stand out and grab the attention of potential buyers."),c.qZA(),c.TgZ(7,"div",4)(8,"a",5),c._uU(9,"Inquire"),c.qZA(),c.TgZ(10,"a",6),c._uU(11,"More info"),c.qZA()(),c._UZ(12,"app-table-card-list",7),c.qZA()(),c.TgZ(13,"div",8)(14,"div",9),c._UZ(15,"app-dynamic-image-carousel",10),c.qZA()()()),2&t&&(c.xp6(12),c.Q6J("pageName","photo"),c.xp6(3),c.Q6J("galleryType","photos"))},dependencies:[Gh,Zh],styles:['h1[_ngcontent-%COMP%]{font-size:calc(3rem + 3vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:50%;color:hsl(var(--clr-light))}.btn-group[_ngcontent-%COMP%]{margin:2em 0;display:relative}.btn[_ngcontent-%COMP%]{padding:1em 2em;text-decoration:none;text-transform:uppercase;border-radius:5px;position:relative;display:inline-block;line-height:1}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:1em}.btn-secondary[_ngcontent-%COMP%]{background:var(--foreground);color:var(--background)}.btn-accent[_ngcontent-%COMP%]{background:hsl(var(--clr-light));color:var(--foreground)}.btn[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;left:-4px;top:4px;border-radius:inherit;z-index:-1}.intro[_ngcontent-%COMP%]{height:30vh;padding:10rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.intro[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-column:2/3}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#AB987A}.container[_ngcontent-%COMP%]{display:grid;flex:1;align-items:center;justify-content:center}.info-container[_ngcontent-%COMP%]{padding:1rem}.image_carousel_container[_ngcontent-%COMP%]{margin:auto;padding:auto}.subtitle[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:1rem;color:var(--background)}@media (max-width: 35rem){h1[_ngcontent-%COMP%]{font-size:calc(2.5rem + 2vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:80%;color:hsl(var(--clr-light))}.intro[_ngcontent-%COMP%]{height:100%;padding:1rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#AB987A;height:100%}.carousel-container[_ngcontent-%COMP%]{display:unset;padding:2rem}}']}),n})(),z0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-video"]],decls:18,vars:1,consts:[[1,"section-container"],[1,"container","carousel-container"],["width","1024","height","610","controls","","muted","",1,"responsive"],["src","../../../../assets/video/SCOUT_Group.mp4","type","video/mp4"],[1,"container","info-container"],[1,"intro"],[1,"subtitle"],[1,"btn-group"],["href","#",1,"btn","btn-accent"],["href","#",1,"btn","btn-secondary"],[3,"pageName"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"video",2),c._UZ(3,"source",3),c.qZA()(),c.TgZ(4,"div",4)(5,"section",5)(6,"h1"),c._uU(7,"Video Tours"),c.qZA(),c.TgZ(8,"h2"),c._uU(9,"& Reels"),c.qZA(),c.TgZ(10,"p",6),c._uU(11," Due to everything happening around us, buyers now rely on online tools to help them narrow down potential home choices and the online presence of each listing is everything. We offer professional videos and 3D Tours that showcase both homes as well as the local community. We also offer videos about the services you offer to potential clients so that way people get to know you before they ever meet you. "),c.qZA(),c.TgZ(12,"div",7)(13,"a",8),c._uU(14,"Inquire"),c.qZA(),c.TgZ(15,"a",9),c._uU(16,"More info"),c.qZA()(),c._UZ(17,"app-table-card-list",10),c.qZA()()()),2&t&&(c.xp6(17),c.Q6J("pageName","video"))},dependencies:[Gh],styles:['h1[_ngcontent-%COMP%]{font-size:calc(3rem + 3vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:50%;color:hsl(var(--clr-light))}.btn-group[_ngcontent-%COMP%]{margin:2em 0;display:relative}.btn[_ngcontent-%COMP%]{padding:1em 2em;text-decoration:none;text-transform:uppercase;border-radius:5px;position:relative;display:inline-block;line-height:1}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:1em}.btn-secondary[_ngcontent-%COMP%]{background:var(--foreground);color:var(--background)}.btn-accent[_ngcontent-%COMP%]{background:hsl(var(--clr-light));color:var(--foreground)}.btn[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;left:-4px;top:4px;border-radius:inherit;z-index:-1}.intro[_ngcontent-%COMP%]{height:30vh;padding:10rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.intro[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-column:2/3}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#0f1626}.container[_ngcontent-%COMP%]{display:grid;flex:1;align-items:center;justify-content:center}.info-container[_ngcontent-%COMP%]{padding:1rem}.image_carousel_container[_ngcontent-%COMP%]{margin:auto;padding:auto}.subtitle[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:1rem;color:var(--background)}.responsive[_ngcontent-%COMP%]{width:100%;height:auto}@media (max-width: 35rem){h1[_ngcontent-%COMP%]{font-size:calc(2.5rem + 2vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:80%;color:hsl(var(--clr-light))}.intro[_ngcontent-%COMP%]{height:100%;padding:1rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#0f1626;height:100%;flex-direction:column-reverse}.carousel-container[_ngcontent-%COMP%]{display:unset;padding:2rem}}']}),n})(),G0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-tour3d"]],decls:21,vars:1,consts:[[1,"section-container"],[1,"container","carousel-container"],[1,"image_carousel_container"],["src","https://1.bp.blogspot.com/-BiT4xISoNZw/XzwOyxiAbqI/AAAAAAADntA/hWziUSDc_SIULpXCtavxrIkc5cGNZK0eACLcBGAsYHQ/s1024/19918-119th-Ave-SE-08182020_101528.jpg",1,"responsive",2,"border","1px solid black"],[1,"container","info-container"],[1,"intro"],[1,"subtitle"],[1,"btn-group"],["href","#",1,"btn","btn-accent"],["href","#",1,"btn","btn-secondary"],[3,"pageName"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2),c._UZ(3,"img",3),c.qZA()(),c.TgZ(4,"div",4)(5,"section",5)(6,"h1"),c._uU(7,"3D Tours"),c.qZA(),c.TgZ(8,"p",6),c._uU(9," Matterport 3D tours, Zillow 3D Home, and Cupix 3D Virtual Space all help create a full immersive virtual experience for potential buyers. It is the best way to let your customer experience your listing online from the safety and comfort of their home. Plus, 3D Tours allow the luxury of a 24/7 open house "),c.qZA(),c.TgZ(10,"ul")(11,"li"),c._uU(12," According to a recent study, consumers say a 3D virtual home tour is the second most desired feature in their home search after professional bright photos. "),c.qZA(),c.TgZ(13,"li"),c._uU(14," Zillow\xae listings with a 3D Tour receive twice the number of views as other listings. "),c.qZA()(),c.TgZ(15,"div",7)(16,"a",8),c._uU(17,"Inquire"),c.qZA(),c.TgZ(18,"a",9),c._uU(19,"More info"),c.qZA()(),c._UZ(20,"app-table-card-list",10),c.qZA()()()),2&t&&(c.xp6(20),c.Q6J("pageName","3d"))},dependencies:[Gh],styles:['h1[_ngcontent-%COMP%]{font-size:calc(3rem + 3vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:50%;color:hsl(var(--clr-light))}li[_ngcontent-%COMP%]{color:hsl(var(--clr-light))}.btn-group[_ngcontent-%COMP%]{margin:2em 0;display:relative}.btn[_ngcontent-%COMP%]{padding:1em 2em;text-decoration:none;text-transform:uppercase;border-radius:5px;position:relative;display:inline-block;line-height:1}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:1em}.btn-secondary[_ngcontent-%COMP%]{background:var(--foreground);color:var(--background)}.btn-accent[_ngcontent-%COMP%]{background:hsl(var(--clr-light));color:var(--foreground)}.btn[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;left:-4px;top:4px;border-radius:inherit;z-index:-1}.intro[_ngcontent-%COMP%]{height:30vh;padding:10rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.intro[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-column:2/3}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#0f1626}.container[_ngcontent-%COMP%]{display:grid;flex:1;align-items:center;justify-content:center}.info-container[_ngcontent-%COMP%]{padding:1rem}.subtitle[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:1rem;color:var(--background)}.image_carousel_container[_ngcontent-%COMP%]{margin:auto;padding:auto}.responsive[_ngcontent-%COMP%]{width:100%;height:auto}@media (max-width: 35rem){h1[_ngcontent-%COMP%]{font-size:calc(2.5rem + 2vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:80%;color:hsl(var(--clr-light))}.intro[_ngcontent-%COMP%]{height:100%;padding:1rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#0f1626;height:100%;flex-direction:column-reverse}.carousel-container[_ngcontent-%COMP%]{display:unset;padding:2rem}}']}),n})(),dC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-floorplan"]],decls:21,vars:1,consts:[[1,"section-container"],[1,"container","carousel-container"],[1,"image_carousel_container"],[3,"galleryType"],[1,"container","info-container"],[1,"intro"],[1,"subtitle"],[1,"btn-group"],["href","#",1,"btn","btn-accent"],["href","#",1,"btn","btn-secondary"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2),c._UZ(3,"app-dynamic-image-carousel",3),c.qZA()(),c.TgZ(4,"div",4)(5,"section",5)(6,"h1"),c._uU(7,"Floor Plan"),c.qZA(),c.TgZ(8,"p",6),c._uU(9," When viewing your listings, potential buyers and/or tenants will appreciate this option. With windows, doors, rooms, and spaces drawn. Room names can be customized as needed. Individual room measurements can be displayed, or they can be left out entirely. Delivered as a jpg file, which you can add to your listing alongside the photographs. A black and white floor plan is the clear way for you potential buyers to get a good understanding of the home\u2019s layout. "),c._UZ(10,"br")(11,"br"),c._uU(12," Often, buyers like to see how rooms relate to each other and how the property flows when buying a home. Unlike a simple photograph, a floor plan contains more information about each home. It is also important to consider dimensions during this process. Buyers will be able to determine whether a property suits their needs if its dimensions are clear, which can be difficult in some cases. "),c._UZ(13,"br"),c._uU(14," A floor plan gives the buyer a chance to visualize the property as their very own, rather than someone else's. "),c._UZ(15,"br"),c.qZA(),c.TgZ(16,"div",7)(17,"a",8),c._uU(18,"Inquire"),c.qZA(),c.TgZ(19,"a",9),c._uU(20,"More info"),c.qZA()()()()()),2&t&&(c.xp6(3),c.Q6J("galleryType","floorPlan"))},dependencies:[Zh],styles:['h1[_ngcontent-%COMP%]{font-size:calc(3rem + 3vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:50%;color:hsl(var(--clr-light))}.btn-group[_ngcontent-%COMP%]{margin:2em 0;display:relative}.btn[_ngcontent-%COMP%]{padding:1em 2em;text-decoration:none;text-transform:uppercase;border-radius:5px;position:relative;display:inline-block;line-height:1}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:1em}.btn-secondary[_ngcontent-%COMP%]{background:var(--foreground);color:var(--background)}.btn-accent[_ngcontent-%COMP%]{background:hsl(var(--clr-light));color:var(--foreground)}.btn[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;left:-4px;top:4px;border-radius:inherit;z-index:-1}.intro[_ngcontent-%COMP%]{height:30vh;padding:10rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.intro[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-column:2/3}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#AB987A}.container[_ngcontent-%COMP%]{display:grid;flex:1;align-items:center;justify-content:center}.info-container[_ngcontent-%COMP%]{padding:1rem}.image_carousel_container[_ngcontent-%COMP%]{margin:auto;padding:auto}.subtitle[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:1rem;color:var(--background)}@media (max-width: 35rem){h1[_ngcontent-%COMP%]{font-size:calc(2.5rem + 2vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:80%;color:hsl(var(--clr-light))}.intro[_ngcontent-%COMP%]{height:100%;padding:1rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#AB987A;height:100%;flex-direction:column-reverse}.carousel-container[_ngcontent-%COMP%]{display:unset;padding:2rem}}']}),n})(),hC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-staging"]],decls:22,vars:2,consts:[[1,"section-container"],[1,"container","carousel-container"],[1,"image_carousel_container"],[3,"galleryType"],[1,"container","info-container"],[1,"intro"],[1,"subtitle"],[1,"btn-group"],["href","#",1,"btn","btn-accent"],["href","#",1,"btn","btn-secondary"],[3,"pageName"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2),c._UZ(3,"app-dynamic-image-carousel",3),c.qZA()(),c.TgZ(4,"div",4)(5,"section",5)(6,"h1"),c._uU(7,"Staging"),c.qZA(),c.TgZ(8,"p",6),c._uU(9," It is difficult to stand out in a sea of vacant home listings. Using virtual staging, you can turn boring rooms into dream properties, which will increase views, attention, and leads for your listing. "),c._UZ(10,"br"),c._uU(11," According to the National Association of Realtors\xae, nine out of ten buyers decide whether to walk through a home based on the photos of the listing. It can be difficult for potential buyers to gauge the size and feel of a home when it is vacant. A room can become a home with the right furniture and staging techniques. Building an emotional connection between a house and prospective buyers is key to selling houses quickly and for the most profit. "),c._UZ(12,"br"),c._uU(13," Virtual staging - as its name implies - is 100% virtual, so there is no physical labor involved. This will save you the trouble of doing physical work or hiring a moving company. "),c._UZ(14,"br"),c._uU(15," Virtual staging extends far beyond adding furniture and decor to empty photos. As well as removing and replacing furniture, virtual staging software can even renovate entire rooms. "),c.qZA(),c.TgZ(16,"div",7)(17,"a",8),c._uU(18,"Inquire"),c.qZA(),c.TgZ(19,"a",9),c._uU(20,"More info"),c.qZA()(),c._UZ(21,"app-table-card-list",10),c.qZA()()()),2&t&&(c.xp6(3),c.Q6J("galleryType","staging"),c.xp6(18),c.Q6J("pageName","staging"))},dependencies:[Gh,Zh],styles:['h1[_ngcontent-%COMP%]{font-size:calc(3rem + 3vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:50%;color:hsl(var(--clr-light))}.btn-group[_ngcontent-%COMP%]{margin:2em 0;display:relative}.btn[_ngcontent-%COMP%]{padding:1em 2em;text-decoration:none;text-transform:uppercase;border-radius:5px;position:relative;display:inline-block;line-height:1}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:1em}.btn-secondary[_ngcontent-%COMP%]{background:var(--foreground);color:var(--background)}.btn-accent[_ngcontent-%COMP%]{background:hsl(var(--clr-light));color:var(--foreground)}.btn[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;left:-4px;top:4px;border-radius:inherit;z-index:-1}.intro[_ngcontent-%COMP%]{height:30vh;padding:10rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.intro[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-column:2/3}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#FF533D}.container[_ngcontent-%COMP%]{display:grid;flex:1;align-items:center;justify-content:center}.info-container[_ngcontent-%COMP%]{padding:1rem}.image_carousel_container[_ngcontent-%COMP%]{margin:auto;padding:auto}.subtitle[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:1rem;color:var(--background)}@media (max-width: 35rem){h1[_ngcontent-%COMP%]{font-size:calc(2.5rem + 2vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:80%;color:hsl(var(--clr-light))}.intro[_ngcontent-%COMP%]{height:100%;padding:1rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#FF533D;height:100%;flex-direction:column-reverse}.carousel-container[_ngcontent-%COMP%]{display:unset;padding:2rem}}']}),n})(),us=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-aerial"]],decls:23,vars:1,consts:[[1,"section-container"],[1,"container","carousel-container"],[1,"image_carousel_container"],[3,"galleryType"],[1,"container","info-container"],[1,"intro"],[1,"pageHeader"],[1,"subtitle"],[1,"btn-group"],["href","#",1,"btn","btn-accent"],["href","#",1,"btn","btn-secondary"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2),c._UZ(3,"app-dynamic-image-carousel",3),c.qZA()(),c.TgZ(4,"div",4)(5,"section",5)(6,"h1"),c._uU(7,"Aerial Photography"),c.qZA(),c.TgZ(8,"h2",6),c._uU(9,"& Video"),c.qZA(),c.TgZ(10,"p",7),c._uU(11," Aerial photography and video have become increasingly popular in the real estate industry due to their ability to provide a unique perspective of a property. With the help of drones we can capture stunning footage from high above, showcasing a property's unique selling features from a bird's-eye view. "),c._UZ(12,"br")(13,"br"),c._uU(14," By providing a visual representation of the property and its surroundings, aerial photography and video can help potential buyers get a better idea of what the property has to offer. This is especially useful for showcasing a property's location, proximity to amenities, and natural surroundings. By capturing footage of the surrounding neighborhood and landmarks from above, agents can help potential buyers get a better understanding of the property's location and its unique surroundings. "),c._UZ(15,"br")(16,"br"),c._uU(17," Million dollar properties with waterfront views, acreage and one-of-a-kind land features can all be highlighted and showcased with aerial/drone photography and video. "),c.qZA(),c.TgZ(18,"div",8)(19,"a",9),c._uU(20,"Inquire"),c.qZA(),c.TgZ(21,"a",10),c._uU(22,"More info"),c.qZA()()()()()),2&t&&(c.xp6(3),c.Q6J("galleryType","aerial"))},dependencies:[Zh],styles:['h1[_ngcontent-%COMP%]{font-size:calc(3rem + 3vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:50%;color:hsl(var(--clr-light))}.btn-group[_ngcontent-%COMP%]{margin:2em 0;display:relative}.btn[_ngcontent-%COMP%]{padding:1em 2em;text-decoration:none;text-transform:uppercase;border-radius:5px;position:relative;display:inline-block;line-height:1}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:1em}.btn-secondary[_ngcontent-%COMP%]{background:var(--foreground);color:var(--background)}.btn-accent[_ngcontent-%COMP%]{background:hsl(var(--clr-light));color:var(--foreground)}.btn[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;left:-4px;top:4px;border-radius:inherit;z-index:-1}.intro[_ngcontent-%COMP%]{height:30vh;padding:10rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.intro[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-column:2/3}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#FF533D}.container[_ngcontent-%COMP%]{display:grid;flex:1;align-items:center;justify-content:center}.info-container[_ngcontent-%COMP%]{padding:1rem}.image_carousel_container[_ngcontent-%COMP%]{margin:auto;padding:auto}.subtitle[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:1rem;color:var(--background)}@media (max-width: 35rem){h1[_ngcontent-%COMP%]{font-size:calc(2.5rem + 2vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:80%;color:hsl(var(--clr-light))}.intro[_ngcontent-%COMP%]{height:100%;padding:1rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#FF533D;height:100%;flex-direction:column-reverse}.carousel-container[_ngcontent-%COMP%]{display:unset;padding:2rem}}']}),n})(),Z0=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Jc=(()=>{class n extends Z0{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Ms=new c.OlP("NgValueAccessor"),pC={provide:Ms,useExisting:(0,c.Gpc)(()=>Up),multi:!0},K0=new c.OlP("CompositionEventMode");let Up=(()=>{class n extends Z0{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function gC(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(K0,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[c._Bn([pC]),c.qOj]}),n})();const mC=!1;function Ro(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Y0(n){return null!=n&&"number"==typeof n.length}const di=new c.OlP("NgValidators"),Eu=new c.OlP("NgAsyncValidators"),yC=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class zl{static min(e){return function Js(n){return e=>{if(Ro(e.value)||Ro(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Bp(n){return e=>{if(Ro(e.value)||Ro(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Q0(e)}static requiredTrue(e){return function X0(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Ey(n){return Ro(n.value)||yC.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function J0(n){return e=>Ro(e.value)||!Y0(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function ew(n){return e=>Y0(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function tw(n){if(!n)return ed;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ro(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return $p(e)}static composeAsync(e){return Cy(e)}}function Q0(n){return Ro(n.value)?{required:!0}:null}function ed(n){return null}function nw(n){return null!=n}function rw(n){const e=(0,c.QGY)(n)?(0,Wt.D)(n):n;if(mC&&!(0,c.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new c.vHH(-1101,t)}return e}function qh(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Wh(n,e){return e.map(t=>t(n))}function vC(n){return n.map(e=>function jp(n){return!n.validate}(e)?e:t=>e.validate(t))}function $p(n){if(!n)return null;const e=n.filter(nw);return 0==e.length?null:function(t){return qh(Wh(t,e))}}function iw(n){return null!=n?$p(vC(n)):null}function Cy(n){if(!n)return null;const e=n.filter(nw);return 0==e.length?null:function(t){return function fC(...n){const e=(0,Ys.jO)(n),{args:t,keys:r}=ga(n),o=new es.y(u=>{const{length:d}=t;if(!d)return void u.complete();const m=new Array(d);let _=d,C=d;for(let T=0;T<d;T++){let N=!1;(0,bt.Xf)(t[T]).subscribe((0,V.x)(u,G=>{N||(N=!0,C--),m[T]=G},()=>_--,void 0,()=>{(!_||!N)&&(C||u.next(r?M(r,m):m),u.complete())}))}});return e?o.pipe(D(e)):o}(Wh(t,e).map(rw)).pipe((0,Ct.U)(qh))}}function Hp(n){return null!=n?Cy(vC(n)):null}function Dy(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ay(n){return n._rawValidators}function zp(n){return n._rawAsyncValidators}function eo(n){return n?Array.isArray(n)?n:[n]:[]}function Gl(n,e){return Array.isArray(n)?n.includes(e):n===e}function Kh(n,e){const t=eo(e);return eo(n).forEach(o=>{Gl(t,o)||t.push(o)}),t}function td(n,e){return eo(e).filter(t=>!Gl(n,t))}class sw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=iw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Hp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class hi extends sw{get formDirective(){return null}get path(){return null}}class Ma extends sw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ow{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let aw=(()=>{class n extends ow{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ma,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[c.qOj]}),n})(),_C=(()=>{class n extends ow{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(hi,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[c.qOj]}),n})();function cw(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const My=!1,nd="VALID",Yh="INVALID",rd="PENDING",qp="DISABLED";function Wp(n){return(Kp(n)?n.validators:n)||null}function id(n,e){return(Kp(e)?e.asyncValidators:n)||null}function Kp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Yp(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new c.vHH(1e3,My?function CC(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new c.vHH(1001,My?function DC(n,e){return`Cannot find form control ${cw(n,e)}`}(e,t):"")}function dw(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new c.vHH(1002,My?function AC(n,e){return`Must supply a value for form control ${cw(n,e)}`}(e,o):"")})}class ls{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===nd}get invalid(){return this.status===Yh}get pending(){return this.status==rd}get disabled(){return this.status===qp}get enabled(){return this.status!==qp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Kh(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Kh(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(td(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(td(e,this._rawAsyncValidators))}hasValidator(e){return Gl(this._rawValidators,e)}hasAsyncValidator(e){return Gl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=rd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=qp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=nd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nd||this.status===rd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qp:nd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=rd,this._hasOwnPendingAsyncValidator=!0;const t=rw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?qp:this.errors?Yh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rd)?rd:this._anyControlsHaveStatus(Yh)?Yh:nd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Kp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function YS(n){return Array.isArray(n)?iw(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function TC(n){return Array.isArray(n)?Hp(n):n||null}(this._rawAsyncValidators)}}class xa extends ls{constructor(e,t,r){super(Wp(t),id(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){dw(this,!0,e),Object.keys(e).forEach(r=>{Yp(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Qh extends xa{}const Oa=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>No}),No="always";function ko(n,e,t=No){Cu(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function ad(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&xy(n,e)})}(n,e),function fw(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function hw(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&xy(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function od(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ra(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ka(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Na(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Cu(n,e){const t=Ay(n);null!==e.validator?n.setValidators(Dy(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=zp(n);null!==e.asyncValidator?n.setAsyncValidators(Dy(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Na(e._rawValidators,o),Na(e._rawAsyncValidators,o)}function ka(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=Ay(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(d=>d!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=zp(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(d=>d!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Na(e._rawValidators,r),Na(e._rawAsyncValidators,r),t}function xy(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Jp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function _w(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Zl=class extends ls{constructor(e=null,t,r){super(Wp(t),id(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Kp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=_w(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Jp(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Jp(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){_w(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Ly=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),eg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const tg=new c.OlP("NgModelWithFormControlWarning"),Pw={provide:hi,useExisting:(0,c.Gpc)(()=>ql)};let ql=(()=>{class n extends hi{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ka(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return ko(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Ra(t.control||null,t,!1),function Ry(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function yw(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(Ra(r||null,t),(n=>n instanceof Zl)(o)&&(ko(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Oy(n,e){Cu(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function pw(n,e){return ka(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Cu(this.form,this),this._oldForm&&ka(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(di,10),c.Y36(Eu,10),c.Y36(Oa,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Pw]),c.qOj,c.TTD]}),n})();const $y={provide:Ma,useExisting:(0,c.Gpc)(()=>Hy)};let Hy=(()=>{class n extends Ma{set isDisabled(t){}constructor(t,r,o,u,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Xp(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===Up?t=u:function mw(n){return Object.getPrototypeOf(n.constructor)===Jc}(u)?r=u:o=u}),o||r||t||null}(0,u)}ngOnChanges(t){this._added||this._setUpControl(),function Py(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Pa(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(hi,13),c.Y36(di,10),c.Y36(Eu,10),c.Y36(Ms,10),c.Y36(tg,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([$y]),c.qOj,c.TTD]}),n})();const zy={provide:Ms,useExisting:(0,c.Gpc)(()=>ng),multi:!0};function FC(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let ng=(()=>{class n extends Jc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=FC(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function XS(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([zy]),c.qOj]}),n})(),Rw=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(FC(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(ng,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Nw={provide:Ms,useExisting:(0,c.Gpc)(()=>Gy),multi:!0};function kw(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Gy=(()=>{class n extends Jc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(u=>this._getOptionId(u));r=(u,d)=>{u._setSelected(o.indexOf(d.toString())>-1)}}else r=(o,u)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[],u=r.selectedOptions;if(void 0!==u){const d=u;for(let m=0;m<d.length;m++){const C=this._getOptionValue(d[m].value);o.push(C)}}else{const d=r.options;for(let m=0;m<d.length;m++){const _=d[m];if(_.selected){const C=this._getOptionValue(_.value);o.push(C)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Or(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Nw]),c.qOj]}),n})(),Fw=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(kw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(kw(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Gy,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Su=(()=>{class n{constructor(){this._validator=ed}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ed,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const Bw={provide:di,useExisting:(0,c.Gpc)(()=>Jh),multi:!0};let Jh=(()=>{class n extends Su{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.D6c,this.createValidator=t=>Q0}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([Bw]),c.qOj]}),n})(),$w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[eg]}),n})();class Hw extends ls{constructor(e,t,r){super(Wp(t),id(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){dw(this,!1,e),e.forEach((r,o)=>{Yp(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function ld(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let zC=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const o=this._reduceControls(t);let u={};return ld(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new xa(o,u)}record(t,r=null){const o=this._reduceControls(t);return new Qh(o,r)}control(t,r,o){let u={};return this.useNonNullable?(ld(r)?u=r:(u.validators=r,u.asyncValidators=o),new Zl(t,{...u,nonNullable:!0})):new Zl(t,r,o)}array(t,r,o){const u=t.map(d=>this._createControl(d));return new Hw(u,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return t instanceof Zl||t instanceof ls?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gw=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Oa,useValue:t.callSetDisabledState??No}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[$w]}),n})(),ig=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:tg,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Oa,useValue:t.callSetDisabledState??No}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[$w]}),n})();class Zw{constructor(e,t,r,o,u,d,m,_,C){this.id=e,this.name=t,this.email=r,this.address=o,this.date=u,this.time=d,this.size=m,this.mediaPackage=_,this.total=C}}class Ci{constructor(e,t,r,o,u,d,m,_){this.id=e,this.icon=t,this.title=r,this.subtitle=o,this.features=u,this.price=d,this.sqFtPrice=m,this.selected=_}}let Wy=(()=>{class n{constructor(){this.listOfProducts=[new Ci(1,'<img src="../../../assets/cameraPlus.svg">',"Showcase","Package",["15 - 30 Edited Images","Blue Skies Exteriors","Clear Interior Window Views","Natural Interior Lighting","Manually edited","Virtual Staging**"],295,60,!1),new Ci(2,'<img src="../../../assets/cameraMinus.svg">',"Essentials","Package",["15 - 30 Edited Images","Blue Skies Exteriors","Clear Interior Window Views","Natural Interior Lighting","Manually edited","Virtual Staging**"],230,30,!1),new Ci(3,'<img src="../../../assets/drone.svg">',"Aerial","Package",["5-10 Aerial Photos","Manually edited","Location Indicator"],120,1,!1),new Ci(4,'<img src="../../../assets/sunset.svg">',"TWILIGHT","Package",["Photos captured 30 minutes before sunset","Taken on-site and requires a separate appointment."],120,1,!1),new Ci(5,'<img src="../../../assets/3DTour.svg">',"3D Tour","(MatterPort 3D)",["12-hour turnaround","Outdoor 360 Images","3 Months Hosting Included"],225,1,!1),new Ci(6,'<img src="../../../assets/3DTour.svg">',"Zillow 3D","(Zillow 3D)",["12-hour turnaround","Outdoor 360 Images","3 Months Hosting Included"],175,1,!1),new Ci(7,'<img src="../../../assets/floorplan.svg">',"Floor Plan","Package",["2D Floor Plan ","Estimated Dimensions "],75,1,!1),new Ci(8,'<img src="../../../assets/video.svg">',"Video Tour","",["1 Minute Aerial Video","Multiple Angles","MLS optimized","48-hour turnaround","Youtube Streaming","Agent Details"],295,1,!1),new Ci(9,'<img src="../../../assets/slideshow.svg">',"Slideshow","Tour",["1-2 min long slide show","5 second slides with music"],295,1,!1),new Ci(10,'<img src="../../../assets/social.svg">',"Social Media","Tour",["60 second social media video with music "],295,1,!1),new Ci(11,'<img src="../../../assets/user.svg">',"Agent Headshots","",["10 - 20 Edited Photos","White / Gray Background","MLS optimized","48-hour turnaround"],295,1,!1),new Ci(12,'<img src="../../../assets/brand.svg">',"Lifestyle Branding","",["5 - 10 Edited Photos","On Locatoin","MLS optimized","48-hour turnaround"],295,1,!1),new Ci(13,'<img src="../../../assets/stageing.svg">',"Virtual Staging","",["Call for Details"],295,1,!1),new Ci(14,'<img src="../../../assets/site.svg">',"Websites","",["Call for Details"],295,1,!1)]}GetProducts(t){return this.listOfProducts.find("showcase"===t?r=>1==r.id:r=>2==r.id)}GetAllProducts(){return this.listOfProducts}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ky=L(4986),mn=L(2122);function sg(){return(0,Dn.e)((n,e)=>{let t,r=!1;n.subscribe((0,V.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function Ww(n,e){return n===e}var pt,Os=L(2011),Kw=(L(9568),L(3942)),ye=L(5861),Lo=L(9681),og=L(4859),Mu=L(1877),dn=L(2090),WC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fa={},Yy=Yy||{},jt=WC||self;function ag(){}function ug(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ef(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Qy="closure_uid_"+(1e9*Math.random()>>>0),YC=0;function QC(n,e,t){return n.call.apply(n.bind,arguments)}function XC(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function fi(n,e,t){return(fi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?QC:XC).apply(null,arguments)}function lg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function zr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,o,u){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[o].apply(r,d)}}function La(){this.s=this.s,this.o=this.o}La.prototype.s=!1,La.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function KC(n){Object.prototype.hasOwnProperty.call(n,Qy)&&n[Qy]||(n[Qy]=++YC)}(this)},La.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xy=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function cg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Jy(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(ug(r)){const o=n.length||0,u=r.length||0;n.length=o+u;for(let d=0;d<u;d++)n[o+d]=r[d]}else n.push(r)}}function ti(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ti.prototype.h=function(){this.defaultPrevented=!0};var Qw=function(){if(!jt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{jt.addEventListener("test",ag,e),jt.removeEventListener("test",ag,e)}catch{}return n}();function tf(n){return/^[\s\xa0]*$/.test(n)}var ev=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function dg(n,e){return n<e?-1:n>e?1:0}function Vo(){var n=jt.navigator;return n&&(n=n.userAgent)?n:""}function Uo(n){return-1!=Vo().indexOf(n)}function tv(n){return tv[" "](n),n}tv[" "]=ag;var fg,n,nM=Uo("Opera"),xu=Uo("Trident")||Uo("MSIE"),JC=Uo("Edge"),hg=JC||xu,nv=Uo("Gecko")&&!(-1!=Vo().toLowerCase().indexOf("webkit")&&!Uo("Edge"))&&!(Uo("Trident")||Uo("MSIE"))&&!Uo("Edge"),rM=-1!=Vo().toLowerCase().indexOf("webkit")&&!Uo("Edge");function Dt(){var n=jt.document;return n?n.documentMode:void 0}e:{var rv="",iv=(n=Vo(),nv?/rv:([^\);]+)(\)|;)/.exec(n):JC?/Edge\/([\d\.]+)/.exec(n):xu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):rM?/WebKit\/(\S+)/.exec(n):nM?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(iv&&(rv=iv?iv[1]:""),xu){var Ou=Dt();if(null!=Ou&&Ou>parseFloat(rv)){fg=String(Ou);break e}}fg=rv}var eD={};var iM=jt.document&&xu&&(Dt()||parseInt(fg,10))||void 0;function hd(n,e){if(ti.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(nv){e:{try{tv(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Xw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&hd.X.h.call(this)}}zr(hd,ti);var Xw={2:"touch",3:"pen",4:"mouse"};hd.prototype.h=function(){hd.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var nf="closure_listenable_"+(1e6*Math.random()|0),Jw=0;function eI(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=o,this.key=++Jw,this.ba=this.ea=!1}function rf(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function gg(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function tI(n){const e={};for(const t in n)e[t]=n[t];return e}const nI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rI(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<nI.length;u++)t=nI[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Pu(n){this.src=n,this.g={},this.h=0}function sv(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=Xy(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(rf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ov(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return o}return-1}Pu.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=ov(n,e,r,o);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new eI(e,this.src,u,!!r,o)).ea=t,n.push(e)),e};var av="closure_lm_"+(1e6*Math.random()|0),fd={};function uv(n,e,t,r,o){if(r&&r.once)return sI(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)uv(n,e[u],t,r,o);return null}return t=yg(t),n&&n[nf]?n.N(e,t,ef(r)?!!r.capture:!!r,o):lv(n,e,t,!1,r,o)}function lv(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var d=ef(o)?!!o.capture:!!o,m=cv(n);if(m||(n[av]=m=new Pu(n)),(t=m.add(e,t,r,d,u)).proxy)return t;if(r=function iI(){const e=tD;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Qw||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(oI(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function sI(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)sI(n,e[u],t,r,o);return null}return t=yg(t),n&&n[nf]?n.O(e,t,ef(r)?!!r.capture:!!r,o):lv(n,e,t,!0,r,o)}function pd(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)pd(n,e[u],t,r,o);else r=ef(r)?!!r.capture:!!r,t=yg(t),n&&n[nf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ov(u=n.g[e],t,r,o))&&(rf(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=cv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ov(e,t,r,o)),(t=-1<n?e[n]:null)&&Kl(t))}function Kl(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[nf])sv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(oI(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=cv(e))?(sv(t,n),0==t.h&&(t.src=null,e[av]=null)):rf(n)}}}function oI(n){return n in fd?fd[n]:fd[n]="on"+n}function tD(n,e){if(n.ba)n=!0;else{e=new hd(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Kl(n),n=t.call(r,e)}return n}function cv(n){return(n=n[av])instanceof Pu?n:null}var mg="__closure_events_fn_"+(1e9*Math.random()>>>0);function yg(n){return"function"==typeof n?n:(n[mg]||(n[mg]=function(e){return n.handleEvent(e)}),n[mg])}function Pr(){La.call(this),this.i=new Pu(this),this.P=this,this.I=null}function ni(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ti(e,n);else if(e instanceof ti)e.target=e.target||n;else{var o=e;rI(e=new ti(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];o=sf(d,r,!0,e)&&o}if(o=sf(d=e.g=n,r,!0,e)&&o,o=sf(d,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=sf(d=e.g=t[u],r,!1,e)&&o}function sf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ba&&d.capture==t){var m=d.listener,_=d.ha||d.src;d.ea&&sv(n.i,d),o=!1!==m.call(_,r)&&o}}return o&&!r.defaultPrevented}zr(Pr,La),Pr.prototype[nf]=!0,Pr.prototype.removeEventListener=function(n,e,t,r){pd(this,n,e,t,r)},Pr.prototype.M=function(){if(Pr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)rf(t[r]);delete n.g[e],n.h--}}this.I=null},Pr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Pr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var dv=jt.JSON.stringify;function nD(){var n=pv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var gd,rD=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new oM,n=>n.reset());class oM{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function aM(n){jt.setTimeout(()=>{throw n},0)}function hv(n,e){gd||function iD(){var n=jt.Promise.resolve(void 0);gd=function(){n.then(af)}}(),fv||(gd(),fv=!0),pv.add(n,e)}var fv=!1,pv=new class sM{constructor(){this.h=this.g=null}add(e,t){const r=rD.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function af(){for(var n;n=nD();){try{n.h.call(n.g)}catch(t){aM(t)}var e=rD;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}fv=!1}function vg(n,e){Pr.call(this),this.h=n||1,this.g=e||jt,this.j=fi(this.lb,this),this.l=Date.now()}function gv(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function mv(n,e,t){if("function"==typeof n)t&&(n=fi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=fi(n.handleEvent,n)}return 2147483647<Number(e)?-1:jt.setTimeout(n,e||0)}function aI(n){n.g=mv(()=>{n.g=null,n.i&&(n.i=!1,aI(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}zr(vg,Pr),(pt=vg.prototype).ca=!1,pt.R=null,pt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ni(this,"tick"),this.ca&&(gv(this),this.start()))}},pt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pt.M=function(){vg.X.M.call(this),gv(this),delete this.g};class uM extends La{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:aI(this)}M(){super.M(),this.g&&(jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uf(n){La.call(this),this.h=n,this.g={}}zr(uf,La);var yv=[];function uI(n,e,t,r){Array.isArray(t)||(t&&(yv[0]=t.toString()),t=yv);for(var o=0;o<t.length;o++){var u=uv(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function lI(n){gg(n.g,function(e,t){this.g.hasOwnProperty(t)&&Kl(e)},n),n.g={}}function Ru(){this.g=!0}function md(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function oD(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<o.length;d++)o[d]=""}}}return dv(t)}catch{return e}}(n,t)+(r?" "+r:"")})}uf.prototype.M=function(){uf.X.M.call(this),lI(this)},uf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ru.prototype.Aa=function(){this.g=!1},Ru.prototype.info=function(){};var Nu={},hI=null;function yd(){return hI=hI||new Pr}function fI(n){ti.call(this,Nu.Pa,n)}function vd(n){const e=yd();ni(e,new fI(e))}function vv(n,e){ti.call(this,Nu.STAT_EVENT,n),this.stat=e}function Di(n){const e=yd();ni(e,new vv(e,n))}function pI(n,e){ti.call(this,Nu.Qa,n),this.size=e}function lf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return jt.setTimeout(function(){n()},e)}Nu.Pa="serverreachability",zr(fI,ti),Nu.STAT_EVENT="statevent",zr(vv,ti),Nu.Qa="timingevent",zr(pI,ti);var _d={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},gI={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function _g(){}function yI(){}_g.prototype.h=null;var Iv,cf={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function _v(){ti.call(this,"d")}function wv(){ti.call(this,"c")}function wg(){}function df(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new uf(this),this.O=vI,this.T=new vg(n=hg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new bv}function bv(){this.i=null,this.g="",this.h=!1}zr(_v,ti),zr(wv,ti),zr(wg,_g),wg.prototype.g=function(){return new XMLHttpRequest},wg.prototype.i=function(){return{}},Iv=new wg;var vI=45e3,Ev={},Ig={};function bg(n,e,t){n.K=1,n.v=pf(Bo(e)),n.s=t,n.P=!0,_I(n,null)}function _I(n,e){n.F=Date.now(),Yl(n),n.A=Bo(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),DI(t.i,"t",r),n.C=0,t=n.l.H,n.h=new bv,n.g=Fv(n.l,t?e:null,!n.s),0<n.N&&(n.L=new uM(fi(n.La,n,n.g),n.N)),uI(n.S,n.g,"readystatechange",n.ib),e=n.H?tI(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),vd(),function sD(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var d="",m=u.split("&"),_=0;_<m.length;_++){var C=m[_].split("=");if(1<C.length){var T=C[0];C=C[1];var N=T.split("_");d=2<=N.length&&"type"==N[1]?d+(T+"=")+C+"&":d+(T+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function wI(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function II(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=Cv(n,t),o==Ig){4==e&&(n.o=4,Di(14),r=!1),md(n.j,n.m,null,"[Incomplete Response]");break}if(o==Ev){n.o=4,Di(15),md(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}md(n.j,n.m,o,null),ff(n,o)}wI(n)&&o!=Ig&&o!=Ev&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Di(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Cf(e),e.K=!0,Di(11))):(md(n.j,n.m,t,"[Invalid Chunked Response]"),Ql(n),hf(n))}function Cv(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Ig:(t=Number(e.substring(t,r)),isNaN(t)?Ev:(r+=1)+t>e.length?Ig:(e=e.substr(r,t),n.C=r+t,e))}function Yl(n){n.V=Date.now()+n.O,Dv(n,n.O)}function Dv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=lf(fi(n.gb,n),e)}function wd(n){n.B&&(jt.clearTimeout(n.B),n.B=null)}function hf(n){0==n.l.G||n.I||FI(n.l,n)}function Ql(n){wd(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,gv(n.T),lI(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function ff(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||xv(t.h,n)))if(!n.J&&xv(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Rg(t),Tg(t)}Og(t),Di(18)}}else t.Ba=o[1],0<t.Ba-t.T&&37500>o[2]&&t.L&&0==t.A&&!t.v&&(t.v=lf(fi(t.cb,t),6e3));if(1>=TI(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else ec(t,11)}else if((n.J||t.g==n)&&Rg(t),!tf(e))for(o=t.Fa.g.parse(e),e=0;e<o.length;e++){let C=o[e];if(t.T=C[0],C=C[1],2==t.G)if("c"==C[0]){t.I=C[1],t.ka=C[2];const T=C[3];null!=T&&(t.ma=T,t.j.info("VER="+t.ma));const N=C[4];null!=N&&(t.Ca=N,t.j.info("SVER="+t.Ca));const G=C[5];null!=G&&"number"==typeof G&&0<G&&(t.J=r=1.5*G,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const ee=n.g;if(ee){const me=ee.g?ee.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(me){var u=r.h;u.g||-1==me.indexOf("spdy")&&-1==me.indexOf("quic")&&-1==me.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Ov(u,u.h),u.h=null))}if(r.D){const Fe=ee.g?ee.g.getResponseHeader("X-HTTP-Session-Id"):null;Fe&&(r.za=Fe,jn(r.F,r.D,Fe))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=Ng(r,r.H?r.ka:null,r.V),d.J){SI(r.h,d);var m=d,_=r.J;_&&m.setTimeout(_),m.B&&(wd(m),Yl(m)),r.g=d}else xg(r);0<t.i.length&&Ef(t)}else"stop"!=C[0]&&"close"!=C[0]||ec(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?ec(t,7):Sd(t):"noop"!=C[0]&&t.l&&t.l.wa(C),t.A=0)}vd()}catch{}}function Xl(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(ug(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function bI(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ug(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function aD(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ug(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}(pt=df.prototype).setTimeout=function(n){this.O=n},pt.ib=function(n){n=n.target;const e=this.L;e&&3==io(n)?e.l():this.La(n)},pt.La=function(n){try{if(n==this.g)e:{const T=io(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>T)&&(3!=T||hg||this.g&&(this.h.h||this.g.fa()||Td(this.g)))){this.I||4!=T||7==e||vd(),wd(this);var t=this.g.aa();this.Y=t;t:if(wI(this)){var r=Td(this.g);n="";var o=r.length,u=4==io(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ql(this),hf(this);var d="";break t}this.h.i=new jt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function cI(n,e,t,r,o,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.U,T,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var m,_=this.g;if((m=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tf(m)){var C=m;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,Di(12),Ql(this),hf(this);break e}md(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ff(this,t)}this.P?(II(this,T,d),hg&&this.i&&3==T&&(uI(this.S,this.T,"tick",this.hb),this.T.start())):(md(this.j,this.m,d,null),ff(this,d)),4==T&&Ql(this),this.i&&!this.I&&(4==T?FI(this.l,this):(this.i=!1,Yl(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Di(12)):(this.o=0,Di(13)),Ql(this),hf(this)}}}catch{}},pt.hb=function(){if(this.g){var n=io(this.g),e=this.g.fa();this.C<e.length&&(wd(this),II(this,n,e),this.i&&4!=n&&Yl(this))}},pt.cancel=function(){this.I=!0,Ql(this)},pt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function dI(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(vd(),Di(17)),Ql(this),this.o=2,hf(this)):Dv(this,this.V-n)};var Av=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Id(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Id){this.h=void 0!==e?e:n.h,bd(this,n.j),this.s=n.s,this.g=n.g,Eg(this,n.m),this.l=n.l,e=n.i;var t=new gf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Cg(this,t),this.o=n.o}else n&&(t=String(n).match(Av))?(this.h=!!e,bd(this,t[1]||"",!0),this.s=Jl(t[2]||""),this.g=Jl(t[3]||"",!0),Eg(this,t[4]),this.l=Jl(t[5]||"",!0),Cg(this,t[6]||"",!0),this.o=Jl(t[7]||"")):(this.h=!!e,this.i=new gf(null,this.h))}function Bo(n){return new Id(n)}function bd(n,e,t){n.j=t?Jl(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Eg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Cg(n,e,t){e instanceof gf?(n.i=e,function lM(n,e){e&&!n.j&&(Va(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(hD(this,r),DI(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Ed(e,cD)),n.i=new gf(e,n.h))}function jn(n,e,t){n.i.set(e,t)}function pf(n){return jn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Jl(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ed(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,EI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function EI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Id.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ed(e,Tv,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ed(e,Tv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ed(t,"/"==t.charAt(0)?lD:CI,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ed(t,dD)),n.join("")};var Tv=/[#\/\?@]/g,CI=/[#\?:]/g,lD=/[#\?]/g,cD=/[#\?@]/g,dD=/#/g;function gf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Va(n){n.g||(n.g=new Map,n.h=0,n.i&&function uD(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function hD(n,e){Va(n),e=Cd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Sv(n,e){return Va(n),e=Cd(n,e),n.g.has(e)}function DI(n,e,t){hD(n,e),0<t.length&&(n.i=null,n.g.set(Cd(n,e),cg(t)),n.h+=t.length)}function Cd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function AI(n){this.l=n||pD,n=jt.PerformanceNavigationTiming?0<(n=jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(jt.g&&jt.g.Ga&&jt.g.Ga()&&jt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pt=gf.prototype).add=function(n,e){Va(this),this.i=null,n=Cd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},pt.forEach=function(n,e){Va(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},pt.oa=function(){Va(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let u=0;u<o.length;u++)t.push(e[r])}return t},pt.W=function(n){Va(this);let e=[];if("string"==typeof n)Sv(this,n)&&(e=e.concat(this.g.get(Cd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},pt.set=function(n,e){return Va(this),this.i=null,Sv(this,n=Cd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},pt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var o=u;""!==d[r]&&(o+="="+encodeURIComponent(String(d[r]))),n.push(o)}}return this.i=n.join("&")};var pD=10;function Mv(n){return!!n.h||!!n.g&&n.g.size>=n.j}function TI(n){return n.h?1:n.g?n.g.size:0}function xv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Ov(n,e){n.g?n.g.add(e):n.h=e}function SI(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function MI(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return cg(n.i)}function Pv(){}function gD(){this.g=new Pv}function mD(n,e,t){const r=t||"";try{Xl(n,function(o,u){let d=o;ef(o)&&(d=dv(o)),e.push(r+u+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function yf(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function Dd(n){this.l=n.ac||null,this.j=n.jb||!1}function vf(n,e){Pr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Dg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}AI.prototype.cancel=function(){if(this.i=MI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Pv.prototype.stringify=function(n){return jt.JSON.stringify(n,void 0)},Pv.prototype.parse=function(n){return jt.JSON.parse(n,void 0)},zr(Dd,_g),Dd.prototype.g=function(){return new vf(this.l,this.j)},Dd.prototype.i=function(n){return function(){return n}}({}),zr(vf,Pr);var Dg=0;function Rv(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function _f(n){n.readyState=4,n.l=null,n.j=null,n.A=null,wf(n)}function wf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(pt=vf.prototype).open=function(n,e){if(this.readyState!=Dg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,wf(this)},pt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||jt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_f(this)),this.readyState=Dg},pt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,wf(this)),this.g&&(this.readyState=3,wf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof jt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Rv(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},pt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?_f(this):wf(this),3==this.readyState&&Rv(this)}},pt.Va=function(n){this.g&&(this.response=this.responseText=n,_f(this))},pt.Ua=function(n){this.g&&(this.response=n,_f(this))},pt.ga=function(){this.g&&_f(this)},pt.setRequestHeader=function(n,e){this.v.append(n,e)},pt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},pt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(vf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var cM=jt.JSON.parse;function Jn(n){Pr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xI,this.K=this.L=!1}zr(Jn,Pr);var xI="",yD=/^https?$/i,vD=["POST","PUT"];function Ad(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,OI(n),cs(n)}function OI(n){n.D||(n.D=!0,ni(n,"complete"),ni(n,"error"))}function Ag(n){if(n.h&&typeof Yy<"u"&&(!n.C[1]||4!=io(n)||2!=n.aa()))if(n.v&&4==io(n))mv(n.Ha,0,n);else if(ni(n,"readystatechange"),4==io(n)){n.h=!1;try{const m=n.aa();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(Av)[1]||null;if(!o&&jt.self&&jt.self.location){var u=jt.self.location.protocol;o=u.substr(0,u.length-1)}r=!yD.test(o?o.toLowerCase():"")}t=r}if(t)ni(n,"complete"),ni(n,"success");else{n.m=6;try{var d=2<io(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",OI(n)}}finally{cs(n)}}}function cs(n,e){if(n.g){PI(n);const t=n.g,r=n.C[0]?ag:null;n.g=null,n.C=null,e||ni(n,"ready");try{t.onreadystatechange=r}catch{}}}function PI(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(jt.clearTimeout(n.A),n.A=null)}function io(n){return n.g?n.g.readyState:0}function Td(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case xI:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function RI(n){let e="";return gg(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Nv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=RI(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):jn(n,e,t))}function If(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function bf(n){this.Ca=0,this.i=[],this.j=new Ru,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=If("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=If("baseRetryDelayMs",5e3,n),this.bb=If("retryDelaySeedMs",1e4,n),this.$a=If("forwardChannelMaxRetries",2,n),this.ta=If("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new AI(n&&n.concurrentRequestLimit),this.Fa=new gD,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Sd(n){if(NI(n),3==n.G){var e=n.U++,t=Bo(n.F);jn(t,"SID",n.I),jn(t,"RID",e),jn(t,"TYPE","terminate"),Md(n,t),(e=new df(n,n.j,e,void 0)).K=2,e.v=pf(Bo(t)),t=!1,jt.navigator&&jt.navigator.sendBeacon&&(t=jt.navigator.sendBeacon(e.v.toString(),"")),!t&&jt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Fv(e.l,null),e.g.da(e.v)),e.F=Date.now(),Yl(e)}kv(n)}function Tg(n){n.g&&(Cf(n),n.g.cancel(),n.g=null)}function NI(n){Tg(n),n.u&&(jt.clearTimeout(n.u),n.u=null),Rg(n),n.h.cancel(),n.m&&("number"==typeof n.m&&jt.clearTimeout(n.m),n.m=null)}function Ef(n){Mv(n.h)||n.m||(n.m=!0,hv(n.Ja,n),n.C=0)}function Sg(n,e){var t;t=e?e.m:n.U++;const r=Bo(n.F);jn(r,"SID",n.I),jn(r,"RID",t),jn(r,"AID",n.T),Md(n,r),n.o&&n.s&&Nv(r,n.o,n.s),t=new df(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Mg(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Ov(n.h,t),bg(t,r,e)}function Md(n,e){n.ia&&gg(n.ia,function(t,r){jn(e,r,t)}),n.l&&Xl({},function(t,r){jn(e,r,t)})}function Mg(n,e,t){t=Math.min(n.i.length,t);var r=n.l?fi(n.l.Ra,n.l,n):null;e:{var o=n.i;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=o[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let m=!0;for(let _=0;_<t;_++){let C=o[_].h;const T=o[_].g;if(C-=u,0>C)u=Math.max(0,o[_].h-100),m=!1;else try{mD(T,d,"req"+C+"_")}catch{r&&r(T)}}if(m){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function xg(n){n.g||n.u||(n.Z=1,hv(n.Ia,n),n.A=0)}function Og(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=lf(fi(n.Ia,n),LI(n,n.A)),n.A++,0))}function Cf(n){null!=n.B&&(jt.clearTimeout(n.B),n.B=null)}function Pg(n){n.g=new df(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Bo(n.sa);jn(e,"RID","rpc"),jn(e,"SID",n.I),jn(e,"CI",n.L?"0":"1"),jn(e,"AID",n.T),jn(e,"TYPE","xmlhttp"),Md(n,e),n.o&&n.s&&Nv(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=pf(Bo(e)),t.s=null,t.P=!0,_I(t,n)}function Rg(n){null!=n.v&&(jt.clearTimeout(n.v),n.v=null)}function FI(n,e){var t=null;if(n.g==e){Rg(n),Cf(n),n.g=null;var r=2}else{if(!xv(n.h,e))return;t=e.D,SI(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;ni(r=yd(),new pI(r,t)),Ef(n)}else xg(n);else if(3==(o=e.o)||0==o&&0<n.pa||!(1==r&&function kI(n,e){return!(TI(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=lf(fi(n.Ja,n,e),LI(n,n.C)),n.C++,0)))}(n,e)||2==r&&Og(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),o){case 1:ec(n,5);break;case 4:ec(n,10);break;case 3:ec(n,6);break;default:ec(n,2)}}function LI(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function ec(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=fi(n.kb,n);t||(t=new Id("//www.google.com/images/cleardot.gif"),jt.location&&"http"==jt.location.protocol||bd(t,"https"),pf(t)),function mf(n,e){const t=new Ru;if(jt.Image){const r=new Image;r.onload=lg(yf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=lg(yf,t,r,"TestLoadImage: error",!1,e),r.onabort=lg(yf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=lg(yf,t,r,"TestLoadImage: timeout",!1,e),jt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Di(2);n.G=0,n.l&&n.l.va(e),kv(n),NI(n)}function kv(n){if(n.G=0,n.la=[],n.l){const e=MI(n.h);(0!=e.length||0!=n.i.length)&&(Jy(n.la,e),Jy(n.la,n.i),n.h.i.length=0,cg(n.i),n.i.length=0),n.l.ua()}}function Ng(n,e,t){var r=t instanceof Id?Bo(t):new Id(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Eg(r,r.m);else{var o=jt.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var u=new Id(null,void 0);r&&bd(u,r),e&&(u.g=e),o&&Eg(u,o),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&jn(r,t,e),jn(r,"VER",n.ma),Md(n,r),r}function Fv(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Jn(t&&n.Da&&!n.ra?new Dd({jb:!0}):n.ra)).Ka(n.H),e}function VI(){}function Df(){if(xu&&!(10<=Number(iM)))throw Error("Environmental error: no available transport.")}function $i(n,e){Pr.call(this),this.g=new bf(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!tf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tf(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new tc(this)}function UI(n){_v.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Lv(){wv.call(this),this.status=1}function tc(n){this.g=n}(pt=Jn.prototype).Ka=function(n){this.L=n},pt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Iv.g(),this.C=function mI(n){return n.h||(n.h=n.i())}(this.u?this.u:Iv),this.g.onreadystatechange=fi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void Ad(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),o=jt.FormData&&n instanceof jt.FormData,!(0<=Xy(vD,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,d]of t)this.g.setRequestHeader(u,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{PI(this),0<this.B&&((this.K=function _D(n){return xu&&function pg(){return function cd(n){var e=eD;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=ev(String(fg)).split("."),t=ev("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var o=e[d]||"",u=t[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=dg(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||dg(0==o[2].length,0==u[2].length)||dg(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fi(this.qa,this)):this.A=mv(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){Ad(this,u)}},pt.qa=function(){typeof Yy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ni(this,"timeout"),this.abort(8))},pt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ni(this,"complete"),ni(this,"abort"),cs(this))},pt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cs(this,!0)),Jn.X.M.call(this)},pt.Ha=function(){this.s||(this.F||this.v||this.l?Ag(this):this.fb())},pt.fb=function(){Ag(this)},pt.aa=function(){try{return 2<io(this)?this.g.status:-1}catch{return-1}},pt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},pt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),cM(e)}},pt.Ea=function(){return this.m},pt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(pt=bf.prototype).ma=8,pt.G=1,pt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const o=new df(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=tI(u),rI(u,this.S)):u=this.S),null!==this.o||this.N||(o.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Mg(this,o,e),jn(t=Bo(this.F),"RID",n),jn(t,"CVER",22),this.D&&jn(t,"X-HTTP-Session-Id",this.D),Md(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(RI(u)))+"&"+e:this.o&&Nv(t,this.o,u)),Ov(this.h,o),this.Ya&&jn(t,"TYPE","init"),this.O?(jn(t,"$req",e),jn(t,"SID","null"),o.Z=!0,bg(o,t,null)):bg(o,t,e),this.G=2}}else 3==this.G&&(n?Sg(this,n):0==this.i.length||Mv(this.h)||Sg(this))},pt.Ia=function(){if(this.u=null,Pg(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=lf(fi(this.eb,this),n)}},pt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Di(10),Tg(this),Pg(this))},pt.cb=function(){null!=this.v&&(this.v=null,Tg(this),Og(this),Di(19))},pt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Di(2)):(this.j.info("Failed to ping google.com"),Di(1))},(pt=VI.prototype).xa=function(){},pt.wa=function(){},pt.va=function(){},pt.ua=function(){},pt.Ra=function(){},Df.prototype.g=function(n,e){return new $i(n,e)},zr($i,Pr),$i.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Di(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Ng(n,null,n.V),Ef(n)},$i.prototype.close=function(){Sd(this.g)},$i.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=dv(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Ef(e)},$i.prototype.M=function(){this.g.l=null,delete this.j,Sd(this.g),delete this.g,$i.X.M.call(this)},zr(UI,_v),zr(Lv,wv),zr(tc,VI),tc.prototype.xa=function(){ni(this.g,"a")},tc.prototype.wa=function(n){ni(this.g,new UI(n))},tc.prototype.va=function(n){ni(this.g,new Lv)},tc.prototype.ua=function(){ni(this.g,"b")},Df.prototype.createWebChannel=Df.prototype.g,$i.prototype.send=$i.prototype.u,$i.prototype.open=$i.prototype.m,$i.prototype.close=$i.prototype.close,_d.NO_ERROR=0,_d.TIMEOUT=8,_d.HTTP_ERROR=6,gI.COMPLETE="complete",yI.EventType=cf,cf.OPEN="a",cf.CLOSE="b",cf.ERROR="c",cf.MESSAGE="d",Pr.prototype.listen=Pr.prototype.N,Jn.prototype.listenOnce=Jn.prototype.O,Jn.prototype.getLastError=Jn.prototype.Oa,Jn.prototype.getLastErrorCode=Jn.prototype.Ea,Jn.prototype.getStatus=Jn.prototype.aa,Jn.prototype.getResponseJson=Jn.prototype.Sa,Jn.prototype.getResponseText=Jn.prototype.fa,Jn.prototype.send=Jn.prototype.da,Jn.prototype.setWithCredentials=Jn.prototype.Ka;var wD=Fa.createWebChannelTransport=function(){return new Df},BI=Fa.getStatEventTarget=function(){return yd()},Vv=Fa.ErrorCode=_d,Ai=Fa.EventType=gI,xd=Fa.Event=Nu,jI=Fa.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ID=Fa.FetchXmlHttpFactory=Dd,Uv=Fa.WebChannel=yI,dM=Fa.XhrIo=Jn;const Bv="@firebase/firestore";class wr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wr.UNAUTHENTICATED=new wr(null),wr.GOOGLE_CREDENTIALS=new wr("google-credentials-uid"),wr.FIRST_PARTY=new wr("first-party-uid"),wr.MOCK_USER=new wr("mock-user");let jo="9.19.0";const ku=new Mu.Yd("@firebase/firestore");function Af(){return ku.logLevel}function Ne(n,...e){if(ku.logLevel<=Mu.in.DEBUG){const t=e.map(jv);ku.debug(`Firestore (${jo}): ${n}`,...t)}}function ur(n,...e){if(ku.logLevel<=Mu.in.ERROR){const t=e.map(jv);ku.error(`Firestore (${jo}): ${n}`,...t)}}function $o(n,...e){if(ku.logLevel<=Mu.in.WARN){const t=e.map(jv);ku.warn(`Firestore (${jo}): ${n}`,...t)}}function jv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function at(n="Unexpected state"){const e=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: `+n;throw ur(e),new Error(e)}function gt(n,e){n||at()}function Ze(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends dn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ir{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class HI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wr.UNAUTHENTICATED))}shutdown(){}}class Od{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ED{constructor(e){this.t=e,this.currentUser=wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=C=>this.i!==o?(o=this.i,t(C)):Promise.resolve();let d=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Ir,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const C=d;e.enqueueRetryable((0,ye.Z)(function*(){yield C.promise,yield u(r.currentUser)}))},_=C=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(C=>_(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?_(C):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Ir)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt("string"==typeof r.accessToken),new HI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return gt(null===e||"string"==typeof e),new wr(e)}}class GI{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=wr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class $v{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new GI(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DD{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.T;return this.T=u.token,Ne("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?o(u):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(gt("string"==typeof t.token),this.T=t.token,new CD(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function AD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class ZI{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=AD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function $t(n,e){return n<e?-1:n>e?1:0}function nc(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function Hv(n){return n+"\0"}class $n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $n.fromMillis(Date.now())}static fromDate(e){return $n.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new $n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$t(this.nanoseconds,e.nanoseconds):$t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _t(e)}static min(){return new _t(new $n(0,0))}static max(){return new _t(new $n(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Pd{constructor(e,t,r){void 0===t?t=0:t>e.length&&at(),void 0===r?r=e.length-t:r>e.length-t&&at(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Pd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pd?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),d=t.get(o);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class un extends Pd{construct(e,t,r){return new un(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new un(t)}static emptyPath(){return new un([])}}const TD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wn extends Pd{construct(e,t,r){return new Wn(e,t,r)}static isValidIdentifier(e){return TD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wn(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Me(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Me(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Me(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else"`"===m?(d=!d,o++):"."!==m||d?(r+=m,o++):(u(),o++)}if(u(),d)throw new Me(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wn(t)}static emptyPath(){return new Wn([])}}class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(un.fromString(e))}static fromName(e){return new Ke(un.fromString(e).popFirst(5))}static empty(){return new Ke(un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new un(e.slice()))}}class Tf{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function kg(n){return n.fields.find(e=>2===e.kind)}function Fu(n){return n.fields.filter(e=>2!==e.kind)}Tf.UNKNOWN_ID=-1;class Fg{constructor(e,t){this.fieldPath=e,this.kind=t}}class Lg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Lg(0,Ps.min())}}function zv(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(1e9===r?new $n(t+1,0):new $n(t,r));return new Ps(o,Ke.empty(),e)}function MD(n){return new Ps(n.readTime,n.key,-1)}class Ps{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ps(_t.min(),Ke.empty(),-1)}static max(){return new Ps(_t.max(),Ke.empty(),-1)}}function WI(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ke.comparator(n.documentKey,e.documentKey),0!==t?t:$t(n.largestBatchId,e.largestBatchId))}const xD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function rc(n){return KI.apply(this,arguments)}function KI(){return KI=(0,ye.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==xD)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}),KI.apply(this,arguments)}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,r)=>{t(e)})}static reject(e){return new ue((t,r)=>{r(e)})}static waitFor(e){return new ue((t,r)=>{let o=0,u=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++u,d&&u===o&&t()},_=>r(_))}),d=!0,u===o&&t()})}static or(e){let t=ue.resolve(!1);for(const r of e)t=t.next(o=>o?ue.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new ue((r,o)=>{const u=e.length,d=new Array(u);let m=0;for(let _=0;_<u;_++){const C=_;t(e[C]).next(T=>{d[C]=T,++m,m===u&&r(d)},T=>o(T))}})}static doWhile(e,t){return new ue((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}class ic{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new Ir,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new Lu(e,t.error)):this.R.resolve()},this.transaction.onerror=r=>{const o=Ug(r.target.error);this.R.reject(new Lu(e,o))}}static open(e,t,r,o){try{return new ic(t,e.transaction(o,r))}catch(u){throw new Lu(t,u)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(Ne("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new QI(t)}}class Ho{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Ho.S((0,dn.z$)())&&ur("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ne("SimpleDb","Removing database:",e),Rd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,dn.hl)())return!1;if(Ho.C())return!0;const e=(0,dn.z$)(),t=Ho.S(e),r=0<t&&t<10,o=Ho.N(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static O(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Ne("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{o(new Lu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const m=d.target.error;o("VersionError"===m.name?new Me(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Me(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Lu(e,m))},u.onupgradeneeded=d=>{Ne("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.V.M(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{Ne("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,ye.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.$(e);const _=ic.open(u.db,e,d?"readonly":"readwrite",r),C=o(_).next(T=>(_.P(),T)).catch(T=>(_.abort(T),ue.reject(T))).toPromise();return C.catch(()=>{}),yield _.v,C}catch(_){const C=_,T="FirebaseError"!==C.name&&m<3;if(Ne("SimpleDb","Transaction failed with error:",C.message,"Retrying:",T),u.close(),!T)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class YI{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Rd(this.L.delete())}}class Lu extends Me{constructor(e,t){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ua(n){return"IndexedDbTransactionError"===n.name}class QI{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ne("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ne("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Rd(r)}add(e){return Ne("SimpleDb","ADD",this.store.name,e,e),Rd(this.store.add(e))}get(e){return Rd(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ne("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ne("SimpleDb","DELETE",this.store.name,e),Rd(this.store.delete(e))}count(){return Ne("SimpleDb","COUNT",this.store.name),Rd(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.W(o,(d,m)=>{u.push(m)}).next(()=>u)}{const o=this.store.getAll(r.range);return new ue((u,d)=>{o.onerror=m=>{d(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ue((o,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}J(e,t){Ne("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const o=this.cursor(r);return this.W(o,(u,d,m)=>m.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.W(o,t)}X(e){const t=this.cursor({});return new ue((r,o)=>{t.onerror=u=>{const d=Ug(u.target.error);o(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}W(e,t){const r=[];return new ue((o,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void o();const _=new YI(m),C=t(m.primaryKey,m.value,_);if(C instanceof ue){const T=C.catch(N=>(_.done(),ue.reject(N)));r.push(T)}_.isDone?o():null===_.K?m.continue():m.continue(_.K)}}).next(()=>ue.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Rd(n){return new ue((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=Ug(r.target.error);t(o)}})}let Vg=!1;function Ug(n){const e=Ho.S((0,dn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Vg||(Vg=!0,setTimeout(()=>{throw r},0)),r}}return n}class PD{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ne("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ye.Z)(function*(){t.task=null;try{Ne("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Ua(r)?Ne("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield rc(r)}yield t.et(6e4)}))}}class hM{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ye.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let o=t,u=!0;return ue.doWhile(()=>!0===u&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Ne("IndexBackiller",`Processing collection: ${d}`),this.it(e,d,o).next(m=>{o-=m,r.add(d)});u=!1})).next(()=>t-o)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.rt(o,u)).next(m=>(Ne("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>d.size)}))}rt(e,t){let r=e;return t.changes.forEach((o,u)=>{const d=MD(u);WI(d,r)>0&&(r=d)}),new Ps(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Rs=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Sf(n){return null==n}function Mf(n){return 0===n&&1/n==-1/0}function xf(n){return"number"==typeof n&&Number.isInteger(n)&&!Mf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ti(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=RD(e)),e=fM(n.get(t),e);return RD(e)}function fM(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function RD(n){return n+"\x01\x01"}function Ba(n){const e=n.length;if(gt(e>=2),2===e)return gt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),un.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&at(),n.charAt(d+1)){case"\x01":const m=n.substring(u,d);let _;0===o.length?_=m:(o+=m,_=o,o=""),r.push(_);break;case"\x10":o+=n.substring(u,d),o+="\0";break;case"\x11":o+=n.substring(u,d+1);break;default:at()}u=d+2}return new un(r)}const XI=["userId","batchId"];function Bg(n,e){return[n,Ti(e)]}function JI(n,e,t){return[n,Ti(e),t]}const pM={},ND=["prefixPath","collectionGroup","readTime","documentId"],eb=["prefixPath","collectionGroup","documentId"],tb=["collectionGroup","readTime","prefixPath","documentId"],gM=["canonicalId","targetId"],so=["targetId","path"],kD=["path","targetId"],Gv=["collectionId","parent"],FD=["indexId","uid"],mM=["uid","sequenceNumber"],Ns=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],LD=["indexId","uid","orderedDocumentKey"],Zv=["userId","collectionPath","documentId"],VD=["userId","collectionPath","largestBatchId"],UD=["userId","collectionGroup","largestBatchId"],jg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],nb=[...jg,"documentOverlays"],qv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rb=qv,ib=[...rb,"indexConfiguration","indexState","indexEntries"];class $g extends OD{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function Gr(n,e){const t=Ze(n);return Ho.O(t.at,e)}function Wv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function sc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Hg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class vn{constructor(e,t){this.comparator=e,this.root=t||Zr.EMPTY}insert(e,t){return new vn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zr.BLACK,null,null))}remove(e){return new vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oo(this.root,e,this.comparator,!1)}getReverseIterator(){return new oo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oo(this.root,e,this.comparator,!0)}}class oo{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zr{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??Zr.RED,this.left=o??Zr.EMPTY,this.right=u??Zr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Zr(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Zr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const e=this.left.check();if(e!==this.right.check())throw at();return e+(this.isRed()?0:1)}}Zr.EMPTY=null,Zr.RED=!0,Zr.BLACK=!1,Zr.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Zr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _n{constructor(e){this.comparator=e,this.data=new vn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Kv(this.data.getIterator())}getIteratorFrom(e){return new Kv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof _n)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _n(this.comparator);return t.data=e,t}}class Kv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Nd(n){return n.hasNext()?n.getNext():void 0}class ds{constructor(e){this.fields=e,e.sort(Wn.comparator)}static empty(){return new ds([])}unionWith(e){let t=new _n(Wn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ds(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class BD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Rr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new BD("Invalid base64 string: "+o):o}}(e);return new Rr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new Rr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rr.EMPTY_BYTE_STRING=new Rr("");const $D=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ja(n){if(gt(!!n),"string"==typeof n){let e=0;const t=$D.exec(n);if(gt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lr(n.seconds),nanos:lr(n.nanos)}}function lr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Vu(n){return"string"==typeof n?Rr.fromBase64String(n):Rr.fromUint8Array(n)}function Yv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Qv(n){const e=n.mapValue.fields.__previous_value__;return Yv(e)?Qv(e):e}function zg(n){const e=ja(n.mapValue.fields.__local_write_time__.timestampValue);return new $n(e.seconds,e.nanos)}class Xv{constructor(e,t,r,o,u,d,m,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=_}}class $a{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $a("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $a&&e.projectId===this.projectId&&e.database===this.database}}const Ha={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Of={nullValue:"NULL_VALUE"};function Uu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Yv(n)?4:HD(n)?9007199254740991:10:at()}function ao(n,e){if(n===e)return!0;const t=Uu(n);if(t!==Uu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zg(n).isEqual(zg(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=ja(r.timestampValue),d=ja(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Vu(n.bytesValue).isEqual(Vu(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return lr(r.geoPointValue.latitude)===lr(o.geoPointValue.latitude)&&lr(r.geoPointValue.longitude)===lr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return lr(r.integerValue)===lr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=lr(r.doubleValue),d=lr(o.doubleValue);return u===d?Mf(u)===Mf(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return nc(n.arrayValue.values||[],e.arrayValue.values||[],ao);case 10:return function(r,o){const u=r.mapValue.fields||{},d=o.mapValue.fields||{};if(Wv(u)!==Wv(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===d[m]||!ao(u[m],d[m])))return!1;return!0}(n,e);default:return at()}var o}function Bu(n,e){return void 0!==(n.values||[]).find(t=>ao(t,e))}function uo(n,e){if(n===e)return 0;const t=Uu(n),r=Uu(e);if(t!==r)return $t(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return $t(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=lr(o.integerValue||o.doubleValue),m=lr(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return Jv(n.timestampValue,e.timestampValue);case 4:return Jv(zg(n),zg(e));case 5:return $t(n.stringValue,e.stringValue);case 6:return function(o,u){const d=Vu(o),m=Vu(u);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),m=u.split("/");for(let _=0;_<d.length&&_<m.length;_++){const C=$t(d[_],m[_]);if(0!==C)return C}return $t(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=$t(lr(o.latitude),lr(u.latitude));return 0!==d?d:$t(lr(o.longitude),lr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const d=o.values||[],m=u.values||[];for(let _=0;_<d.length&&_<m.length;++_){const C=uo(d[_],m[_]);if(C)return C}return $t(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===Ha.mapValue&&u===Ha.mapValue)return 0;if(o===Ha.mapValue)return 1;if(u===Ha.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),_=u.fields||{},C=Object.keys(_);m.sort(),C.sort();for(let T=0;T<m.length&&T<C.length;++T){const N=$t(m[T],C[T]);if(0!==N)return N;const G=uo(d[m[T]],_[C[T]]);if(0!==G)return G}return $t(m.length,C.length)}(n.mapValue,e.mapValue);default:throw at()}}function Jv(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return $t(n,e);const t=ja(n),r=ja(e),o=$t(t.seconds,r.seconds);return 0!==o?o:$t(t.nanos,r.nanos)}function kd(n){return e_(n)}function e_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=ja(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Vu(n.bytesValue).toBase64():"referenceValue"in n?Ke.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const d of r.values||[])u?u=!1:o+=",",o+=e_(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const m of o)d?d=!1:u+=",",u+=`${m}:${e_(r.fields[m])}`;return u+"}"}(n.mapValue):at();var e}function Fd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function sb(n){return!!n&&"integerValue"in n}function Gg(n){return!!n&&"arrayValue"in n}function t_(n){return!!n&&"nullValue"in n}function ob(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zg(n){return!!n&&"mapValue"in n}function Pf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return sc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Pf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function HD(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function yM(n){return"nullValue"in n?Of:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Fd($a.empty(),Ke.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:at()}function vM(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Fd($a.empty(),Ke.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ha:at()}function zD(n,e){const t=uo(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function GD(n,e){const t=uo(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class qr{constructor(e){this.value=e}static empty(){return new qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Zg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pf(t)}setAll(e){let t=Wn.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const _=this.getFieldsMap(t);this.applyChanges(_,r,o),r={},o=[],t=m.popLast()}d?r[m.lastSegment()]=Pf(d):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());Zg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ao(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Zg(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){sc(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new qr(Pf(this.value))}}function Rf(n){const e=[];return sc(n.fields,(t,r)=>{const o=new Wn([t]);if(Zg(r)){const u=Rf(r.mapValue).fields;if(0===u.length)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new ds(e)}class Rn{constructor(e,t,r,o,u,d,m){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Rn(e,0,_t.min(),_t.min(),_t.min(),qr.empty(),0)}static newFoundDocument(e,t,r,o){return new Rn(e,1,t,_t.min(),r,o,0)}static newNoDocument(e,t){return new Rn(e,2,t,_t.min(),_t.min(),qr.empty(),0)}static newUnknownDocument(e,t){return new Rn(e,3,t,_t.min(),_t.min(),qr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_t.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ju{constructor(e,t){this.position=e,this.inclusive=t}}function n_(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],d=n.position[o];if(r=u.field.isKeyField()?Ke.comparator(Ke.fromName(d.referenceValue),t.key):uo(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function $u(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ao(n.position[t],e.position[t]))return!1;return!0}class oc{constructor(e,t="asc"){this.field=e,this.dir=t}}function r_(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class qg{}class rn extends qg{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new WD(e,t,r):"array-contains"===t?new cb(e,r):"in"===t?new o_(e,r):"not-in"===t?new QD(e,r):"array-contains-any"===t?new XD(e,r):new rn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new KD(e,r):new YD(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(uo(t,this.value)):null!==t&&Uu(this.value)===Uu(t)&&this.matchesComparison(uo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return at()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class yn extends qg{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new yn(e,t)}matches(e){return Hu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Hu(n){return"and"===n.op}function Ld(n){return"or"===n.op}function ab(n){return ZD(n)&&Hu(n)}function ZD(n){for(const e of n.filters)if(e instanceof yn)return!1;return!0}function ub(n){if(n instanceof rn)return n.field.canonicalString()+n.op.toString()+kd(n.value);if(ab(n))return n.filters.map(e=>ub(e)).join(",");{const e=n.filters.map(t=>ub(t)).join(",");return`${n.op}(${e})`}}function qD(n,e){return n instanceof rn?(t=n,(r=e)instanceof rn&&t.op===r.op&&t.field.isEqual(r.field)&&ao(t.value,r.value)):n instanceof yn?function(t,r){return r instanceof yn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((o,u,d)=>o&&qD(u,r.filters[d]),!0)}(n,e):void at();var t,r}function i_(n,e){const t=n.filters.concat(e);return yn.create(t,n.op)}function lb(n){return n instanceof rn?`${(e=n).field.canonicalString()} ${e.op} ${kd(e.value)}`:n instanceof yn?function(e){return e.op.toString()+" {"+e.getFilters().map(lb).join(" ,")+"}"}(n):"Filter";var e}class WD extends rn{constructor(e,t,r){super(e,t,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const t=Ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class KD extends rn{constructor(e,t){super(e,"in",t),this.keys=s_(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class YD extends rn{constructor(e,t){super(e,"not-in",t),this.keys=s_(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function s_(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ke.fromName(r.referenceValue))}class cb extends rn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gg(t)&&Bu(t.arrayValue,this.value)}}class o_ extends rn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Bu(this.value.arrayValue,t)}}class QD extends rn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Bu(this.value.arrayValue,t)}}class XD extends rn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Bu(this.value.arrayValue,r))}}class db{constructor(e,t=null,r=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.ft=null}}function Nf(n,e=null,t=[],r=[],o=null,u=null,d=null){return new db(n,e,t,r,o,u,d)}function Vd(n){const e=Ze(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ub(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Sf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>kd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>kd(r)).join(",")),e.ft=t}return e.ft}function Ud(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!r_(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!qD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$u(n.startAt,e.startAt)&&$u(n.endAt,e.endAt)}function Bd(n){return Ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Wg(n,e){return n.filters.filter(t=>t instanceof rn&&t.field.isEqual(e))}function hb(n,e,t){let r=Of,o=!0;for(const u of Wg(n,e)){let d=Of,m=!0;switch(u.op){case"<":case"<=":d=yM(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,m=!1;break;case"!=":case"not-in":d=Of}zD({value:r,inclusive:o},{value:d,inclusive:m})<0&&(r=d,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];zD({value:r,inclusive:o},{value:d,inclusive:t.inclusive})<0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}function JD(n,e,t){let r=Ha,o=!0;for(const u of Wg(n,e)){let d=Ha,m=!0;switch(u.op){case">=":case">":d=vM(u.value),m=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,m=!1;break;case"!=":case"not-in":d=Ha}GD({value:r,inclusive:o},{value:d,inclusive:m})>0&&(r=d,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];GD({value:r,inclusive:o},{value:d,inclusive:t.inclusive})>0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}class zu{constructor(e,t=null,r=[],o=[],u=null,d="F",m=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=_,this.dt=null,this.wt=null}}function fb(n,e,t,r,o,u,d,m){return new zu(n,e,t,r,o,u,d,m)}function jd(n){return new zu(n)}function pb(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function gb(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function a_(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function mb(n){return null!==n.collectionGroup}function $d(n){const e=Ze(n);if(null===e.dt){e.dt=[];const t=a_(e),r=gb(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new oc(t)),e.dt.push(new oc(Wn.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.dt.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new oc(Wn.keyField(),u))}}}return e.dt}function Si(n){const e=Ze(n);if(!e.wt)if("F"===e.limitType)e.wt=Nf(e.path,e.collectionGroup,$d(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of $d(e))t.push(new oc(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new ju(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new ju(e.startAt.position,e.startAt.inclusive):null;e.wt=Nf(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.wt}function yb(n,e){e.getFirstInequalityField(),a_(n);const t=n.filters.concat([e]);return new zu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function u_(n,e,t){return new zu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kg(n,e){return Ud(Si(n),Si(e))&&n.limitType===e.limitType}function eA(n){return`${Vd(Si(n))}|lt:${n.limitType}`}function vb(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>lb(r)).join(", ")}]`),Sf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>kd(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>kd(r)).join(",")),`Target(${t})`}(Si(n))}; limitType=${n.limitType})`}function Yg(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Ke.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of $d(t))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,d){const m=n_(o,u,d);return o.inclusive?m<=0:m<0}(t.startAt,$d(t),r)||t.endAt&&!function(o,u,d){const m=n_(o,u,d);return o.inclusive?m>=0:m>0}(t.endAt,$d(t),r)));var t,r}function i(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function s(n){return(e,t)=>{let r=!1;for(const o of $d(n)){const u=a(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function a(n,e,t){const r=n.field.isKeyField()?Ke.comparator(e.key,t.key):function(o,u,d){const m=u.data.field(o),_=d.data.field(o);return null!==m&&null!==_?uo(m,_):at()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return at()}}class l{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){sc(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return Hg(this.inner)}size(){return this.innerSize}}const h=new vn(Ke.comparator);function f(){return h}const y=new vn(Ke.comparator);function I(...n){let e=y;for(const t of n)e=e.insert(t.key,t);return e}function b(n){let e=y;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function A(){return U()}function x(){return U()}function U(){return new l(n=>n.toString(),(n,e)=>n.isEqual(e))}const Z=new vn(Ke.comparator),X=new _n(Ke.comparator);function J(...n){let e=X;for(const t of n)e=e.add(t);return e}const Be=new _n($t);function qe(){return Be}function lt(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(e)?"-0":e}}function St(n){return{integerValue:""+n}}function Re(n,e){return xf(e)?St(e):lt(n,e)}class Rt{constructor(){this._=void 0}}function Hn(n,e,t){return n instanceof Qg?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof kf?_M(n,e):n instanceof Ff?wM(n,e):function(r,o){const u=tA(r,o),d=IM(u)+IM(r._t);return sb(u)&&sb(r._t)?St(d):lt(r.serializer,d)}(n,e)}function cr(n,e,t){return n instanceof kf?_M(n,e):n instanceof Ff?wM(n,e):t}function tA(n,e){return n instanceof Xg?sb(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Qg extends Rt{}class kf extends Rt{constructor(e){super(),this.elements=e}}function _M(n,e){const t=bM(e);for(const r of n.elements)t.some(o=>ao(o,r))||t.push(r);return{arrayValue:{values:t}}}class Ff extends Rt{constructor(e){super(),this.elements=e}}function wM(n,e){let t=bM(e);for(const r of n.elements)t=t.filter(o=>!ao(o,r));return{arrayValue:{values:t}}}class Xg extends Rt{constructor(e,t){super(),this.serializer=e,this._t=t}}function IM(n){return lr(n.integerValue||n.doubleValue)}function bM(n){return Gg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class l_{constructor(e,t){this.field=e,this.transform=t}}class VO{constructor(e,t){this.version=e,this.transformResults=t}}class er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _b(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class wb{}function EM(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new em(n.key,er.none()):new Jg(n.key,n.data,er.none());{const t=n.data,r=qr.empty();let o=new _n(Wn.comparator);for(let u of e.fields)if(!o.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?r.delete(u):r.set(u,d),o=o.add(u)}return new ac(n.key,r,new ds(o.toArray()),er.none())}}function UO(n,e,t){n instanceof Jg?function(r,o,u){const d=r.value.clone(),m=AM(r.fieldTransforms,o,u.transformResults);d.setAll(m),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof ac?function(r,o,u){if(!_b(r.precondition,o))return void o.convertToUnknownDocument(u.version);const d=AM(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(DM(r)),m.setAll(d),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function c_(n,e,t,r){return n instanceof Jg?function(o,u,d,m){if(!_b(o.precondition,u))return d;const _=o.value.clone(),C=TM(o.fieldTransforms,m,u);return _.setAll(C),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof ac?function(o,u,d,m){if(!_b(o.precondition,u))return d;const _=TM(o.fieldTransforms,m,u),C=u.data;return C.setAll(DM(o)),C.setAll(_),u.convertToFoundDocument(u.version,C).setHasLocalMutations(),null===d?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(T=>T.field))}(n,e,t,r):(d=t,_b(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function BO(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=tA(r.transform,o||null);null!=u&&(null===t&&(t=qr.empty()),t.set(r.field,u))}return t||null}function CM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&nc(t,r,(o,u)=>function LO(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof kf&&r instanceof kf||t instanceof Ff&&r instanceof Ff?nc(t.elements,r.elements,ao):t instanceof Xg&&r instanceof Xg?ao(t._t,r._t):t instanceof Qg&&r instanceof Qg);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Jg extends wb{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ac extends wb{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function DM(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function AM(n,e,t){const r=new Map;gt(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],d=u.transform,m=e.data.field(u.field);r.set(u.field,cr(d,m,t[o]))}return r}function TM(n,e,t){const r=new Map;for(const o of n){const u=o.transform,d=t.data.field(o.field);r.set(o.field,Hn(u,d,e))}return r}class em extends wb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nA extends wb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rA{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&UO(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=c_(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=c_(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=x();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=t.has(o.key)?null:m;const _=EM(d,m);null!==_&&r.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),J())}isEqual(e){return this.batchId===e.batchId&&nc(this.mutations,e.mutations,(t,r)=>CM(t,r))&&nc(this.baseMutations,e.baseMutations,(t,r)=>CM(t,r))}}class iA{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){gt(e.mutations.length===r.length);let o=Z;const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,r[d].version);return new iA(e,t,r,o)}}class sA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class HO{constructor(e){this.count=e}}var Wr,fn;function SM(n){switch(n){default:return at();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function MM(n){if(void 0===n)return ur("GRPC error has no .code"),le.UNKNOWN;switch(n){case Wr.OK:return le.OK;case Wr.CANCELLED:return le.CANCELLED;case Wr.UNKNOWN:return le.UNKNOWN;case Wr.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Wr.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Wr.INTERNAL:return le.INTERNAL;case Wr.UNAVAILABLE:return le.UNAVAILABLE;case Wr.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Wr.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Wr.NOT_FOUND:return le.NOT_FOUND;case Wr.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Wr.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Wr.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Wr.ABORTED:return le.ABORTED;case Wr.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Wr.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Wr.DATA_LOSS:return le.DATA_LOSS;default:return at()}}(fn=Wr||(Wr={}))[fn.OK=0]="OK",fn[fn.CANCELLED=1]="CANCELLED",fn[fn.UNKNOWN=2]="UNKNOWN",fn[fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fn[fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fn[fn.NOT_FOUND=5]="NOT_FOUND",fn[fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",fn[fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",fn[fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",fn[fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fn[fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fn[fn.ABORTED=10]="ABORTED",fn[fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",fn[fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",fn[fn.INTERNAL=13]="INTERNAL",fn[fn.UNAVAILABLE=14]="UNAVAILABLE",fn[fn.DATA_LOSS=15]="DATA_LOSS";class aA{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ib}static getOrCreateInstance(){return null===Ib&&(Ib=new aA),Ib}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Ib=null;class d_{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,h_.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new d_(_t.min(),o,qe(),f(),J())}}class h_{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new h_(r,t,J(),J(),J())}}class bb{constructor(e,t,r,o){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=o}}class xM{constructor(e,t){this.targetId=e,this.Et=t}}class OM{constructor(e,t,r=Rr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class PM{constructor(){this.At=0,this.Rt=NM(),this.vt=Rr.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=J(),t=J(),r=J();return this.Rt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:at()}}),new h_(this.vt,this.bt,e,t,r)}xt(){this.Pt=!1,this.Rt=NM()}Nt(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class zO{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=f(),this.qt=RM(),this.Ut=new _n($t)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}zt(e){this.forEachTarget(e,t=>{const r=this.jt(t);switch(e.state){case 0:this.Wt(t)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(t);break;case 3:this.Wt(t)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:this.Wt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:at()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,o)=>{this.Wt(o)&&t(o)})}Jt(e){var t;const r=e.targetId,o=e.Et.count,u=this.Yt(r);if(u){const d=u.target;if(Bd(d))if(0===o){const m=new Ke(d.path);this.Qt(r,m,Rn.newNoDocument(m,_t.min()))}else gt(1===o);else{const m=this.Zt(r);m!==o&&(this.Ht(r),this.Ut=this.Ut.add(r),null===(t=aA.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:m,existenceFilterCount:e.Et.count}))}}}Xt(e){const t=new Map;this.Bt.forEach((u,d)=>{const m=this.Yt(d);if(m){if(u.current&&Bd(m.target)){const _=new Ke(m.target.path);null!==this.Lt.get(_)||this.te(d,_)||this.Qt(d,_,Rn.newNoDocument(_,e))}u.St&&(t.set(d,u.Ct()),u.xt())}});let r=J();this.qt.forEach((u,d)=>{let m=!0;d.forEachWhile(_=>{const C=this.Yt(_);return!C||2===C.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.Lt.forEach((u,d)=>d.setReadTime(e));const o=new d_(e,t,this.Ut,this.Lt,r);return this.Lt=f(),this.qt=RM(),this.Ut=new _n($t),o}Gt(e,t){if(!this.Wt(e))return;const r=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.Wt(e))return;const o=this.jt(e);this.te(e,t)?o.Nt(t,1):o.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Zt(e){const t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let t=this.Bt.get(e);return t||(t=new PM,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new _n($t),this.qt=this.qt.insert(e,t)),t}Wt(e){const t=null!==this.Yt(e);return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new PM),this.Ft.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}function RM(){return new vn(Ke.comparator)}function NM(){return new vn(Ke.comparator)}const GO={asc:"ASCENDING",desc:"DESCENDING"},ZO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qO={and:"AND",or:"OR"};class WO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function KO(n,e){return tm(n,e.toTimestamp())}function Nr(n){return gt(!!n),_t.fromTimestamp(function(e){const t=ja(e);return new $n(t.seconds,t.nanos)}(n))}function uA(n,e){return(t=n,new un(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function FM(n){const e=un.fromString(n);return gt(GM(e)),e}function f_(n,e){return uA(n.databaseId,e.path)}function Gu(n,e){const t=FM(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ke(VM(t))}function lA(n,e){return uA(n.databaseId,e)}function LM(n){const e=FM(n);return 4===e.length?un.emptyPath():VM(e)}function p_(n){return new un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function VM(n){return gt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function UM(n,e,t){return{name:f_(n,e),fields:t.value.mapValue.fields}}function BM(n,e,t){const r=Gu(n,e.name),o=Nr(e.updateTime),u=e.createTime?Nr(e.createTime):_t.min(),d=new qr({mapValue:{fields:e.fields}}),m=Rn.newFoundDocument(r,o,u,d);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function g_(n,e){let t;if(e instanceof Jg)t={update:UM(n,e.key,e.value)};else if(e instanceof em)t={delete:f_(n,e.key)};else if(e instanceof ac)t={update:UM(n,e.key,e.data),updateMask:rP(e.fieldMask)};else{if(!(e instanceof nA))return at();t={verify:f_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof Qg)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof kf)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ff)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Xg)return{fieldPath:u.field.canonicalString(),increment:d._t};throw at()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:KO(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:at()),t;var o}function cA(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?er.updateTime(Nr(o.updateTime)):void 0!==o.exists?er.exists(o.exists):er.none():er.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,d){let m=null;"setToServerValue"in d?(gt("REQUEST_TIME"===d.setToServerValue),m=new Qg):"appendMissingElements"in d?m=new kf(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new Ff(d.removeAllFromArray.values||[]):"increment"in d?m=new Xg(u,d.increment):at();const _=Wn.fromServerFormat(d.fieldPath);return new l_(_,m)}(n,o)):[];var o;if(e.update){const o=Gu(n,e.update.name),u=new qr({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new ds((e.updateMask.fieldPaths||[]).map(C=>Wn.fromServerFormat(C)));return new ac(o,u,d,t,r)}return new Jg(o,u,t,r)}if(e.delete){const o=Gu(n,e.delete);return new em(o,t)}if(e.verify){const o=Gu(n,e.verify);return new nA(o,t)}return at()}function jM(n,e){return{documents:[lA(n,e.path)]}}function dA(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=lA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=lA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(_){if(0!==_.length)return zM(yn.create(_,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(_){if(0!==_.length)return _.map(C=>{return{field:Hd((T=C).field),direction:eP(T.dir)};var T})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(C=e.limit,n.useProto3Json||Sf(C)?C:{value:C});var C,m,_;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function $M(n){let e=LM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){gt(1===r);const T=t.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];t.where&&(u=function(T){const N=HM(T);return N instanceof yn&&ab(N)?N.getFilters():[N]}(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(T=>{return new oc(nm((N=T).field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let m=null;t.limit&&(m=function(T){let N;return N="object"==typeof T?T.value:T,Sf(N)?null:N}(t.limit));let _=null;var T;t.startAt&&(_=new ju((T=t.startAt).values||[],!!T.before));let C=null;return t.endAt&&(C=function(T){return new ju(T.values||[],!T.before)}(t.endAt)),fb(e,o,d,u,m,"F",_,C)}function HM(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=nm(e.unaryFilter.field);return rn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=nm(e.unaryFilter.field);return rn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=nm(e.unaryFilter.field);return rn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=nm(e.unaryFilter.field);return rn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return at()}}(n):void 0!==n.fieldFilter?rn.create(nm((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return yn.create(e.compositeFilter.filters.map(t=>HM(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return at()}}(e.compositeFilter.op))}(n):at();var e}function eP(n){return GO[n]}function tP(n){return ZO[n]}function nP(n){return qO[n]}function Hd(n){return{fieldPath:n.canonicalString()}}function nm(n){return Wn.fromServerFormat(n.fieldPath)}function zM(n){return n instanceof rn?function(e){if("=="===e.op){if(ob(e.value))return{unaryFilter:{field:Hd(e.field),op:"IS_NAN"}};if(t_(e.value))return{unaryFilter:{field:Hd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ob(e.value))return{unaryFilter:{field:Hd(e.field),op:"IS_NOT_NAN"}};if(t_(e.value))return{unaryFilter:{field:Hd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hd(e.field),op:tP(e.op),value:e.value}}}(n):n instanceof yn?function(e){const t=e.getFilters().map(r=>zM(r));return 1===t.length?t[0]:{compositeFilter:{op:nP(e.op),filters:t}}}(n):at()}function rP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function GM(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class zd{constructor(e,t,r,o,u=_t.min(),d=_t.min(),m=Rr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new zd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new zd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new zd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ZM{constructor(e){this.se=e}}function qM(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Eb(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:f_(o=n.se,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:tm(o,u.version.toTimestamp()),createTime:tm(o,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Lf(e.version)};else{if(!e.isUnknownDocument())return at();r.unknownDocument={path:t.path.toArray(),version:Lf(e.version)}}var o,u;return r}function Eb(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Lf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Vf(n){const e=new $n(n.seconds,n.nanoseconds);return _t.fromTimestamp(e)}function Uf(n,e){const t=(e.baseMutations||[]).map(u=>cA(n.se,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>cA(n.se,u)),o=$n.fromMillis(e.localWriteTimeMs);return new rA(e.batchId,o,t,r)}function m_(n){const e=Vf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Vf(n.lastLimboFreeSnapshotVersion):_t.min();let r;var o;return void 0!==n.query.documents?(gt(1===(o=n.query).documents.length),r=Si(jd(LM(o.documents[0])))):r=Si($M(n.query)),new zd(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Rr.fromBase64String(n.resumeToken))}function WM(n,e){const t=Lf(e.snapshotVersion),r=Lf(e.lastLimboFreeSnapshotVersion);let o;o=Bd(e.target)?jM(n.se,e.target):dA(n.se,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Vd(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function hA(n){const e=$M({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?u_(e,e.limit,"L"):e}function fA(n,e){return new sA(e.largestBatchId,cA(n.se,e.overlayMutation))}function KM(n,e){const t=e.path.lastSegment();return[n,Ti(e.path.popLast()),t]}function YM(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Lf(r.readTime),documentKey:Ti(r.documentKey.path),largestBatchId:r.largestBatchId}}class sP{getBundleMetadata(e,t){return QM(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Vf(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return QM(e).put({bundleId:(r=t).id,createTime:Lf(Nr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return XM(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:hA(o.bundledQuery),readTime:Vf(o.readTime)};var o})}saveNamedQuery(e,t){return XM(e).put({name:(r=t).name,readTime:Lf(Nr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function QM(n){return Gr(n,"bundles")}function XM(n){return Gr(n,"namedQueries")}class Cb{constructor(e,t){this.serializer=e,this.userId=t}static ie(e,t){return new Cb(e,t.uid||"")}getOverlay(e,t){return y_(e).get(KM(this.userId,t)).next(r=>r?fA(this.serializer,r):null)}getOverlays(e,t){const r=A();return ue.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((u,d)=>{const m=new sA(t,d);o.push(this.re(e,m))}),ue.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add(Ti(d.getCollectionPath())));const u=[];return o.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(y_(e).J("collectionPathOverlayIndex",m))}),ue.waitFor(u)}getOverlaysForCollection(e,t,r){const o=A(),u=Ti(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return y_(e).j("collectionPathOverlayIndex",d).next(m=>{for(const _ of m){const C=fA(this.serializer,_);o.set(C.getKey(),C)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=A();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return y_(e).Z({index:"collectionGroupOverlayIndex",range:m},(_,C,T)=>{const N=fA(this.serializer,C);u.size()<o||N.largestBatchId===d?(u.set(N.getKey(),N),d=N.largestBatchId):T.done()}).next(()=>u)}re(e,t){return y_(e).put(function(r,o,u){const[d,m,_]=KM(o,u.mutation.key);return{userId:o,collectionPath:m,documentId:_,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:g_(r.se,u.mutation)}}(this.serializer,this.userId,t))}}function y_(n){return Gr(n,"documentOverlays")}class Bf{constructor(){}oe(e,t){this.ue(e,t),t.ce()}ue(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(lr(e.integerValue));else if("doubleValue"in e){const r=lr(e.doubleValue);isNaN(r)?this.ae(t,13):(this.ae(t,15),Mf(r)?t.he(0):t.he(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ae(t,20),"string"==typeof r?t.le(r):(t.le(`${r.seconds||""}`),t.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(Vu(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ae(t,45),t.he(r.latitude||0),t.he(r.longitude||0)}else"mapValue"in e?HD(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):at()}fe(e,t){this.ae(t,25),this.ye(e,t)}ye(e,t){t.le(e)}me(e,t){const r=e.fields||{};this.ae(t,55);for(const o of Object.keys(r))this.fe(o,t),this.ue(r[o],t)}ge(e,t){const r=e.values||[];this.ae(t,50);for(const o of r)this.ue(o,t)}_e(e,t){this.ae(t,37),Ke.fromName(e).path.forEach(r=>{this.ae(t,60),this.ye(r,t)})}ae(e,t){e.he(t)}de(e){e.he(2)}}function oP(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function JM(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=oP(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Bf.pe=new Bf;class aP{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Te(r.value),r=t.next();this.Ee()}Ae(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Re(r.value),r=t.next();this.ve()}be(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Te(r);else if(r<2048)this.Te(960|r>>>6),this.Te(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Te(480|r>>>12),this.Te(128|63&r>>>6),this.Te(128|63&r);else{const o=t.codePointAt(0);this.Te(240|o>>>18),this.Te(128|63&o>>>12),this.Te(128|63&o>>>6),this.Te(128|63&o)}}this.Ee()}Pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Re(r);else if(r<2048)this.Re(960|r>>>6),this.Re(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Re(480|r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r);else{const o=t.codePointAt(0);this.Re(240|o>>>18),this.Re(128|63&o>>>12),this.Re(128|63&o>>>6),this.Re(128|63&o)}}this.ve()}Ve(e){const t=this.Se(e),r=JM(t);this.De(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Ce(e){const t=this.Se(e),r=JM(t);this.De(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Se(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Te(e){const t=255&e;0===t?(this.Ne(0),this.Ne(255)):255===t?(this.Ne(255),this.Ne(0)):this.Ne(t)}Re(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(e)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(e){this.De(1),this.buffer[this.position++]=e}Oe(e){this.De(1),this.buffer[this.position++]=~e}De(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class uP{constructor(e){this.Me=e}we(e){this.Me.Ie(e)}le(e){this.Me.be(e)}he(e){this.Me.Ve(e)}ce(){this.Me.xe()}}class lP{constructor(e){this.Me=e}we(e){this.Me.Ae(e)}le(e){this.Me.Pe(e)}he(e){this.Me.Ce(e)}ce(){this.Me.ke()}}class v_{constructor(){this.Me=new aP,this.Fe=new uP(this.Me),this.Be=new lP(this.Me)}seed(e){this.Me.seed(e)}Le(e){return 0===e?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}class jf{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}qe(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new jf(this.indexId,this.documentKey,this.arrayValue,r)}}function Gd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=ex(n.arrayValue,e.arrayValue),0!==t?t:(t=ex(n.directionalValue,e.directionalValue),0!==t?t:Ke.comparator(n.documentKey,e.documentKey)))}function ex(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class cP{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.Ke=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ge=r:this.Ke.push(r)}}Qe(e){gt(e.collectionGroup===this.collectionId);const t=kg(e);if(void 0!==t&&!this.ze(t))return!1;const r=Fu(e);let o=0,u=0;for(;o<r.length&&this.ze(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Ge){const d=r[o];if(!this.je(this.Ge,d)||!this.We(this.Ue[u++],d))return!1;++o}for(;o<r.length;++o)if(u>=this.Ue.length||!this.We(this.Ue[u++],r[o]))return!1;return!0}ze(e){for(const t of this.Ke)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function tx(n){var e,t;if(gt(n instanceof rn||n instanceof yn),n instanceof rn){if(n instanceof o_){const o=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>rn.create(n.field,"==",u)))||[];return yn.create(o,"or")}return n}const r=n.filters.map(o=>tx(o));return yn.create(r,n.op)}function dP(n){if(0===n.getFilters().length)return[];const e=mA(tx(n));return gt(nx(e)),pA(e)||gA(e)?[e]:e.getFilters()}function pA(n){return n instanceof rn}function gA(n){return n instanceof yn&&ab(n)}function nx(n){return pA(n)||gA(n)||function(e){if(e instanceof yn&&Ld(e)){for(const t of e.getFilters())if(!pA(t)&&!gA(t))return!1;return!0}return!1}(n)}function mA(n){if(gt(n instanceof rn||n instanceof yn),n instanceof rn)return n;if(1===n.filters.length)return mA(n.filters[0]);const e=n.filters.map(r=>mA(r));let t=yn.create(e,n.op);return t=Db(t),nx(t)?t:(gt(t instanceof yn),gt(Hu(t)),gt(t.filters.length>1),t.filters.reduce((r,o)=>yA(r,o)))}function yA(n,e){let t;return gt(n instanceof rn||n instanceof yn),gt(e instanceof rn||e instanceof yn),t=n instanceof rn?e instanceof rn?yn.create([n,e],"and"):rx(n,e):e instanceof rn?rx(e,n):function(r,o){if(gt(r.filters.length>0&&o.filters.length>0),Hu(r)&&Hu(o))return i_(r,o.getFilters());const u=Ld(r)?r:o,d=Ld(r)?o:r,m=u.filters.map(_=>yA(_,d));return yn.create(m,"or")}(n,e),Db(t)}function rx(n,e){if(Hu(e))return i_(e,n.getFilters());{const t=e.filters.map(r=>yA(n,r));return yn.create(t,"or")}}function Db(n){if(gt(n instanceof rn||n instanceof yn),n instanceof rn)return n;const e=n.getFilters();if(1===e.length)return Db(e[0]);if(ZD(n))return n;const t=e.map(o=>Db(o)),r=[];return t.forEach(o=>{o instanceof rn?r.push(o):o instanceof yn&&(o.op===n.op?r.push(...o.filters):r.push(o))}),1===r.length?r[0]:yn.create(r,n.op)}class hP{constructor(){this.He=new vA}addToCollectionParentIndex(e,t){return this.He.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.He.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(Ps.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(Ps.min())}updateCollectionGroup(e,t,r){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class vA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new _n(un.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new _n(un.comparator)).toArray()}}const Ab=new Uint8Array(0);class fP{constructor(e,t){this.user=e,this.databaseId=t,this.Je=new vA,this.Ye=new l(r=>Vd(r),(r,o)=>Ud(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Je.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Je.add(t)});const u={collectionId:r,parent:Ti(o)};return ix(e).put(u)}return ue.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[Hv(t),""],!1,!0);return ix(e).j(o).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(Ba(d.parent))}return r})}addFieldIndex(e,t){const r=Tb(e),o={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete o.indexId;const u=r.add(o);if(t.indexState){const d=w_(e);return u.next(m=>{d.put(YM(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Tb(e),o=w_(e),u=__(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=__(e);let o=!0;const u=new Map;return ue.forEach(this.Ze(t),d=>this.Xe(e,d).next(m=>{o&&(o=!!m),u.set(d,m)})).next(()=>{if(o){let d=J();const m=[];return ue.forEach(u,(_,C)=>{var T;Ne("IndexedDbIndexManager",`Using index ${T=_,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(Nt=>`${Nt.fieldPath}:${Nt.kind}`).join(",")}`} to execute ${Vd(t)}`);const N=function(Nt,Jt){const en=kg(Jt);if(void 0===en)return null;for(const pn of Wg(Nt,en.fieldPath))switch(pn.op){case"array-contains-any":return pn.value.arrayValue.values||[];case"array-contains":return[pn.value]}return null}(C,_),G=function(Nt,Jt){const en=new Map;for(const pn of Fu(Jt))for(const gs of Wg(Nt,pn.fieldPath))switch(gs.op){case"==":case"in":en.set(pn.fieldPath.canonicalString(),gs.value);break;case"not-in":case"!=":return en.set(pn.fieldPath.canonicalString(),gs.value),Array.from(en.values())}return null}(C,_),ee=function(Nt,Jt){const en=[];let pn=!0;for(const gs of Fu(Jt)){const Jd=0===gs.kind?hb(Nt,gs.fieldPath,Nt.startAt):JD(Nt,gs.fieldPath,Nt.startAt);en.push(Jd.value),pn&&(pn=Jd.inclusive)}return new ju(en,pn)}(C,_),me=function(Nt,Jt){const en=[];let pn=!0;for(const gs of Fu(Jt)){const Jd=0===gs.kind?JD(Nt,gs.fieldPath,Nt.endAt):hb(Nt,gs.fieldPath,Nt.endAt);en.push(Jd.value),pn&&(pn=Jd.inclusive)}return new ju(en,pn)}(C,_),Fe=this.tn(_,C,ee),He=this.tn(_,C,me),Lt=this.en(_,C,G),Qt=this.nn(_.indexId,N,Fe,ee.inclusive,He,me.inclusive,Lt);return ue.forEach(Qt,Nt=>r.H(Nt,t.limit).next(Jt=>{Jt.forEach(en=>{const pn=Ke.fromSegments(en.documentKey);d.has(pn)||(d=d.add(pn),m.push(pn))})}))}).next(()=>m)}return ue.resolve(null)})}Ze(e){let t=this.Ye.get(e);return t||(t=0===e.filters.length?[e]:dP(yn.create(e.filters,"and")).map(r=>Nf(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Ye.set(e,t),t)}nn(e,t,r,o,u,d,m){const _=(null!=t?t.length:1)*Math.max(r.length,u.length),C=_/(null!=t?t.length:1),T=[];for(let N=0;N<_;++N){const G=t?this.sn(t[N/C]):Ab,ee=this.rn(e,G,r[N%C],o),me=this.on(e,G,u[N%C],d),Fe=m.map(He=>this.rn(e,G,He,!0));T.push(...this.createRange(ee,me,Fe))}return T}rn(e,t,r,o){const u=new jf(e,Ke.empty(),t,r);return o?u:u.qe()}on(e,t,r,o){const u=new jf(e,Ke.empty(),t,r);return o?u.qe():u}Xe(e,t){const r=new cP(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let d=null;for(const m of u)r.Qe(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;const o=this.Ze(t);return ue.forEach(o,u=>this.Xe(e,u).next(d=>{d?0!==r&&d.fields.length<function(m){let _=new _n(Wn.comparator),C=!1;for(const T of m.filters)for(const N of T.getFlattenedFilters())N.field.isKeyField()||("array-contains"===N.op||"array-contains-any"===N.op?C=!0:_=_.add(N.field));for(const T of m.orderBy)T.field.isKeyField()||(_=_.add(T.field));return _.size+(C?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&o.length>1&&2===r?1:r)}un(e,t){const r=new v_;for(const o of Fu(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const d=r.Le(o.kind);Bf.pe.oe(u,d)}return r.$e()}sn(e){const t=new v_;return Bf.pe.oe(e,t.Le(0)),t.$e()}cn(e,t){const r=new v_;return Bf.pe.oe(Fd(this.databaseId,t),r.Le(function(o){const u=Fu(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.$e()}en(e,t,r){if(null===r)return[];let o=[];o.push(new v_);let u=0;for(const d of Fu(e)){const m=r[u++];for(const _ of o)if(this.an(t,d.fieldPath)&&Gg(m))o=this.hn(o,d,m);else{const C=_.Le(d.kind);Bf.pe.oe(m,C)}}return this.ln(o)}tn(e,t,r){return this.en(e,t,r.position)}ln(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}hn(e,t,r){const o=[...e],u=[];for(const d of r.arrayValue.values||[])for(const m of o){const _=new v_;_.seed(m.$e()),Bf.pe.oe(d,_.Le(t.kind)),u.push(_)}return u}an(e,t){return!!e.filters.find(r=>r instanceof rn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Tb(e),o=w_(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(u=>{const d=[];return ue.forEach(u,m=>o.get([m.indexId,this.uid]).next(_=>{d.push(function(C,T){const N=T?new Lg(T.sequenceNumber,new Ps(Vf(T.readTime),new Ke(Ba(T.documentKey)),T.largestBatchId)):Lg.empty(),G=C.fields.map(([ee,me])=>new Fg(Wn.fromServerFormat(ee),me));return new Tf(C.indexId,C.collectionGroup,G,N)}(m,_))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:$t(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Tb(e),u=w_(e);return this.fn(e).next(d=>o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>ue.forEach(m,_=>u.put(YM(_.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return ue.forEach(t,(o,u)=>{const d=r.get(o.collectionGroup);return(d?ue.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),ue.forEach(m,_=>this.dn(e,o,_).next(C=>{const T=this.wn(u,_);return C.isEqual(T)?ue.resolve():this._n(e,u,_,C,T)}))))})}mn(e,t,r,o){return __(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.cn(r,t.key),documentKey:t.key.path.toArray()})}gn(e,t,r,o){return __(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.cn(r,t.key),t.key.path.toArray()])}dn(e,t,r){const o=__(e);let u=new _n(Gd);return o.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.cn(r,t)])},(d,m)=>{u=u.add(new jf(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}wn(e,t){let r=new _n(Gd);const o=this.un(t,e);if(null==o)return r;const u=kg(t);if(null!=u){const d=e.data.field(u.fieldPath);if(Gg(d))for(const m of d.arrayValue.values||[])r=r.add(new jf(t.indexId,e.key,this.sn(m),o))}else r=r.add(new jf(t.indexId,e.key,Ab,o));return r}_n(e,t,r,o,u){Ne("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,_,C,T,N){const G=m.getIterator(),ee=_.getIterator();let me=Nd(G),Fe=Nd(ee);for(;me||Fe;){let He=!1,Lt=!1;if(me&&Fe){const Qt=C(me,Fe);Qt<0?Lt=!0:Qt>0&&(He=!0)}else null!=me?Lt=!0:He=!0;He?(T(Fe),Fe=Nd(ee)):Lt?(N(me),me=Nd(G)):(me=Nd(G),Fe=Nd(ee))}}(o,u,Gd,m=>{d.push(this.mn(e,t,r,m))},m=>{d.push(this.gn(e,t,r,m))}),ue.waitFor(d)}fn(e){let t=1;return w_(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>Gd(d,m)).filter((d,m,_)=>!m||0!==Gd(d,_[m-1]));const o=[];o.push(e);for(const d of r){const m=Gd(d,e),_=Gd(d,t);if(0===m)o[0]=e.qe();else if(m>0&&_<0)o.push(d),o.push(d.qe());else if(_>0)break}o.push(t);const u=[];for(let d=0;d<o.length;d+=2){if(this.yn(o[d],o[d+1]))return[];u.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,Ab,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,Ab,[]]))}return u}yn(e,t){return Gd(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(sx)}getMinOffset(e,t){return ue.mapArray(this.Ze(t),r=>this.Xe(e,r).next(o=>o||at())).next(sx)}}function ix(n){return Gr(n,"collectionParents")}function __(n){return Gr(n,"indexEntries")}function Tb(n){return Gr(n,"indexConfiguration")}function w_(n){return Gr(n,"indexState")}function sx(n){gt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;WI(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new Ps(e.readTime,e.documentKey,t)}const ox={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ks{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ks(e,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ax(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let m=0;const _=r.Z({range:d},(T,N,G)=>(m++,G.delete()));u.push(_.next(()=>{gt(1===m)}));const C=[];for(const T of t.mutations){const N=JI(e,T.key.path,t.batchId);u.push(o.delete(N)),C.push(T.key)}return ue.waitFor(u).next(()=>C)}function Sb(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw at();e=n.noDocument}return JSON.stringify(e).length}ks.DEFAULT_COLLECTION_PERCENTILE=10,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ks.DEFAULT=new ks(41943040,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ks.DISABLED=new ks(-1,0,0);class Mb{constructor(e,t,r,o){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=o,this.pn={}}static ie(e,t,r,o){gt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Mb(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zd(e).Z({index:"userMutationsIndex",range:r},(o,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=rm(e),d=Zd(e);return d.add({}).next(m=>{gt("number"==typeof m);const _=new rA(m,t,r,o),C=function(G,ee,me){const Fe=me.baseMutations.map(Lt=>g_(G.se,Lt)),He=me.mutations.map(Lt=>g_(G.se,Lt));return{userId:ee,batchId:me.batchId,localWriteTimeMs:me.localWriteTime.toMillis(),baseMutations:Fe,mutations:He}}(this.serializer,this.userId,_),T=[];let N=new _n((G,ee)=>$t(G.canonicalString(),ee.canonicalString()));for(const G of o){const ee=JI(this.userId,G.key.path,m);N=N.add(G.key.path.popLast()),T.push(d.put(C)),T.push(u.put(ee,pM))}return N.forEach(G=>{T.push(this.indexManager.addToCollectionParentIndex(e,G))}),e.addOnCommittedListener(()=>{this.pn[m]=_.keys()}),ue.waitFor(T).next(()=>_)})}lookupMutationBatch(e,t){return Zd(e).get(t).next(r=>r?(gt(r.userId===this.userId),Uf(this.serializer,r)):null)}In(e,t){return this.pn[t]?ue.resolve(this.pn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.pn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Zd(e).Z({index:"userMutationsIndex",range:o},(d,m,_)=>{m.userId===this.userId&&(gt(m.batchId>=r),u=Uf(this.serializer,m)),_.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Zd(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(o,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zd(e).j("userMutationsIndex",t).next(r=>r.map(o=>Uf(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Bg(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return rm(e).Z({range:o},(d,m,_)=>{const[C,T,N]=d,G=Ba(T);if(C===this.userId&&t.path.isEqual(G))return Zd(e).get(N).next(ee=>{if(!ee)throw at();gt(ee.userId===this.userId),u.push(Uf(this.serializer,ee))});_.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new _n($t);const o=[];return t.forEach(u=>{const d=Bg(this.userId,u.path),m=IDBKeyRange.lowerBound(d),_=rm(e).Z({range:m},(C,T,N)=>{const[G,ee,me]=C,Fe=Ba(ee);G===this.userId&&u.path.isEqual(Fe)?r=r.add(me):N.done()});o.push(_)}),ue.waitFor(o).next(()=>this.Tn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=Bg(this.userId,r),d=IDBKeyRange.lowerBound(u);let m=new _n($t);return rm(e).Z({range:d},(_,C,T)=>{const[N,G,ee]=_,me=Ba(G);N===this.userId&&r.isPrefixOf(me)?me.length===o&&(m=m.add(ee)):T.done()}).next(()=>this.Tn(e,m))}Tn(e,t){const r=[],o=[];return t.forEach(u=>{o.push(Zd(e).get(u).next(d=>{if(null===d)throw at();gt(d.userId===this.userId),r.push(Uf(this.serializer,d))}))}),ue.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return ax(e.at,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.En(t.batchId)}),ue.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}En(e){delete this.pn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ue.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return rm(e).Z({range:r},(u,d,m)=>{if(u[0]===this.userId){const _=Ba(u[1]);o.push(_)}else m.done()}).next(()=>{gt(0===o.length)})})}containsKey(e,t){return ux(e,this.userId,t)}An(e){return lx(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ux(n,e,t){const r=Bg(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return rm(n).Z({range:u,Y:!0},(m,_,C)=>{const[T,N,G]=m;T===e&&N===o&&(d=!0),C.done()}).next(()=>d)}function Zd(n){return Gr(n,"mutations")}function rm(n){return Gr(n,"documentMutations")}function lx(n){return Gr(n,"mutationQueues")}class $f{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new $f(0)}static bn(){return new $f(-1)}}class pP{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Pn(e).next(t=>{const r=new $f(t.highestTargetId);return t.highestTargetId=r.next(),this.Vn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Pn(e).next(t=>_t.fromTimestamp(new $n(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Pn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Vn(e,o)))}addTargetData(e,t){return this.Sn(e,t).next(()=>this.Pn(e).next(r=>(r.targetCount+=1,this.Dn(t,r),this.Vn(e,r))))}updateTargetData(e,t){return this.Sn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>im(e).delete(t.targetId)).next(()=>this.Pn(e)).next(r=>(gt(r.targetCount>0),r.targetCount-=1,this.Vn(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return im(e).Z((d,m)=>{const _=m_(m);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(o++,u.push(this.removeTargetData(e,_)))}).next(()=>ue.waitFor(u)).next(()=>o)}forEachTarget(e,t){return im(e).Z((r,o)=>{const u=m_(o);t(u)})}Pn(e){return cx(e).get("targetGlobalKey").next(t=>(gt(null!==t),t))}Vn(e,t){return cx(e).put("targetGlobalKey",t)}Sn(e,t){return im(e).put(WM(this.serializer,t))}Dn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Vd(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return im(e).Z({range:o,index:"queryTargetsIndex"},(d,m,_)=>{const C=m_(m);Ud(t,C.target)&&(u=C,_.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=qd(e);return t.forEach(d=>{const m=Ti(d.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,d))}),ue.waitFor(o)}removeMatchingKeys(e,t,r){const o=qd(e);return ue.forEach(t,u=>{const d=Ti(u.path);return ue.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=qd(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=qd(e);let u=J();return o.Z({range:r,Y:!0},(d,m,_)=>{const C=Ba(d[1]),T=new Ke(C);u=u.add(T)}).next(()=>u)}containsKey(e,t){const r=Ti(t.path),o=IDBKeyRange.bound([r],[Hv(r)],!1,!0);let u=0;return qd(e).Z({index:"documentTargetsIndex",Y:!0,range:o},([d,m],_,C)=>{0!==d&&(u++,C.done())}).next(()=>u>0)}ne(e,t){return im(e).get(t).next(r=>r?m_(r):null)}}function im(n){return Gr(n,"targets")}function cx(n){return Gr(n,"targetGlobal")}function qd(n){return Gr(n,"targetDocuments")}function dx([n,e],[t,r]){const o=$t(n,t);return 0===o?$t(e,r):o}class gP{constructor(e){this.Cn=e,this.buffer=new _n(dx),this.xn=0}Nn(){return++this.xn}kn(e){const t=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();dx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}$n(e){var t=this;Ne("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ye.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Ua(r)?Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield rc(r)}yield t.$n(3e5)}))}}class yP{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.Fn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ue.resolve(Rs.ct);const r=new gP(t);return this.Mn.forEachTarget(e,o=>r.kn(o.sequenceNumber)).next(()=>this.Mn.Bn(e,o=>r.kn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Mn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(ox)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ox):this.Ln(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}Ln(e,t){let r,o,u,d,m,_,C;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,d=Date.now(),this.nthSequenceNumber(e,o))).next(N=>(r=N,m=Date.now(),this.removeTargets(e,r,t))).next(N=>(u=N,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(N=>(C=Date.now(),Af()<=Mu.in.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-T}ms\n\tDetermined least recently used ${o} in `+(m-d)+`ms\n\tRemoved ${u} targets in `+(_-m)+`ms\n\tRemoved ${N} documents in `+(C-_)+`ms\nTotal Duration: ${C-T}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:N})))}}class vP{constructor(e,t){this.db=e,this.garbageCollector=new yP(this,t)}Fn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}qn(e){let t=0;return this.Bn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Bn(e,t){return this.Un(e,(r,o)=>t(o))}addReference(e,t,r){return xb(e,r)}removeReference(e,t,r){return xb(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return xb(e,t)}Kn(e,t){return function(r,o){let u=!1;return lx(r).X(d=>ux(r,d,o).next(m=>(m&&(u=!0),ue.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Un(e,(d,m)=>{if(m<=t){const _=this.Kn(e,d).next(C=>{if(!C)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,_t.min()),qd(e).delete([0,Ti(d.path)])))});o.push(_)}}).next(()=>ue.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return xb(e,t)}Un(e,t){const r=qd(e);let o,u=Rs.ct;return r.Z({index:"documentTargetsIndex"},([d,m],{path:_,sequenceNumber:C})=>{0===d?(u!==Rs.ct&&t(new Ke(Ba(o)),u),u=C,o=_):u=Rs.ct}).next(()=>{u!==Rs.ct&&t(new Ke(Ba(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function xb(n,e){return qd(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ti(e.path),sequenceNumber:r}));var r}class hx{constructor(){this.changes=new l(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ue.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _P{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Hf(e).put(r)}removeEntry(e,t,r){return Hf(e).delete(function(o,u){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Eb(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Gn(e,r)))}getEntry(e,t){let r=Rn.newInvalidDocument(t);return Hf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(I_(t))},(o,u)=>{r=this.Qn(t,u)}).next(()=>r)}zn(e,t){let r={size:0,document:Rn.newInvalidDocument(t)};return Hf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(I_(t))},(o,u)=>{r={document:this.Qn(t,u),size:Sb(u)}}).next(()=>r)}getEntries(e,t){let r=f();return this.jn(e,t,(o,u)=>{const d=this.Qn(o,u);r=r.insert(o,d)}).next(()=>r)}Wn(e,t){let r=f(),o=new vn(Ke.comparator);return this.jn(e,t,(u,d)=>{const m=this.Qn(u,d);r=r.insert(u,m),o=o.insert(u,Sb(d))}).next(()=>({documents:r,Hn:o}))}jn(e,t,r){if(t.isEmpty())return ue.resolve();let o=new _n(mx);t.forEach(_=>o=o.add(_));const u=IDBKeyRange.bound(I_(o.first()),I_(o.last())),d=o.getIterator();let m=d.getNext();return Hf(e).Z({index:"documentKeyIndex",range:u},(_,C,T)=>{const N=Ke.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;m&&mx(m,N)<0;)r(m,null),m=d.getNext();m&&m.isEqual(N)&&(r(m,C),m=d.hasNext()?d.getNext():null),m?T.G(I_(m)):T.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(e,t,r,o){const u=t.path,d=[u.popLast().toArray(),u.lastSegment(),Eb(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Hf(e).j(IDBKeyRange.bound(d,m,!0)).next(_=>{let C=f();for(const T of _){const N=this.Qn(Ke.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);N.isFoundDocument()&&(Yg(t,N)||o.has(N.key))&&(C=C.insert(N.key,N))}return C})}getAllFromCollectionGroup(e,t,r,o){let u=f();const d=gx(t,r),m=gx(t,Ps.max());return Hf(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(_,C,T)=>{const N=this.Qn(Ke.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);u=u.insert(N.key,N),u.size===o&&T.done()}).next(()=>u)}newChangeBuffer(e){return new wP(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return px(e).get("remoteDocumentGlobalKey").next(t=>(gt(!!t),t))}Gn(e,t){return px(e).put("remoteDocumentGlobalKey",t)}Qn(e,t){if(t){const r=function iP(n,e){let t;if(e.document)t=BM(n.se,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ke.fromSegments(e.noDocument.path),o=Vf(e.noDocument.readTime);t=Rn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return at();{const r=Ke.fromSegments(e.unknownDocument.path),o=Vf(e.unknownDocument.version);t=Rn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new $n(r[0],r[1]);return _t.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(_t.min()))return r}return Rn.newInvalidDocument(e)}}function fx(n){return new _P(n)}class wP extends hx{constructor(e,t){super(),this.Jn=e,this.trackRemovals=t,this.Yn=new l(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new _n((u,d)=>$t(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const m=this.Yn.get(u);if(t.push(this.Jn.removeEntry(e,u,m.readTime)),d.isValidDocument()){const _=qM(this.Jn.serializer,d);o=o.add(u.path.popLast());const C=Sb(_);r+=C-m.size,t.push(this.Jn.addEntry(e,u,_))}else if(r-=m.size,this.trackRemovals){const _=qM(this.Jn.serializer,d.convertToNoDocument(_t.min()));t.push(this.Jn.addEntry(e,u,_))}}),o.forEach(u=>{t.push(this.Jn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Jn.updateMetadata(e,r)),ue.waitFor(t)}getFromCache(e,t){return this.Jn.zn(e,t).next(r=>(this.Yn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Jn.Wn(e,t).next(({documents:r,Hn:o})=>(o.forEach((u,d)=>{this.Yn.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function px(n){return Gr(n,"remoteDocumentGlobal")}function Hf(n){return Gr(n,"remoteDocumentsV14")}function I_(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function gx(n,e){const t=e.documentKey.path.toArray();return[n,Eb(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function mx(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=$t(t[u],r[u]),o)return o;return o=$t(t.length,r.length),o||(o=$t(t[t.length-2],r[r.length-2]),o||$t(t[t.length-1],r[r.length-1]))}class IP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class yx{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==r&&c_(r.mutation,o,ds.empty(),$n.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,J()).next(()=>r))}getLocalViewOfDocuments(e,t,r=J()){const o=A();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let d=I();return u.forEach((m,_)=>{d=d.insert(m,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=A();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,J()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,o){let u=f();const d=U(),m=U();return t.forEach((_,C)=>{const T=r.get(C.key);o.has(C.key)&&(void 0===T||T.mutation instanceof ac)?u=u.insert(C.key,C):void 0!==T?(d.set(C.key,T.mutation.getFieldMask()),c_(T.mutation,C,T.mutation.getFieldMask(),$n.now())):d.set(C.key,ds.empty())}),this.recalculateAndSaveOverlays(e,u).next(_=>(_.forEach((C,T)=>d.set(C,T)),t.forEach((C,T)=>{var N;return m.set(C,new IP(T,null!==(N=d.get(C))&&void 0!==N?N:null))}),m))}recalculateAndSaveOverlays(e,t){const r=U();let o=new vn((d,m)=>d-m),u=J();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(_=>{const C=t.get(_);if(null===C)return;let T=r.get(_)||ds.empty();T=m.applyToLocalView(C,T),r.set(_,T);const N=(o.get(m.batchId)||J()).add(_);o=o.insert(m.batchId,N)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const _=m.getNext(),C=_.key,T=_.value,N=x();T.forEach(G=>{if(!u.has(G)){const ee=EM(t.get(G),r.get(G));null!==ee&&N.set(G,ee),u=u.add(G)}}),d.push(this.documentOverlayCache.saveOverlays(e,C,N))}return ue.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ke.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):mb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):ue.resolve(A());let m=-1,_=u;return d.next(C=>ue.forEach(C,(T,N)=>(m<N.largestBatchId&&(m=N.largestBatchId),u.get(T)?ue.resolve():this.remoteDocumentCache.getEntry(e,T).next(G=>{_=_.insert(T,G)}))).next(()=>this.populateOverlays(e,C,u)).next(()=>this.computeViews(e,_,C,J())).next(T=>({batchId:m,changes:b(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ke(t)).next(r=>{let o=I();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=I();return this.indexManager.getCollectionParents(e,o).next(d=>ue.forEach(d,m=>{const _=(C=t,T=m.child(o),new zu(T,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,T;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(C=>{C.forEach((T,N)=>{u=u.insert(T,N)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o))).next(u=>{o.forEach((m,_)=>{const C=_.getKey();null===u.get(C)&&(u=u.insert(C,Rn.newInvalidDocument(C)))});let d=I();return u.forEach((m,_)=>{const C=o.get(m);void 0!==C&&c_(C.mutation,_,ds.empty(),$n.now()),Yg(t,_)&&(d=d.insert(m,_))}),d})}}class bP{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return ue.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Nr(r.createTime)}),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(r=t).name,query:hA(r.bundledQuery),readTime:Nr(r.readTime)}),ue.resolve();var r}}class EP{constructor(){this.overlays=new vn(Ke.comparator),this.ts=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const r=A();return ue.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.re(e,t,u)}),ue.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.ts.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.ts.delete(r)),ue.resolve()}getOverlaysForCollection(e,t,r){const o=A(),u=t.length+1,d=new Ke(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const _=m.getNext().value,C=_.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===u&&_.largestBatchId>r&&o.set(_.getKey(),_)}return ue.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new vn((C,T)=>C-T);const d=this.overlays.getIterator();for(;d.hasNext();){const C=d.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let T=u.get(C.largestBatchId);null===T&&(T=A(),u=u.insert(C.largestBatchId,T)),T.set(C.getKey(),C)}}const m=A(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((C,T)=>m.set(C,T)),!(m.size()>=o)););return ue.resolve(m)}re(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const d=this.ts.get(o.largestBatchId).delete(r.key);this.ts.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new sA(t,r));let u=this.ts.get(t);void 0===u&&(u=J(),this.ts.set(t,u)),this.ts.set(t,u.add(r.key))}}class _A{constructor(){this.es=new _n(pi.ns),this.ss=new _n(pi.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,t){const r=new pi(e,t);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.us(new pi(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}hs(e){const t=new Ke(new un([])),r=new pi(t,e),o=new pi(t,e+1),u=[];return this.ss.forEachInRange([r,o],d=>{this.us(d),u.push(d.key)}),u}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const t=new Ke(new un([])),r=new pi(t,e),o=new pi(t,e+1);let u=J();return this.ss.forEachInRange([r,o],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new pi(e,0),r=this.es.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class pi{constructor(e,t){this.key=e,this.ds=t}static ns(e,t){return Ke.comparator(e.key,t.key)||$t(e.ds,t.ds)}static rs(e,t){return $t(e.ds,t.ds)||Ke.comparator(e.key,t.key)}}class CP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this._s=new _n(pi.ns)}checkEmpty(e){return ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.ws;this.ws++;const d=new rA(u,t,r,o);this.mutationQueue.push(d);for(const m of o)this._s=this._s.add(new pi(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ue.resolve(d)}lookupMutationBatch(e,t){return ue.resolve(this.gs(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ys(t+1),u=o<0?0:o;return ue.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new pi(t,0),o=new pi(t,Number.POSITIVE_INFINITY),u=[];return this._s.forEachInRange([r,o],d=>{const m=this.gs(d.ds);u.push(m)}),ue.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new _n($t);return t.forEach(o=>{const u=new pi(o,0),d=new pi(o,Number.POSITIVE_INFINITY);this._s.forEachInRange([u,d],m=>{r=r.add(m.ds)})}),ue.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;Ke.isDocumentKey(u)||(u=u.child(""));const d=new pi(new Ke(u),0);let m=new _n($t);return this._s.forEachWhile(_=>{const C=_.key.path;return!!r.isPrefixOf(C)&&(C.length===o&&(m=m.add(_.ds)),!0)},d),ue.resolve(this.ps(m))}ps(e){const t=[];return e.forEach(r=>{const o=this.gs(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){gt(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();let r=this._s;return ue.forEach(t.mutations,o=>{const u=new pi(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this._s=r})}En(e){}containsKey(e,t){const r=new pi(t,0),o=this._s.firstAfterOrEqual(r);return ue.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return ue.resolve()}Is(e,t){return this.ys(e)}ys(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}gs(e){const t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class DP{constructor(e){this.Ts=e,this.docs=new vn(Ke.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,d=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ue.resolve(r?r.document.mutableCopy():Rn.newInvalidDocument(t))}getEntries(e,t){let r=f();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Rn.newInvalidDocument(o))}),ue.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let u=f();const d=t.path,m=new Ke(d.child("")),_=this.docs.getIteratorFrom(m);for(;_.hasNext();){const{key:C,value:{document:T}}=_.getNext();if(!d.isPrefixOf(C.path))break;C.path.length>d.length+1||WI(MD(T),r)<=0||(o.has(T.key)||Yg(t,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ue.resolve(u)}getAllFromCollectionGroup(e,t,r,o){at()}Es(e,t){return ue.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new AP(this)}getSize(e){return ue.resolve(this.size)}}class AP extends hx{constructor(e){super(),this.Jn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Jn.addEntry(e,o)):this.Jn.removeEntry(r)}),ue.waitFor(t)}getFromCache(e,t){return this.Jn.getEntry(e,t)}getAllFromCache(e,t){return this.Jn.getEntries(e,t)}}class TP{constructor(e){this.persistence=e,this.As=new l(t=>Vd(t),Ud),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.Rs=0,this.vs=new _A,this.targetCount=0,this.bs=$f.vn()}forEachTarget(e,t){return this.As.forEach((r,o)=>t(o)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Rs&&(this.Rs=t),ue.resolve()}Sn(e){this.As.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new $f(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,t){return this.Sn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Sn(t),ue.resolve()}removeTargetData(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.As.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.As.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ue.waitFor(u).next(()=>o)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const r=this.As.get(t)||null;return ue.resolve(r)}addMatchingKeys(e,t,r){return this.vs.os(t,r),ue.resolve()}removeMatchingKeys(e,t,r){this.vs.cs(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),ue.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.vs.hs(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const r=this.vs.fs(t);return ue.resolve(r)}containsKey(e,t){return ue.resolve(this.vs.containsKey(t))}}class vx{constructor(e,t){this.Ps={},this.overlays={},this.Vs=new Rs(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new TP(this),this.indexManager=new hP,this.remoteDocumentCache=new DP(r=>this.referenceDelegate.Cs(r)),this.serializer=new ZM(t),this.xs=new bP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new EP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ps[e.toKey()];return r||(r=new CP(t,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,t,r){Ne("MemoryPersistence","Starting transaction:",e);const o=new SP(this.Vs.next());return this.referenceDelegate.Ns(),r(o).next(u=>this.referenceDelegate.ks(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Os(e,t){return ue.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,t)))}}class SP extends OD{constructor(e){super(),this.currentSequenceNumber=e}}class Ob{constructor(e){this.persistence=e,this.$s=new _A,this.Ms=null}static Fs(e){return new Ob(e)}get Bs(){if(this.Ms)return this.Ms;throw at()}addReference(e,t,r){return this.$s.addReference(r,t),this.Bs.delete(r.toString()),ue.resolve()}removeReference(e,t,r){return this.$s.removeReference(r,t),this.Bs.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.Bs.add(t.toString()),ue.resolve()}removeTarget(e,t){this.$s.hs(t.targetId).forEach(o=>this.Bs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Bs.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Ns(){this.Ms=new Set}ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Bs,r=>{const o=Ke.fromPath(r);return this.Ls(e,o).next(u=>{u||t.removeEntry(o,_t.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ls(e,t).next(r=>{r?this.Bs.delete(t.toString()):this.Bs.add(t.toString())})}Cs(e){return 0}Ls(e,t){return ue.or([()=>ue.resolve(this.$s.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class MP{constructor(e){this.serializer=e}M(e,t,r,o){const u=new ic("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",XI,{unique:!0}),m.createObjectStore("documentMutations"),_x(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=ue.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),_x(e)),d=d.next(()=>function(m){const _=m.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_t.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",C)}(u))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(m,_){return _.store("mutations").j().next(C=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",XI,{unique:!0});const T=_.store("mutations"),N=C.map(G=>T.put(G));return ue.waitFor(N)})}(e,u))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.qs(u))),r<6&&o>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Us(u)))),r<7&&o>=7&&(d=d.next(()=>this.Ks(u))),r<8&&o>=8&&(d=d.next(()=>this.Gs(e,u))),r<9&&o>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.Qs(u))),r<11&&o>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(m){const _=m.createObjectStore("documentOverlays",{keyPath:Zv});_.createIndex("collectionPathOverlayIndex",VD,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",UD,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(m){const _=m.createObjectStore("remoteDocumentsV14",{keyPath:ND});_.createIndex("documentKeyIndex",eb),_.createIndex("collectionGroupIndex",tb)}(e)).next(()=>this.zs(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>this.js(e,u))),r<15&&o>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:FD}).createIndex("sequenceNumberIndex",mM,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:Ns}).createIndex("documentKeyIndex",LD,{unique:!1})}(e))),d}Us(e){let t=0;return e.store("remoteDocuments").Z((r,o)=>{t+=Sb(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(o=>ue.forEach(o,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",d).next(m=>ue.forEach(m,_=>{gt(_.userId===u.userId);const C=Uf(this.serializer,_);return ax(e,u.userId,C).next(()=>{})}))}))}Ks(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.Z((d,m)=>{const _=new un(d),C=[0,Ti(_)];u.push(t.get(C).next(T=>T?ue.resolve():t.put({targetId:0,path:Ti(_),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ue.waitFor(u))})}Gs(e,t){e.createObjectStore("collectionParents",{keyPath:Gv});const r=t.store("collectionParents"),o=new vA,u=d=>{if(o.add(d)){const m=d.lastSegment(),_=d.popLast();return r.put({collectionId:m,parent:Ti(_)})}};return t.store("remoteDocuments").Z({Y:!0},(d,m)=>{const _=new un(d);return u(_.popLast())}).next(()=>t.store("documentMutations").Z({Y:!0},([d,m,_],C)=>{const T=Ba(m);return u(T.popLast())}))}Qs(e){const t=e.store("targets");return t.Z((r,o)=>{const u=m_(o),d=WM(this.serializer,u);return t.put(d)})}zs(e,t){const r=t.store("remoteDocuments"),o=[];return r.Z((u,d)=>{const m=t.store("remoteDocumentsV14"),_=(C=d,C.document?new Ke(un.fromString(C.document.name).popFirst(5)):C.noDocument?Ke.fromSegments(C.noDocument.path):C.unknownDocument?Ke.fromSegments(C.unknownDocument.path):at()).path.toArray();var C;const T={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(m.put(T))}).next(()=>ue.waitFor(o))}js(e,t){const r=t.store("mutations"),o=fx(this.serializer),u=new vx(Ob.Fs,this.serializer.se);return r.j().next(d=>{const m=new Map;return d.forEach(_=>{var C;let T=null!==(C=m.get(_.userId))&&void 0!==C?C:J();Uf(this.serializer,_).keys().forEach(N=>T=T.add(N)),m.set(_.userId,T)}),ue.forEach(m,(_,C)=>{const T=new wr(C),N=Cb.ie(this.serializer,T),G=u.getIndexManager(T),ee=Mb.ie(T,this.serializer,G,u.referenceDelegate);return new yx(o,ee,N,G).recalculateAndSaveOverlaysForDocumentKeys(new $g(t,Rs.ct),_).next()})})}}function _x(n){n.createObjectStore("targetDocuments",{keyPath:so}).createIndex("documentTargetsIndex",kD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",gM,{unique:!0}),n.createObjectStore("targetGlobal")}const wA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class IA{constructor(e,t,r,o,u,d,m,_,C,T,N=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ws=u,this.window=d,this.document=m,this.Hs=C,this.Js=T,this.Ys=N,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=G=>Promise.resolve(),!IA.D())throw new Me(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vP(this,o),this.si=t+"main",this.serializer=new ZM(_),this.ii=new Ho(this.si,this.Ys,new MP(this.serializer)),this.Ds=new pP(this.referenceDelegate,this.serializer),this.remoteDocumentCache=fx(this.serializer),this.xs=new sP,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===T&&ur("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(le.FAILED_PRECONDITION,wA);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ds.getHighestSequenceNumber(e))}).then(e=>{this.Vs=new Rs(e,this.Hs)}).then(()=>{this.Ss=!0}).catch(e=>(this.ii&&this.ii.close(),Promise.reject(e)))}hi(e){var t=this;return this.ni=function(){var r=(0,ye.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ii.B(function(){var t=(0,ye.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.oi())})))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Pb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(e).next(t=>{t||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(e)).next(t=>this.isPrimary&&!t?this.di(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Ua(e))return Ne("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ws.enqueueRetryable(()=>this.ni(e)),this.isPrimary=e})}li(e){return b_(e).get("owner").next(t=>ue.resolve(this._i(t)))}mi(e){return Pb(e).delete(this.clientId)}gi(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.yi(e.ei,18e5)){e.ei=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Gr(r,"clientMetadata");return o.j().next(u=>{const d=e.pi(u,18e5),m=u.filter(_=>-1===d.indexOf(_));return ue.forEach(m,_=>o.delete(_.clientId)).next(()=>m)})}).catch(()=>[]);if(e.ri)for(const r of t)e.ri.removeItem(e.Ii(r.clientId))}})()}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(e){return!!e&&e.ownerId===this.clientId}fi(e){return this.Js?ue.resolve(!0):b_(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)){if(this._i(t)&&this.networkEnabled)return!0;if(!this._i(t)){if(!t.allowTabSynchronization)throw new Me(le.FAILED_PRECONDITION,wA);return!1}}return!(!this.networkEnabled||!this.inForeground)||Pb(e).j().next(r=>void 0===this.pi(r,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ne("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.Ss=!1,e.Ei(),e.ti&&(e.ti.cancel(),e.ti=null),e.Ai(),e.Ri(),yield e.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new $g(t,Rs.ct);return e.di(r).next(()=>e.mi(r))}),e.ii.close(),e.vi()})()}pi(e,t){return e.filter(r=>this.yi(r.updateTimeMs,t)&&!this.Ti(r.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",e=>Pb(e).j().next(t=>this.pi(t,18e5).map(r=>r.clientId)))}get started(){return this.Ss}getMutationQueue(e,t){return Mb.ie(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new fP(e,this.serializer.se.databaseId)}getDocumentOverlayCache(e){return Cb.ie(this.serializer,e)}getBundleCache(){return this.xs}runTransaction(e,t,r){Ne("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=15===(d=this.Ys)?ib:14===d?rb:13===d?qv:12===d?nb:11===d?jg:void at();var d;let m;return this.ii.runTransaction(e,o,u,_=>(m=new $g(_,this.Vs?this.Vs.next():Rs.ct),"readwrite-primary"===t?this.li(m).next(C=>!!C||this.fi(m)).next(C=>{if(!C)throw ur(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new Me(le.FAILED_PRECONDITION,xD);return r(m)}).next(C=>this.wi(m).next(()=>C)):this.Pi(m).next(()=>r(m)))).then(_=>(m.raiseOnCommittedEvent(),_))}Pi(e){return b_(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)&&!this._i(t)&&!(this.Js||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Me(le.FAILED_PRECONDITION,wA)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return b_(e).put("owner",t)}static D(){return Ho.D()}di(e){const t=b_(e);return t.get("owner").next(r=>this._i(r)?(Ne("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ue.resolve())}yi(e,t){const r=Date.now();return!(e<r-t||e>r&&(ur(`Detected an update time that is in the future: ${e} > ${r}`),1))}ui(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ei();const t=/(?:Version|Mobile)\/1[456]/;(0,dn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(e){var t;try{const r=null!==(null===(t=this.ri)||void 0===t?void 0:t.getItem(this.Ii(e)));return Ne("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ur("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(e){ur("Failed to set zombie client id.",e)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch{}}Ii(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function b_(n){return Gr(n,"owner")}function Pb(n){return Gr(n,"clientMetadata")}function bA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class EA{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Vi=r,this.Si=o}static Di(e,t){let r=J(),o=J();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new EA(e,t.fromCache,r,o)}}class wx{constructor(){this.Ci=!1}initialize(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ni(e,t).next(u=>u||this.ki(e,t,o,r)).next(u=>u||this.Oi(e,t))}Ni(e,t){if(pb(t))return ue.resolve(null);let r=Si(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=u_(t,null,"F"),r=Si(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=J(...u);return this.xi.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(_=>{const C=this.$i(t,m);return this.Mi(t,C,d,_.readTime)?this.Ni(e,u_(t,null,"F")):this.Fi(e,C,t,_)}))})))}ki(e,t,r,o){return pb(t)||o.isEqual(_t.min())?this.Oi(e,t):this.xi.getDocuments(e,r).next(u=>{const d=this.$i(t,u);return this.Mi(t,d,r,o)?this.Oi(e,t):(Af()<=Mu.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),vb(t)),this.Fi(e,d,t,zv(o,-1)))})}$i(e,t){let r=new _n(s(e));return t.forEach((o,u)=>{Yg(e,u)&&(r=r.add(u))}),r}Mi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Oi(e,t){return Af()<=Mu.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",vb(t)),this.xi.getDocumentsMatchingQuery(e,t,Ps.min())}Fi(e,t,r,o){return this.xi.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class xP{constructor(e,t,r,o){this.persistence=e,this.Bi=t,this.serializer=o,this.Li=new vn($t),this.qi=new l(u=>Vd(u),Ud),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(r)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yx(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Li))}}function Ix(n,e,t,r){return new xP(n,e,t,r)}function bx(n,e){return CA.apply(this,arguments)}function CA(){return CA=(0,ye.Z)(function*(n,e){const t=Ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.Gi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],m=[];let _=J();for(const C of o){d.push(C.batchId);for(const T of C.mutations)_=_.add(T.key)}for(const C of u){m.push(C.batchId);for(const T of C.mutations)_=_.add(T.key)}return t.localDocuments.getDocuments(r,_).next(C=>({Qi:C,removedBatchIds:d,addedBatchIds:m}))})})}),CA.apply(this,arguments)}function Ex(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ds.getLastRemoteSnapshotVersion(t))}function Cx(n,e,t){let r=J(),o=J();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let d=f();return t.forEach((m,_)=>{const C=u.get(m);_.isFoundDocument()!==C.isFoundDocument()&&(o=o.add(m)),_.isNoDocument()&&_.version.isEqual(_t.min())?(e.removeEntry(m,_.readTime),d=d.insert(m,_)):!C.isValidDocument()||_.version.compareTo(C.version)>0||0===_.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(_),d=d.insert(m,_)):Ne("LocalStore","Ignoring outdated watch update for ",m,". Current version:",C.version," Watch version:",_.version)}),{zi:d,ji:o}})}function RP(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function sm(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Ds.getTargetData(r,e).next(u=>u?(o=u,ue.resolve(o)):t.Ds.allocateTargetId(r).next(d=>(o=new zd(e,d,0,r.currentSequenceNumber),t.Ds.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Li.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Li=t.Li.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function om(n,e,t){return DA.apply(this,arguments)}function DA(){return DA=(0,ye.Z)(function*(n,e,t){const r=Ze(n),o=r.Li.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Ua(d))throw d;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Li=r.Li.remove(e),r.qi.delete(o.target)}),DA.apply(this,arguments)}function Rb(n,e,t){const r=Ze(n);let o=_t.min(),u=J();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,_,C){const T=Ze(m),N=T.qi.get(C);return void 0!==N?ue.resolve(T.Li.get(N)):T.Ds.getTargetData(_,C)}(r,d,Si(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(d,m.targetId).next(_=>{u=_})}).next(()=>r.Bi.getDocumentsMatchingQuery(d,e,t?o:_t.min(),t?u:J())).next(m=>(Tx(r,i(e),m),{documents:m,Wi:u})))}function Dx(n,e){const t=Ze(n),r=Ze(t.Ds),o=t.Li.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.ne(u,e).next(d=>d?d.target:null))}function Ax(n,e){const t=Ze(n),r=t.Ui.get(e)||_t.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Ki.getAllFromCollectionGroup(o,e,zv(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(Tx(t,e,o),o))}function Tx(n,e,t){let r=n.Ui.get(e)||_t.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ui.set(e,r)}function AA(){return AA=(0,ye.Z)(function*(n,e,t,r){const o=Ze(n);let u=J(),d=f();for(const C of t){const T=e.Hi(C.metadata.name);C.document&&(u=u.add(T));const N=e.Ji(C);N.setReadTime(e.Yi(C.metadata.readTime)),d=d.insert(T,N)}const m=o.Ki.newChangeBuffer({trackRemovals:!0}),_=yield sm(o,(C=r,Si(jd(un.fromString(`__bundle__/docs/${C}`)))));var C;return o.persistence.runTransaction("Apply bundle documents","readwrite",C=>Cx(C,m,d).next(T=>(m.apply(C),T)).next(T=>o.Ds.removeMatchingKeysForTargetId(C,_.targetId).next(()=>o.Ds.addMatchingKeys(C,u,_.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(C,T.zi,T.ji)).next(()=>T.zi)))}),AA.apply(this,arguments)}function kP(n,e){return TA.apply(this,arguments)}function TA(){return TA=(0,ye.Z)(function*(n,e,t=J()){const r=yield sm(n,Si(hA(e.bundledQuery))),o=Ze(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const d=Nr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o.xs.saveNamedQuery(u,e);const m=r.withResumeToken(Rr.EMPTY_BYTE_STRING,d);return o.Li=o.Li.insert(m.targetId,m),o.Ds.updateTargetData(u,m).next(()=>o.Ds.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.Ds.addMatchingKeys(u,t,r.targetId)).next(()=>o.xs.saveNamedQuery(u,e))})}),TA.apply(this,arguments)}function Sx(n,e){return`firestore_clients_${n}_${e}`}function Mx(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function SA(n,e){return`firestore_targets_${n}_${e}`}class Nb{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Zi(e,t,r){const o=JSON.parse(r);let u,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new Me(o.error.code,o.error.message))),d?new Nb(e,t,o.state,u):(ur("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class E_{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Me(r.error.code,r.error.message))),u?new E_(e,r.state,o):(ur("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class kb{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=qe();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=xf(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return o?new kb(e,u):(ur("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class MA{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new MA(t.clientId,t.onlineState):(ur("SharedClientState",`Failed to parse online state: ${e}`),null)}}class xA{constructor(){this.activeTargetIds=qe()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OA{constructor(e,t,r,o,u){this.window=e,this.Ws=t,this.persistenceKey=r,this.nr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new vn($t),this.started=!1,this.ur=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.cr=Sx(this.persistenceKey,this.nr),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.rr=this.rr.insert(this.nr,new xA),this.hr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this._r=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.bi();for(const o of t){if(o===e.nr)continue;const u=e.getItem(Sx(e.persistenceKey,o));if(u){const d=kb.Zi(o,u);d&&(e.rr=e.rr.insert(d.clientId,d))}}e.mr();const r=e.storage.getItem(e.wr);if(r){const o=e.gr(r);o&&e.yr(o)}for(const o of e.ur)e.ir(o);e.ur=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(e){let t=!1;return this.rr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ir(e,"pending")}updateMutationState(e,t,r){this.Ir(e,t,r),this.Tr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(SA(this.persistenceKey,e));if(r){const o=E_.Zi(e,r);o&&(t=o.state)}}return this.Er.tr(e),this.mr(),t}removeLocalQueryTarget(e){this.Er.er(e),this.mr()}isLocalQueryTarget(e){return this.Er.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(SA(this.persistenceKey,e))}updateQueryState(e,t,r){this.Ar(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Tr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Rr(e)}notifyBundleLoaded(e){this.vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ne("SharedClientState","READ",e,t),t}setItem(e,t){Ne("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ne("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ir(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ne("SharedClientState","EVENT",r.key,r.newValue),r.key===this.cr)return void ur("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==r.key)if(t.hr.test(r.key)){if(null==r.newValue){const o=t.br(r.key);return t.Pr(o,null)}{const o=t.Vr(r.key,r.newValue);if(o)return t.Pr(o.clientId,o)}}else if(t.lr.test(r.key)){if(null!==r.newValue){const o=t.Sr(r.key,r.newValue);if(o)return t.Dr(o)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const o=t.Cr(r.key,r.newValue);if(o)return t.Nr(o)}}else if(r.key===t.wr){if(null!==r.newValue){const o=t.gr(r.newValue);if(o)return t.yr(o)}}else if(r.key===t.ar){const o=function(u){let d=Rs.ct;if(null!=u)try{const m=JSON.parse(u);gt("number"==typeof m),d=m}catch(m){ur("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);o!==Rs.ct&&t.sequenceNumberHandler(o)}else if(r.key===t._r){const o=t.kr(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Or(u)))}}else t.ur.push(r)}))}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(e,t,r){const o=new Nb(this.currentUser,e,t,r),u=Mx(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Xi())}Tr(e){const t=Mx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Rr(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.nr,onlineState:e}))}Ar(e,t,r){const o=SA(this.persistenceKey,e),u=new E_(e,t,r);this.setItem(o,u.Xi())}vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}br(e){const t=this.hr.exec(e);return t?t[1]:null}Vr(e,t){const r=this.br(e);return kb.Zi(r,t)}Sr(e,t){const r=this.lr.exec(e),o=Number(r[1]);return Nb.Zi(new wr(void 0!==r[2]?r[2]:null),o,t)}Cr(e,t){const r=this.dr.exec(e),o=Number(r[1]);return E_.Zi(o,t)}gr(e){return MA.Zi(e)}kr(e){return JSON.parse(e)}Dr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Ne("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Nr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}Pr(e,t){const r=t?this.rr.insert(e,t):this.rr.remove(e),o=this.pr(this.rr),u=this.pr(r),d=[],m=[];return u.forEach(_=>{o.has(_)||d.push(_)}),o.forEach(_=>{u.has(_)||m.push(_)}),this.syncEngine.Fr(d,m).then(()=>{this.rr=r})}yr(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}pr(e){let t=qe();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class xx{constructor(){this.Br=new xA,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,t,r){this.Lr[e]=t}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new xA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class FP{qr(e){}shutdown(){}}class Ox{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Fb=null;function PA(){return null===Fb?Fb=268435456+Math.round(2147483648*Math.random()):Fb++,"0x"+Fb.toString(16)}const LP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VP{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}const Hi="WebChannelConnection";class UP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.ro=(e.ssl?"https":"http")+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,t,r,o,u){const d=PA(),m=this.ao(e,t);Ne("RestConnection",`Sending RPC '${e}' ${d}:`,m,r);const _={};return this.ho(_,o,u),this.lo(e,m,_,r).then(C=>(Ne("RestConnection",`Received RPC '${e}' ${d}: `,C),C),C=>{throw $o("RestConnection",`RPC '${e}' ${d} failed with error: `,C,"url: ",m,"request:",r),C})}fo(e,t,r,o,u,d){return this.co(e,t,r,o,u)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+jo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}ao(e,t){return`${this.ro}/v1/${t}:${LP[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,o){const u=PA();return new Promise((d,m)=>{const _=new dM;_.setWithCredentials(!0),_.listenOnce(Ai.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Vv.NO_ERROR:const T=_.getResponseJson();Ne(Hi,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),d(T);break;case Vv.TIMEOUT:Ne(Hi,`RPC '${e}' ${u} timed out`),m(new Me(le.DEADLINE_EXCEEDED,"Request time out"));break;case Vv.HTTP_ERROR:const N=_.getStatus();if(Ne(Hi,`RPC '${e}' ${u} failed with status:`,N,"response text:",_.getResponseText()),N>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const ee=G?.error;if(ee&&ee.status&&ee.message){const me=function(Fe){const He=Fe.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(He)>=0?He:le.UNKNOWN}(ee.status);m(new Me(me,ee.message))}else m(new Me(le.UNKNOWN,"Server responded with status "+_.getStatus()))}else m(new Me(le.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Ne(Hi,`RPC '${e}' ${u} completed.`)}});const C=JSON.stringify(o);Ne(Hi,`RPC '${e}' ${u} sending request:`,o),_.send(t,"POST",C,r,15)})}wo(e,t,r){const o=PA(),u=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=wD(),m=BI(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new ID({})),this.ho(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const C=u.join("");Ne(Hi,`Creating RPC '${e}' stream ${o}: ${C}`,_);const T=d.createWebChannel(C,_);let N=!1,G=!1;const ee=new VP({Wr:Fe=>{G?Ne(Hi,`Not sending because RPC '${e}' stream ${o} is closed:`,Fe):(N||(Ne(Hi,`Opening RPC '${e}' stream ${o} transport.`),T.open(),N=!0),Ne(Hi,`RPC '${e}' stream ${o} sending:`,Fe),T.send(Fe))},Hr:()=>T.close()}),me=(Fe,He,Lt)=>{Fe.listen(He,Qt=>{try{Lt(Qt)}catch(Nt){setTimeout(()=>{throw Nt},0)}})};return me(T,Uv.EventType.OPEN,()=>{G||Ne(Hi,`RPC '${e}' stream ${o} transport opened.`)}),me(T,Uv.EventType.CLOSE,()=>{G||(G=!0,Ne(Hi,`RPC '${e}' stream ${o} transport closed`),ee.so())}),me(T,Uv.EventType.ERROR,Fe=>{G||(G=!0,$o(Hi,`RPC '${e}' stream ${o} transport errored:`,Fe),ee.so(new Me(le.UNAVAILABLE,"The operation could not be completed")))}),me(T,Uv.EventType.MESSAGE,Fe=>{var He;if(!G){const Lt=Fe.data[0];gt(!!Lt);const Nt=Lt.error||(null===(He=Lt[0])||void 0===He?void 0:He.error);if(Nt){Ne(Hi,`RPC '${e}' stream ${o} received error:`,Nt);const Jt=Nt.status;let en=function(gs){const Jd=Wr[gs];if(void 0!==Jd)return MM(Jd)}(Jt),pn=Nt.message;void 0===en&&(en=le.INTERNAL,pn="Unknown error status: "+Jt+" with message "+Nt.message),G=!0,ee.so(new Me(en,pn)),T.close()}else Ne(Hi,`RPC '${e}' stream ${o} received:`,Lt),ee.io(Lt)}}),me(m,xd.STAT_EVENT,Fe=>{Fe.stat===jI.PROXY?Ne(Hi,`RPC '${e}' stream ${o} detected buffering proxy`):Fe.stat===jI.NOPROXY&&Ne(Hi,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{ee.no()},0),ee}}function Px(){return typeof window<"u"?window:null}function Lb(){return typeof document<"u"?document:null}function C_(n){return new WO(n,!0)}class RA{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Ws=e,this.timerId=t,this._o=r,this.mo=o,this.yo=u,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),o=Math.max(0,t-r);o>0&&Ne("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,o,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Rx{constructor(e,t,r,o,u,d,m,_){this.Ws=e,this.bo=r,this.Po=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=_,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new RA(e,t)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var e=this;return(0,ye.Z)(function*(){e.xo()&&(yield e.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}Mo(){var e=this;return(0,ye.Z)(function*(){if(e.No())return e.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(e,t){var r=this;return(0,ye.Z)(function*(){r.Bo(),r.Lo(),r.Co.cancel(),r.Vo++,4!==e?r.Co.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(ur(t.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),r.Co.Eo()):t&&t.code===le.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Vo===t&&this.Ko(r,o)},r=>{e(()=>{const o=new Me(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(o)})})}Ko(e,t){const r=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(o=>{r(()=>this.Go(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}ko(){var e=this;this.state=5,this.Co.Ao((0,ye.Z)(function*(){e.state=0,e.start()}))}Go(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Ws.enqueueAndForget(()=>this.Vo===e?t():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BP extends Rx{constructor(e,t,r,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.serializer=u}Qo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.Co.reset();const t=function QO(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:at(),o=e.targetChange.targetIds||[],u=function(_,C){return _.useProto3Json?(gt(void 0===C||"string"==typeof C),Rr.fromBase64String(C||"")):(gt(void 0===C||C instanceof Uint8Array),Rr.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(_){const C=void 0===_.code?le.UNKNOWN:MM(_.code);return new Me(C,_.message||"")}(d);t=new OM(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=Gu(n,r.document.name),u=Nr(r.document.updateTime),d=r.document.createTime?Nr(r.document.createTime):_t.min(),m=new qr({mapValue:{fields:r.document.fields}}),_=Rn.newFoundDocument(o,u,d,m);t=new bb(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,o=Gu(n,r.document),u=r.readTime?Nr(r.readTime):_t.min(),d=Rn.newNoDocument(o,u);t=new bb([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=Gu(n,r.document);t=new bb([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return at();{const r=e.filter,u=new HO(r.count||0);t=new xM(r.targetId,u)}}var _;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return _t.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?_t.min():u.readTime?Nr(u.readTime):_t.min()}(e);return this.listener.zo(t,r)}jo(e){const t={};t.database=p_(this.serializer),t.addTarget=function(o,u){let d;const m=u.target;return d=Bd(m)?{documents:jM(o,m)}:{query:dA(o,m)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=kM(o,u.resumeToken):u.snapshotVersion.compareTo(_t.min())>0&&(d.readTime=tm(o,u.snapshotVersion.toTimestamp())),d}(this.serializer,e);const r=function JO(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return at()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=p_(this.serializer),t.removeTarget=e,this.Fo(t)}}class jP extends Rx{constructor(e,t,r,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.serializer=u,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const t=function XO(n,e){return n&&n.length>0?(gt(void 0!==e),n.map(t=>function(r,o){let u=Nr(r.updateTime?r.updateTime:o);return u.isEqual(_t.min())&&(u=Nr(o)),new VO(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Nr(e.commitTime);return this.listener.Zo(r,t)}return gt(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=p_(this.serializer),this.Fo(e)}Yo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>g_(this.serializer,r))};this.Fo(t)}}class $P extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.eu=!1}nu(){if(this.eu)throw new Me(le.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.co(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(le.UNKNOWN,o.toString())})}fo(e,t,r,o){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.fo(e,t,r,u,d,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Me(le.UNKNOWN,u.toString())})}terminate(){this.eu=!0}}class zP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(ur(t),this.ru=!1):Ne("OnlineStateTracker",t)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class GP{constructor(e,t,r,o,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=u,this._u.qr(m=>{r.enqueueAndForget((0,ye.Z)(function*(){var _;uc(d)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ye.Z)(function*(C){const T=Ze(C);T.du.add(4),yield am(T),T.mu.set("Unknown"),T.du.delete(4),yield D_(T)}),function(C){return _.apply(this,arguments)})(d))}))}),this.mu=new zP(r,o)}}function D_(n){return kA.apply(this,arguments)}function kA(){return kA=(0,ye.Z)(function*(n){if(uc(n))for(const e of n.wu)yield e(!0)}),kA.apply(this,arguments)}function am(n){return FA.apply(this,arguments)}function FA(){return FA=(0,ye.Z)(function*(n){for(const e of n.wu)yield e(!1)}),FA.apply(this,arguments)}function Vb(n,e){const t=Ze(n);t.fu.has(e.targetId)||(t.fu.set(e.targetId,e),UA(t)?VA(t):lm(t).No()&&LA(t,e))}function A_(n,e){const t=Ze(n),r=lm(t);t.fu.delete(e),r.No()&&Nx(t,e),0===t.fu.size&&(r.No()?r.$o():uc(t)&&t.mu.set("Unknown"))}function LA(n,e){n.gu.Ot(e.targetId),lm(n).jo(e)}function Nx(n,e){n.gu.Ot(e),lm(n).Wo(e)}function VA(n){n.gu=new zO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.fu.get(e)||null}),lm(n).start(),n.mu.ou()}function UA(n){return uc(n)&&!lm(n).xo()&&n.fu.size>0}function uc(n){return 0===Ze(n).du.size}function kx(n){n.gu=void 0}function ZP(n){return BA.apply(this,arguments)}function BA(){return BA=(0,ye.Z)(function*(n){n.fu.forEach((e,t)=>{LA(n,e)})}),BA.apply(this,arguments)}function qP(n,e){return jA.apply(this,arguments)}function jA(){return jA=(0,ye.Z)(function*(n,e){kx(n),UA(n)?(n.mu.au(e),VA(n)):n.mu.set("Unknown")}),jA.apply(this,arguments)}function WP(n,e,t){return $A.apply(this,arguments)}function $A(){return $A=(0,ye.Z)(function*(n,e,t){if(n.mu.set("Online"),e instanceof OM&&2===e.state&&e.cause)try{yield(r=(0,ye.Z)(function*(o,u){const d=u.cause;for(const m of u.targetIds)o.fu.has(m)&&(yield o.remoteSyncer.rejectListen(m,d),o.fu.delete(m),o.gu.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ub(n,r)}else if(e instanceof bb?n.gu.Kt(e):e instanceof xM?n.gu.Jt(e):n.gu.zt(e),!t.isEqual(_t.min()))try{const r=yield Ex(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const d=o.gu.Xt(u);return d.targetChanges.forEach((m,_)=>{if(m.resumeToken.approximateByteSize()>0){const C=o.fu.get(_);C&&o.fu.set(_,C.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach(m=>{const _=o.fu.get(m);if(!_)return;o.fu.set(m,_.withResumeToken(Rr.EMPTY_BYTE_STRING,_.snapshotVersion)),Nx(o,m);const C=new zd(_.target,m,1,_.sequenceNumber);LA(o,C)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),yield Ub(n,r)}var r}),$A.apply(this,arguments)}function Ub(n,e,t){return HA.apply(this,arguments)}function HA(){return HA=(0,ye.Z)(function*(n,e,t){if(!Ua(e))throw e;n.du.add(1),yield am(n),n.mu.set("Offline"),t||(t=()=>Ex(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield t(),n.du.delete(1),yield D_(n)}))}),HA.apply(this,arguments)}function Fx(n,e){return e().catch(t=>Ub(n,t,e))}function um(n){return zA.apply(this,arguments)}function zA(){return zA=(0,ye.Z)(function*(n){const e=Ze(n),t=Wd(e);let r=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;KP(e);)try{const o=yield RP(e.localStore,r);if(null===o){0===e.lu.length&&t.$o();break}r=o.batchId,YP(e,o)}catch(o){yield Ub(e,o)}Lx(e)&&Vx(e)}),zA.apply(this,arguments)}function KP(n){return uc(n)&&n.lu.length<10}function YP(n,e){n.lu.push(e);const t=Wd(n);t.No()&&t.Jo&&t.Yo(e.mutations)}function Lx(n){return uc(n)&&!Wd(n).xo()&&n.lu.length>0}function Vx(n){Wd(n).start()}function QP(n){return GA.apply(this,arguments)}function GA(){return GA=(0,ye.Z)(function*(n){Wd(n).tu()}),GA.apply(this,arguments)}function XP(n){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,ye.Z)(function*(n){const e=Wd(n);for(const t of n.lu)e.Yo(t.mutations)}),ZA.apply(this,arguments)}function JP(n,e,t){return qA.apply(this,arguments)}function qA(){return qA=(0,ye.Z)(function*(n,e,t){const r=n.lu.shift(),o=iA.from(r,e,t);yield Fx(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield um(n)}),qA.apply(this,arguments)}function eR(n,e){return WA.apply(this,arguments)}function WA(){return WA=(0,ye.Z)(function*(n,e){var t;e&&Wd(n).Jo&&(yield(t=(0,ye.Z)(function*(r,o){if(SM(u=o.code)&&u!==le.ABORTED){const d=r.lu.shift();Wd(r).Oo(),yield Fx(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield um(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),Lx(n)&&Vx(n)}),WA.apply(this,arguments)}function Ux(n,e){return KA.apply(this,arguments)}function KA(){return KA=(0,ye.Z)(function*(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const r=uc(t);t.du.add(3),yield am(t),r&&t.mu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.du.delete(3),yield D_(t)}),KA.apply(this,arguments)}function YA(n,e){return QA.apply(this,arguments)}function QA(){return QA=(0,ye.Z)(function*(n,e){const t=Ze(n);e?(t.du.delete(2),yield D_(t)):e||(t.du.add(2),yield am(t),t.mu.set("Unknown"))}),QA.apply(this,arguments)}function lm(n){return n.yu||(n.yu=function(e,t,r){const o=Ze(e);return o.nu(),new BP(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Jr:ZP.bind(null,n),Zr:qP.bind(null,n),zo:WP.bind(null,n)}),n.wu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.yu.Oo(),UA(n)?VA(n):n.mu.set("Unknown")):(yield n.yu.stop(),kx(n))});return function(t){return e.apply(this,arguments)}}())),n.yu}function Wd(n){return n.pu||(n.pu=function(e,t,r){const o=Ze(e);return o.nu(),new jP(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Jr:QP.bind(null,n),Zr:eR.bind(null,n),Xo:XP.bind(null,n),Zo:JP.bind(null,n)}),n.wu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.pu.Oo(),yield um(n)):(yield n.pu.stop(),n.lu.length>0&&(Ne("RemoteStore",`Stopping write stream with ${n.lu.length} pending writes`),n.lu=[]))});return function(t){return e.apply(this,arguments)}}())),n.pu}class XA{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,u){const d=Date.now()+r,m=new XA(e,t,d,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cm(n,e){if(ur("AsyncQueue",`${e}: ${n}`),Ua(n))return new Me(le.UNAVAILABLE,`${e}: ${n}`);throw n}class dm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ke.comparator(t.key,r.key):(t,r)=>Ke.comparator(t.key,r.key),this.keyedMap=I(),this.sortedSet=new vn(this.comparator)}static emptySet(e){return new dm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof dm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new dm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Bx{constructor(){this.Iu=new vn(Ke.comparator)}track(e){const t=e.doc.key,r=this.Iu.get(t);r?0!==e.type&&3===r.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==r.type?this.Iu=this.Iu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Iu=this.Iu.remove(t):1===e.type&&2===r.type?this.Iu=this.Iu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):at():this.Iu=this.Iu.insert(t,e)}Tu(){const e=[];return this.Iu.inorderTraversal((t,r)=>{e.push(r)}),e}}class hm{constructor(e,t,r,o,u,d,m,_,C){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=_,this.hasCachedResults=C}static fromInitialDocuments(e,t,r,o,u){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new hm(e,t,dm.emptySet(t),d,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class tR{constructor(){this.Eu=void 0,this.listeners=[]}}class nR{constructor(){this.queries=new l(e=>eA(e),Kg),this.onlineState="Unknown",this.Au=new Set}}function JA(n,e){return eT.apply(this,arguments)}function eT(){return eT=(0,ye.Z)(function*(n,e){const t=Ze(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new tR),o)try{u.Eu=yield t.onListen(r)}catch(d){const m=cm(d,`Initialization of query '${vb(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Ru(t.onlineState),u.Eu&&e.vu(u.Eu)&&rT(t)}),eT.apply(this,arguments)}function tT(n,e){return nT.apply(this,arguments)}function nT(){return nT=(0,ye.Z)(function*(n,e){const t=Ze(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),nT.apply(this,arguments)}function rR(n,e){const t=Ze(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const m of d.listeners)m.vu(o)&&(r=!0);d.Eu=o}}r&&rT(t)}function iR(n,e,t){const r=Ze(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function rT(n){n.Au.forEach(e=>{e.next()})}class iT{constructor(e,t,r){this.query=e,this.bu=t,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new hm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),t=!0):this.Du(e,this.onlineState)&&(this.Cu(e),t=!0),this.Vu=e,t}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}Du(e,t){return!e.fromCache||(!this.options.xu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Su(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(e){e=hm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}class sR{constructor(e,t){this.Nu=e,this.byteLength=t}ku(){return"metadata"in this.Nu}}class jx{constructor(e){this.serializer=e}Hi(e){return Gu(this.serializer,e)}Ji(e){return e.metadata.exists?BM(this.serializer,e.document,!1):Rn.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}Yi(e){return Nr(e)}}class oR{constructor(e,t,r){this.Ou=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$x(e)}$u(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++t;const r=un.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,r=new jx(this.serializer);for(const o of e)if(o.metadata.queries){const u=r.Hi(o.metadata.name);for(const d of o.metadata.queries){const m=(t.get(d)||J()).add(u);t.set(d,m)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function NP(n,e,t,r){return AA.apply(this,arguments)}(e.localStore,new jx(e.serializer),e.documents,e.Ou.id),r=e.Mu(e.documents);for(const o of e.queries)yield kP(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Fu:e.collectionGroups,Bu:t}})()}}function $x(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Hx{constructor(e){this.key=e}}class zx{constructor(e){this.key=e}}class Gx{constructor(e,t){this.query=e,this.Lu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=J(),this.mutatedKeys=J(),this.Ku=s(e),this.Gu=new dm(this.Ku)}get Qu(){return this.Lu}zu(e,t){const r=t?t.ju:new Bx,o=t?t.Gu:this.Gu;let u=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const _="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,C="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,N)=>{const G=o.get(T),ee=Yg(this.query,N)?N:null,me=!!G&&this.mutatedKeys.has(G.key),Fe=!!ee&&(ee.hasLocalMutations||this.mutatedKeys.has(ee.key)&&ee.hasCommittedMutations);let He=!1;G&&ee?G.data.isEqual(ee.data)?me!==Fe&&(r.track({type:3,doc:ee}),He=!0):this.Wu(G,ee)||(r.track({type:2,doc:ee}),He=!0,(_&&this.Ku(ee,_)>0||C&&this.Ku(ee,C)<0)&&(m=!0)):!G&&ee?(r.track({type:0,doc:ee}),He=!0):G&&!ee&&(r.track({type:1,doc:G}),He=!0,(_||C)&&(m=!0)),He&&(ee?(d=d.add(ee),u=Fe?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const T="F"===this.query.limitType?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{Gu:d,ju:r,Mi:m,mutatedKeys:u}}Wu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const u=e.ju.Tu();u.sort((C,T)=>function(N,G){const ee=me=>{switch(me){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return ee(N)-ee(G)}(C.type,T.type)||this.Ku(C.doc,T.doc)),this.Hu(r);const d=t?this.Ju():[],m=0===this.Uu.size&&this.current?1:0,_=m!==this.qu;return this.qu=m,0!==u.length||_?{snapshot:new hm(this.query,e.Gu,o,u,e.mutatedKeys,0===m,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:d}:{Yu:d}}Ru(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new Bx,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=J(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const t=[];return e.forEach(r=>{this.Uu.has(r)||t.push(new zx(r))}),this.Uu.forEach(r=>{e.has(r)||t.push(new Hx(r))}),t}Xu(e){this.Lu=e.Wi,this.Uu=J();const t=this.zu(e.documents);return this.applyChanges(t,!0)}tc(){return hm.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class aR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class uR{constructor(e){this.key=e,this.ec=!1}}class lR{constructor(e,t,r,o,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.nc={},this.sc=new l(m=>eA(m),Kg),this.ic=new Map,this.rc=new Set,this.oc=new vn(Ke.comparator),this.uc=new Map,this.cc=new _A,this.ac={},this.hc=new Map,this.lc=$f.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function cR(n,e){return sT.apply(this,arguments)}function sT(){return sT=(0,ye.Z)(function*(n,e){const t=ST(n);let r,o;const u=t.sc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.tc();else{const d=yield sm(t.localStore,Si(e));t.isPrimaryClient&&Vb(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield oT(t,e,r,"current"===m,d.resumeToken)}return o}),sT.apply(this,arguments)}function oT(n,e,t,r,o){return aT.apply(this,arguments)}function aT(){return aT=(0,ye.Z)(function*(n,e,t,r,o){n.dc=(N,G,ee)=>{return(me=(0,ye.Z)(function*(Fe,He,Lt,Qt){let Nt=He.view.zu(Lt);Nt.Mi&&(Nt=yield Rb(Fe.localStore,He.query,!1).then(({documents:pn})=>He.view.zu(pn,Nt)));const Jt=Qt&&Qt.targetChanges.get(He.targetId),en=He.view.applyChanges(Nt,Fe.isPrimaryClient,Jt);return yT(Fe,He.targetId,en.Yu),en.snapshot}),function(Fe,He,Lt,Qt){return me.apply(this,arguments)})(n,N,G,ee);var me};const u=yield Rb(n.localStore,e,!0),d=new Gx(e,u.Wi),m=d.zu(u.documents),_=h_.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),C=d.applyChanges(m,n.isPrimaryClient,_);yT(n,t,C.Yu);const T=new aR(e,t,d);return n.sc.set(e,T),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),C.snapshot}),aT.apply(this,arguments)}function dR(n,e){return uT.apply(this,arguments)}function uT(){return uT=(0,ye.Z)(function*(n,e){const t=Ze(n),r=t.sc.get(e),o=t.ic.get(r.targetId);if(o.length>1)return t.ic.set(r.targetId,o.filter(u=>!Kg(u,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield om(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),A_(t.remoteStore,r.targetId),fm(t,r.targetId)}).catch(rc))):(fm(t,r.targetId),yield om(t.localStore,r.targetId,!0))}),uT.apply(this,arguments)}function lT(){return lT=(0,ye.Z)(function*(n,e,t){const r=MT(n);try{const o=yield function(u,d){const m=Ze(u),_=$n.now(),C=d.reduce((G,ee)=>G.add(ee.key),J());let T,N;return m.persistence.runTransaction("Locally write mutations","readwrite",G=>{let ee=f(),me=J();return m.Ki.getEntries(G,C).next(Fe=>{ee=Fe,ee.forEach((He,Lt)=>{Lt.isValidDocument()||(me=me.add(He))})}).next(()=>m.localDocuments.getOverlayedDocuments(G,ee)).next(Fe=>{T=Fe;const He=[];for(const Lt of d){const Qt=BO(Lt,T.get(Lt.key).overlayedDocument);null!=Qt&&He.push(new ac(Lt.key,Qt,Rf(Qt.value.mapValue),er.exists(!0)))}return m.mutationQueue.addMutationBatch(G,_,He,d)}).next(Fe=>{N=Fe;const He=Fe.applyToLocalDocumentSet(T,me);return m.documentOverlayCache.saveOverlays(G,Fe.batchId,He)})}).then(()=>({batchId:N.batchId,changes:b(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,m){let _=u.ac[u.currentUser.toKey()];_||(_=new vn($t)),_=_.insert(d,m),u.ac[u.currentUser.toKey()]=_}(r,o.batchId,t),yield lc(r,o.changes),yield um(r.remoteStore)}catch(o){const u=cm(o,"Failed to persist write");t.reject(u)}}),lT.apply(this,arguments)}function Zx(n,e){return cT.apply(this,arguments)}function cT(){return cT=(0,ye.Z)(function*(n,e){const t=Ze(n);try{const r=yield function PP(n,e){const t=Ze(n),r=e.snapshotVersion;let o=t.Li;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Ki.newChangeBuffer({trackRemovals:!0});o=t.Li;const m=[];e.targetChanges.forEach((T,N)=>{const G=o.get(N);if(!G)return;m.push(t.Ds.removeMatchingKeys(u,T.removedDocuments,N).next(()=>t.Ds.addMatchingKeys(u,T.addedDocuments,N)));let ee=G.withSequenceNumber(u.currentSequenceNumber);var me,Fe,He;e.targetMismatches.has(N)?ee=ee.withResumeToken(Rr.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):T.resumeToken.approximateByteSize()>0&&(ee=ee.withResumeToken(T.resumeToken,r)),o=o.insert(N,ee),Fe=ee,He=T,(0===(me=G).resumeToken.approximateByteSize()||Fe.snapshotVersion.toMicroseconds()-me.snapshotVersion.toMicroseconds()>=3e8||He.addedDocuments.size+He.modifiedDocuments.size+He.removedDocuments.size>0)&&m.push(t.Ds.updateTargetData(u,ee))});let _=f(),C=J();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(Cx(u,d,e.documentUpdates).next(T=>{_=T.zi,C=T.ji})),!r.isEqual(_t.min())){const T=t.Ds.getLastRemoteSnapshotVersion(u).next(N=>t.Ds.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(T)}return ue.waitFor(m).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,_,C)).next(()=>_)}).then(u=>(t.Li=o,u))}(t.localStore,e);e.targetChanges.forEach((o,u)=>{const d=t.uc.get(u);d&&(gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.ec=!0:o.modifiedDocuments.size>0?gt(d.ec):o.removedDocuments.size>0&&(gt(d.ec),d.ec=!1))}),yield lc(t,r,e)}catch(r){yield rc(r)}}),cT.apply(this,arguments)}function qx(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.sc.forEach((u,d)=>{const m=d.view.Ru(e);m.snapshot&&o.push(m.snapshot)}),function(u,d){const m=Ze(u);m.onlineState=d;let _=!1;m.queries.forEach((C,T)=>{for(const N of T.listeners)N.Ru(d)&&(_=!0)}),_&&rT(m)}(r.eventManager,e),o.length&&r.nc.zo(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function fR(n,e,t){return dT.apply(this,arguments)}function dT(){return dT=(0,ye.Z)(function*(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.uc.get(e),u=o&&o.key;if(u){let d=new vn(Ke.comparator);d=d.insert(u,Rn.newNoDocument(u,_t.min()));const m=J().add(u),_=new d_(_t.min(),new Map,new _n($t),d,m);yield Zx(r,_),r.oc=r.oc.remove(u),r.uc.delete(e),vT(r)}else yield om(r.localStore,e,!1).then(()=>fm(r,e,t)).catch(rc)}),dT.apply(this,arguments)}function pR(n,e){return hT.apply(this,arguments)}function hT(){return hT=(0,ye.Z)(function*(n,e){const t=Ze(n),r=e.batch.batchId;try{const o=yield function OP(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Ki.newChangeBuffer({trackRemovals:!0});return function(d,m,_,C){const T=_.batch,N=T.keys();let G=ue.resolve();return N.forEach(ee=>{G=G.next(()=>C.getEntry(m,ee)).next(me=>{const Fe=_.docVersions.get(ee);gt(null!==Fe),me.version.compareTo(Fe)<0&&(T.applyToRemoteDocument(me,_),me.isValidDocument()&&(me.setReadTime(_.commitVersion),C.addEntry(me)))})}),G.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=J();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(m=m.add(d.batch.mutations[_].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}(t.localStore,e);mT(t,r,null),gT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield lc(t,o)}catch(o){yield rc(o)}}),hT.apply(this,arguments)}function gR(n,e,t){return fT.apply(this,arguments)}function fT(){return fT=(0,ye.Z)(function*(n,e,t){const r=Ze(n);try{const o=yield function(u,d){const m=Ze(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let C;return m.mutationQueue.lookupMutationBatch(_,d).next(T=>(gt(null!==T),C=T.keys(),m.mutationQueue.removeMutationBatch(_,T))).next(()=>m.mutationQueue.performConsistencyCheck(_)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(_,C,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,C)).next(()=>m.localDocuments.getDocuments(_,C))})}(r.localStore,e);mT(r,e,t),gT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield lc(r,o)}catch(o){yield rc(o)}}),fT.apply(this,arguments)}function pT(){return pT=(0,ye.Z)(function*(n,e){const t=Ze(n);uc(t.remoteStore)||Ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=Ze(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.hc.get(r)||[];o.push(e),t.hc.set(r,o)}catch(r){const o=cm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),pT.apply(this,arguments)}function gT(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function mT(n,e,t){const r=Ze(n);let o=r.ac[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.ac[r.currentUser.toKey()]=o}}function fm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc.wc(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.hs(e).forEach(r=>{n.cc.containsKey(r)||Wx(n,r)})}function Wx(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(A_(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),vT(n))}function yT(n,e,t){for(const r of t)r instanceof Hx?(n.cc.addReference(r.key,e),yR(n,r)):r instanceof zx?(Ne("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||Wx(n,r.key)):at()}function yR(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(Ne("SyncEngine","New document in limbo: "+t),n.rc.add(r),vT(n))}function vT(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new Ke(un.fromString(e)),r=n.lc.next();n.uc.set(r,new uR(t)),n.oc=n.oc.insert(t,r),Vb(n.remoteStore,new zd(Si(jd(t.path)),r,2,Rs.ct))}}function lc(n,e,t){return _T.apply(this,arguments)}function _T(){return _T=(0,ye.Z)(function*(n,e,t){const r=Ze(n),o=[],u=[],d=[];var m;r.sc.isEmpty()||(r.sc.forEach((m,_)=>{d.push(r.dc(_,e,t).then(C=>{if((C||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,C?.fromCache?"not-current":"current"),C){o.push(C);const T=EA.Di(_.targetId,C);u.push(T)}}))}),yield Promise.all(d),r.nc.zo(o),yield(m=(0,ye.Z)(function*(_,C){const T=Ze(_);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>ue.forEach(C,G=>ue.forEach(G.Vi,ee=>T.persistence.referenceDelegate.addReference(N,G.targetId,ee)).next(()=>ue.forEach(G.Si,ee=>T.persistence.referenceDelegate.removeReference(N,G.targetId,ee)))))}catch(N){if(!Ua(N))throw N;Ne("LocalStore","Failed to update sequence numbers: "+N)}for(const N of C){const G=N.targetId;if(!N.fromCache){const ee=T.Li.get(G),Fe=ee.withLastLimboFreeSnapshotVersion(ee.snapshotVersion);T.Li=T.Li.insert(G,Fe)}}}),function(_,C){return m.apply(this,arguments)})(r.localStore,u))}),_T.apply(this,arguments)}function vR(n,e){return wT.apply(this,arguments)}function wT(){return wT=(0,ye.Z)(function*(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const r=yield bx(t.localStore,e);t.currentUser=e,(o=t).hc.forEach(d=>{d.forEach(m=>{m.reject(new Me(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield lc(t,r.Qi)}var o}),wT.apply(this,arguments)}function _R(n,e){const t=Ze(n),r=t.uc.get(e);if(r&&r.ec)return J().add(r.key);{let o=J();const u=t.ic.get(e);if(!u)return o;for(const d of u){const m=t.sc.get(d);o=o.unionWith(m.view.Qu)}return o}}function wR(n,e){return IT.apply(this,arguments)}function IT(){return IT=(0,ye.Z)(function*(n,e){const t=Ze(n),r=yield Rb(t.localStore,e.query,!0),o=e.view.Xu(r);return t.isPrimaryClient&&yT(t,e.targetId,o.Yu),o}),IT.apply(this,arguments)}function IR(n,e){return bT.apply(this,arguments)}function bT(){return bT=(0,ye.Z)(function*(n,e){const t=Ze(n);return Ax(t.localStore,e).then(r=>lc(t,r))}),bT.apply(this,arguments)}function bR(n,e,t,r){return ET.apply(this,arguments)}function ET(){return ET=(0,ye.Z)(function*(n,e,t,r){const o=Ze(n),u=yield function(d,m){const _=Ze(d),C=Ze(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",T=>C.In(T,m).next(N=>N?_.localDocuments.getDocuments(T,N):ue.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield um(o.remoteStore):"acknowledged"===t||"rejected"===t?(mT(o,e,r||null),gT(o,e),m=e,Ze(Ze(o.localStore).mutationQueue).En(m)):at(),yield lc(o,u)):Ne("SyncEngine","Cannot apply mutation batch with id: "+e)}),ET.apply(this,arguments)}function CT(){return CT=(0,ye.Z)(function*(n,e){const t=Ze(n);if(ST(t),MT(t),!0===e&&!0!==t.fc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield Kx(t,r.toArray());t.fc=!0,yield YA(t.remoteStore,!0);for(const u of o)Vb(t.remoteStore,u)}else if(!1===e&&!1!==t.fc){const r=[];let o=Promise.resolve();t.ic.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(fm(t,d),om(t.localStore,d,!0))),A_(t.remoteStore,d)}),yield o,yield Kx(t,r),function(u){const d=Ze(u);d.uc.forEach((m,_)=>{A_(d.remoteStore,_)}),d.cc.ls(),d.uc=new Map,d.oc=new vn(Ke.comparator)}(t),t.fc=!1,yield YA(t.remoteStore,!1)}}),CT.apply(this,arguments)}function Kx(n,e,t){return DT.apply(this,arguments)}function DT(){return DT=(0,ye.Z)(function*(n,e,t){const r=Ze(n),o=[],u=[];for(const d of e){let m;const _=r.ic.get(d);if(_&&0!==_.length){m=yield sm(r.localStore,Si(_[0]));for(const C of _){const T=r.sc.get(C),N=yield wR(r,T);N.snapshot&&u.push(N.snapshot)}}else{const C=yield Dx(r.localStore,d);m=yield sm(r.localStore,C),yield oT(r,Yx(C),d,!1,m.resumeToken)}o.push(m)}return r.nc.zo(u),o}),DT.apply(this,arguments)}function Yx(n){return fb(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function CR(n){const e=Ze(n);return Ze(Ze(e.localStore).persistence).bi()}function DR(n,e,t,r){return AT.apply(this,arguments)}function AT(){return AT=(0,ye.Z)(function*(n,e,t,r){const o=Ze(n);if(o.fc)return void Ne("SyncEngine","Ignoring unexpected query state notification.");const u=o.ic.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield Ax(o.localStore,i(u[0])),m=d_.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Rr.EMPTY_BYTE_STRING);yield lc(o,d,m);break}case"rejected":yield om(o.localStore,e,!0),fm(o,e,r);break;default:at()}}),AT.apply(this,arguments)}function AR(n,e,t){return TT.apply(this,arguments)}function TT(){return TT=(0,ye.Z)(function*(n,e,t){const r=ST(n);if(r.fc){for(const o of e){if(r.ic.has(o)){Ne("SyncEngine","Adding an already active target "+o);continue}const u=yield Dx(r.localStore,o),d=yield sm(r.localStore,u);yield oT(r,Yx(u),d.targetId,!1,d.resumeToken),Vb(r.remoteStore,d)}for(const o of t)r.ic.has(o)&&(yield om(r.localStore,o,!1).then(()=>{A_(r.remoteStore,o),fm(r,o)}).catch(rc))}}),TT.apply(this,arguments)}function ST(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_R.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fR.bind(null,e),e.nc.zo=rR.bind(null,e.eventManager),e.nc.wc=iR.bind(null,e.eventManager),e}function MT(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gR.bind(null,e),e}class Bb{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.serializer=C_(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Ix(this.persistence,new wx,e.initialUser,this.serializer)}createPersistence(e){return new vx(Ob.Fs,this.serializer)}createSharedClientState(e){return new xx}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class xT extends Bb{constructor(e,t,r){super(),this.mc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e),yield r.mc.initialize(r,e),yield MT(r.mc.syncEngine),yield um(r.mc.remoteStore),yield r.persistence.hi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Ix(this.persistence,new wx,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new mP(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new hM(t,this.persistence);return new PD(e.asyncQueue,r)}createPersistence(e){const t=bA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ks.withCacheSize(this.cacheSizeBytes):ks.DEFAULT;return new IA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Px(),Lb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new xx}}class Qx extends xT{constructor(e,t){super(e,t,!1),this.mc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e);const o=r.mc.syncEngine;r.sharedClientState instanceof OA&&(r.sharedClientState.syncEngine={$r:bR.bind(null,o),Mr:DR.bind(null,o),Fr:AR.bind(null,o),bi:CR.bind(null,o),Or:IR.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.hi(function(){var u=(0,ye.Z)(function*(d){yield function ER(n,e){return CT.apply(this,arguments)}(r.mc.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=Px();if(!OA.D(t))throw new Me(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=bA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new OA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class pm{initialize(e,t){var r=this;return(0,ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>qx(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=vR.bind(null,r.syncEngine),yield YA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new nR}createDatastore(e){const t=C_(e.databaseInfo.databaseId),r=new UP(e.databaseInfo);return new $P(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>qx(this.syncEngine,m,0),d=Ox.D()?new Ox:new FP,new GP(t,r,o,u,d);var t,r,o,u,d}createSyncEngine(e,t){return function(r,o,u,d,m,_,C){const T=new lR(r,o,u,d,m,_);return C&&(T.fc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const r=Ze(t);Ne("RemoteStore","RemoteStore shutting down."),r.du.add(5),yield am(r),r._u.shutdown(),r.mu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Xx(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class jb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class SR{constructor(e,t){this.Ic=e,this.serializer=t,this.metadata=new Ir,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(r=>{r&&r.ku()?this.metadata.resolve(r.Nu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Nu)}`))},r=>this.metadata.reject(r))}close(){return this.Ic.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}_c(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.Ec()})()}Ec(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Ac();if(null===t)return null;const r=e.Tc.decode(t),o=Number(r);isNaN(o)&&e.Rc(`length string (${r}) is not valid number`);const u=yield e.vc(o);return new sR(JSON.parse(u),t.length+o)})()}bc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ac(){var e=this;return(0,ye.Z)(function*(){for(;e.bc()<0&&!(yield e.Pc()););if(0===e.buffer.length)return null;const t=e.bc();t<0&&e.Rc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}vc(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.Pc())&&t.Rc("Reached the end of bundle when more is expected.");const r=t.Tc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Rc(e){throw this.Ic.cancel(),new Error(`Invalid bundle format: ${e}`)}Pc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Ic.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class MR{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Me(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,ye.Z)(function*(u,d){const m=Ze(u),_=p_(m.serializer)+"/documents",C={documents:d.map(ee=>f_(m.serializer,ee))},T=yield m.fo("BatchGetDocuments",_,C,d.length),N=new Map;T.forEach(ee=>{const me=function YO(n,e){return"found"in e?function(t,r){gt(!!r.found);const o=Gu(t,r.found.name),u=Nr(r.found.updateTime),d=r.found.createTime?Nr(r.found.createTime):_t.min(),m=new qr({mapValue:{fields:r.found.fields}});return Rn.newFoundDocument(o,u,d,m)}(n,e):"missing"in e?function(t,r){gt(!!r.missing),gt(!!r.readTime);const o=Gu(t,r.missing),u=Nr(r.readTime);return Rn.newNoDocument(o,u)}(n,e):at()}(m.serializer,ee);N.set(me.key.toString(),me)});const G=[];return d.forEach(ee=>{const me=N.get(ee.toString());gt(!!me),G.push(me)}),G}),function(u,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new em(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=Ke.fromPath(o);e.mutations.push(new nA(u,e.precondition(u)))}),yield(r=(0,ye.Z)(function*(o,u){const d=Ze(o),m=p_(d.serializer)+"/documents",_={writes:u.map(C=>g_(d.serializer,C))};yield d.co("Commit",m,_)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw at();t=_t.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Me(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(_t.min())?er.exists(!1):er.updateTime(t):er.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_t.min()))throw new Me(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return er.updateTime(t)}return er.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class xR{constructor(e,t,r,o,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=u,this.Vc=r.maxAttempts,this.Co=new RA(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){var e=this;this.Co.Ao((0,ye.Z)(function*(){const t=new MR(e.datastore),r=e.Dc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Cc(u)}))}).catch(o=>{e.Cc(o)})}))}Dc(e){try{const t=this.updateFunction(e);return!Sf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Cc(e){this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(e)}xc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!SM(t)}return!1}}class OR{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=wr.UNAUTHENTICATED,this.clientId=ZI.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,ye.Z)(function*(m){Ne("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Ne("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=cm(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function $b(n,e){return OT.apply(this,arguments)}function OT(){return OT=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,ye.Z)(function*(u){r.isEqual(u)||(yield bx(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),OT.apply(this,arguments)}function PT(n,e){return RT.apply(this,arguments)}function RT(){return RT=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield NT(n);Ne("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>Ux(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>Ux(e.remoteStore,u)),n._onlineComponents=e}),RT.apply(this,arguments)}function Jx(n){return"FirebaseError"===n.name?n.code===le.FAILED_PRECONDITION||n.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function NT(n){return kT.apply(this,arguments)}function kT(){return kT=(0,ye.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ne("FirestoreClient","Using user provided OfflineComponentProvider");try{yield $b(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Jx(t))throw t;$o("Error using user provided cache. Falling back to memory cache: "+t),yield $b(n,new Bb)}}else Ne("FirestoreClient","Using default OfflineComponentProvider"),yield $b(n,new Bb);return n._offlineComponents}),kT.apply(this,arguments)}function Hb(n){return FT.apply(this,arguments)}function FT(){return FT=(0,ye.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ne("FirestoreClient","Using user provided OnlineComponentProvider"),yield PT(n,n._uninitializedComponentsProvider._online)):(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield PT(n,new pm))),n._onlineComponents}),FT.apply(this,arguments)}function e1(n){return NT(n).then(e=>e.persistence)}function zb(n){return NT(n).then(e=>e.localStore)}function LT(n){return Hb(n).then(e=>e.remoteStore)}function VT(n){return Hb(n).then(e=>e.syncEngine)}function gm(n){return UT.apply(this,arguments)}function UT(){return UT=(0,ye.Z)(function*(n){const e=yield Hb(n),t=e.eventManager;return t.onListen=cR.bind(null,e.syncEngine),t.onUnlisten=dR.bind(null,e.syncEngine),t}),UT.apply(this,arguments)}function n1(n,e,t={}){const r=new Ir;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,u,d,m,_){const C=new jb({next:N=>{u.enqueueAndForget(()=>tT(o,T));const G=N.docs.has(d);!G&&N.fromCache?_.reject(new Me(le.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&N.fromCache&&m&&"server"===m.source?_.reject(new Me(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(N)},error:N=>_.reject(N)}),T=new iT(jd(d.path),C,{includeMetadataChanges:!0,xu:!0});return JA(o,T)}(yield gm(n),n.asyncQueue,e,t,r)})),r.promise}function r1(n,e,t={}){const r=new Ir;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,u,d,m,_){const C=new jb({next:N=>{u.enqueueAndForget(()=>tT(o,T)),N.fromCache&&"server"===m.source?_.reject(new Me(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(N)},error:N=>_.reject(N)}),T=new iT(d,C,{includeMetadataChanges:!0,xu:!0});return JA(o,T)}(yield gm(n),n.asyncQueue,e,t,r)})),r.promise}const i1=new Map;function BT(n,e,t){if(!t)throw new Me(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function s1(n,e,t,r){if(!0===e&&!0===r)throw new Me(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function o1(n){if(!Ke.isDocumentKey(n))throw new Me(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function a1(n){if(Ke.isDocumentKey(n))throw new Me(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Gb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":at()}function ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Gb(n);throw new Me(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function u1(n,e){if(e<=0)throw new Me(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class l1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,s1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class T_{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Me(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new zI;switch(t.type){case"firstParty":return new $v(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Me(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=i1.get(e);t&&(Ne("ComponentProvider","Removing Datastore"),i1.delete(e),t.terminate())}(this),Promise.resolve()}}function c1(n,e,t,r={}){var o;const u=(n=ln(n,T_))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&$o("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=wr.MOCK_USER;else{d=(0,dn.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Me(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new wr(_)}n._authCredentials=new Od(new HI(d,m))}}class Kn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kn(this.firestore,e,this._key)}}class Mi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mi(this.firestore,e,this._query)}}class Zu extends Mi{constructor(e,t,r){super(e,t,jd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kn(this.firestore,null,new Ke(e))}withConverter(e){return new Zu(this.firestore,e,this._path)}}function d1(n,e,...t){if(n=(0,dn.m9)(n),BT("collection","path",e),n instanceof T_){const r=un.fromString(e,...t);return a1(r),new Zu(n,null,r)}{if(!(n instanceof Kn||n instanceof Zu))throw new Me(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(un.fromString(e,...t));return a1(r),new Zu(n.firestore,null,r)}}function Zb(n,e,...t){if(n=(0,dn.m9)(n),1===arguments.length&&(e=ZI.A()),BT("doc","path",e),n instanceof T_){const r=un.fromString(e,...t);return o1(r),new Kn(n,null,new Ke(r))}{if(!(n instanceof Kn||n instanceof Zu))throw new Me(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(un.fromString(e,...t));return o1(r),new Kn(n.firestore,n instanceof Zu?n.converter:null,new Ke(r))}}function h1(n,e){return n=(0,dn.m9)(n),e=(0,dn.m9)(e),(n instanceof Kn||n instanceof Zu)&&(e instanceof Kn||e instanceof Zu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function jT(n,e){return n=(0,dn.m9)(n),e=(0,dn.m9)(e),n instanceof Mi&&e instanceof Mi&&n.firestore===e.firestore&&Kg(n._query,e._query)&&n.converter===e.converter}class jR{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new RA(this,"async_queue_retry"),this.qc=()=>{const t=Lb();t&&Ne("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const e=Lb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const t=Lb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const t=new Ir;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return(0,ye.Z)(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(t){if(!Ua(t))throw t;Ne("AsyncQueue","Operation failed with retryable error: "+t)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const t=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{throw this.Mc=r,this.Fc=!1,ur("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.Fc=!1,r))));return this.Nc=t,t}enqueueAfterDelay(e,t,r){this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);const o=XA.createAndSchedule(this,e,t,r,u=>this.Qc(u));return this.$c.push(o),o}Uc(){this.Mc&&at()}verifyOperationInProgress(){}zc(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.Nc,yield t}while(t!==e.Nc)})()}jc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function $T(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class $R{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ir,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Yn extends T_{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new jR,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||f1(this),this._firestoreClient.terminate()}}function zR(n,e){const t="object"==typeof n?n:(0,Lo.getApp)(),r="string"==typeof n?n:e||"(default)",o=(0,Lo._getProvider)(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=(0,dn.P0)("firestore");u&&c1(o,...u)}return o}function kr(n){return n._firestoreClient||f1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function f1(n){var e,t,r;const o=n._freezeSettings(),u=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Xv(n._databaseId,m,n._persistenceKey,(C=o).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,C.useFetchStreams));var m,C;n._firestoreClient=new OR(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=o.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=o.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}function p1(n,e,t){const r=new Ir;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield $b(n,t),yield PT(n,e),r.resolve()}catch(o){const u=o;if(!Jx(u))throw u;$o("Error enabling indexeddb cache. Falling back to memory cache: "+u),r.reject(u)}})).then(()=>r.promise)}function g1(n){if(n._initialized||n._terminated)throw new Me(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class qu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qu(Rr.fromBase64String(e))}catch(t){throw new Me(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qu(Rr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class cc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zf{constructor(e){this._methodName=e}}class qb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $t(this._lat,e._lat)||$t(this._long,e._long)}}const eN=/^__.*__$/;class tN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ac(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jg(e,this.data,t,this.fieldTransforms)}}class m1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ac(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function y1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class Wb{constructor(e,t,r,o,u,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===u&&this.Jc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new Wb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Zc({path:r,ta:!1});return o.ea(e),o}na(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Zc({path:r,ta:!1});return o.Jc(),o}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return Qb(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(y1(this.Yc)&&eN.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class nN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||C_(e)}ua(e,t,r,o=!1){return new Wb({Yc:e,methodName:t,oa:r,path:Wn.emptyPath(),ta:!1,ra:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gf(n){const e=n._freezeSettings(),t=C_(n._databaseId);return new nN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Kb(n,e,t,r,o,u={}){const d=n.ua(u.merge||u.mergeFields?2:0,e,t,o);ZT("Data must be an object, but it was:",d,r);const m=w1(r,d);let _,C;if(u.merge)_=new ds(d.fieldMask),C=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const N of u.mergeFields){const G=x_(e,N,t);if(!d.contains(G))throw new Me(le.INVALID_ARGUMENT,`Field '${G}' is specified in your field mask but missing from your input data.`);b1(T,G)||T.push(G)}_=new ds(T),C=d.fieldTransforms.filter(N=>_.covers(N.field))}else _=null,C=d.fieldTransforms;return new tN(new qr(m),_,C)}class M_ extends zf{_toFieldTransform(e){if(2!==e.Yc)throw e.ia(1===e.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof M_}}function v1(n,e,t){return new Wb({Yc:3,oa:e.settings.oa,methodName:n._methodName,ta:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class HT extends zf{_toFieldTransform(e){return new l_(e.path,new Qg)}isEqual(e){return e instanceof HT}}class rN extends zf{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=v1(this,e,!0),r=this.ca.map(u=>Zf(u,t)),o=new kf(r);return new l_(e.path,o)}isEqual(e){return this===e}}class iN extends zf{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=v1(this,e,!0),r=this.ca.map(u=>Zf(u,t)),o=new Ff(r);return new l_(e.path,o)}isEqual(e){return this===e}}class sN extends zf{constructor(e,t){super(e),this.aa=t}_toFieldTransform(e){const t=new Xg(e.serializer,Re(e.serializer,this.aa));return new l_(e.path,t)}isEqual(e){return this===e}}function zT(n,e,t,r){const o=n.ua(1,e,t);ZT("Data must be an object, but it was:",o,r);const u=[],d=qr.empty();sc(r,(_,C)=>{const T=Yb(e,_,t);C=(0,dn.m9)(C);const N=o.na(T);if(C instanceof M_)u.push(T);else{const G=Zf(C,N);null!=G&&(u.push(T),d.set(T,G))}});const m=new ds(u);return new m1(d,m,o.fieldTransforms)}function GT(n,e,t,r,o,u){const d=n.ua(1,e,t),m=[x_(e,r,t)],_=[o];if(u.length%2!=0)throw new Me(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let G=0;G<u.length;G+=2)m.push(x_(e,u[G])),_.push(u[G+1]);const C=[],T=qr.empty();for(let G=m.length-1;G>=0;--G)if(!b1(C,m[G])){const ee=m[G];let me=_[G];me=(0,dn.m9)(me);const Fe=d.na(ee);if(me instanceof M_)C.push(ee);else{const He=Zf(me,Fe);null!=He&&(C.push(ee),T.set(ee,He))}}const N=new ds(C);return new m1(T,N,d.fieldTransforms)}function _1(n,e,t,r=!1){return Zf(t,n.ua(r?4:3,e))}function Zf(n,e){if(I1(n=(0,dn.m9)(n)))return ZT("Unsupported field value:",e,n),w1(n,e);if(n instanceof zf)return function(t,r){if(!y1(r.Yc))throw r.ia(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const d of t){let m=Zf(d,r.sa(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,dn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Re(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=$n.fromDate(t);return{timestampValue:tm(r.serializer,o)}}if(t instanceof $n){const o=new $n(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:tm(r.serializer,o)}}if(t instanceof qb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof qu)return{bytesValue:kM(r.serializer,t._byteString)};if(t instanceof Kn){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.ia(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:uA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ia(`Unsupported field value: ${Gb(t)}`)}(n,e)}function w1(n,e){const t={};return Hg(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sc(n,(r,o)=>{const u=Zf(o,e.Xc(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function I1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof $n||n instanceof qb||n instanceof qu||n instanceof Kn||n instanceof zf)}function ZT(n,e,t){if(!I1(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Gb(t);throw e.ia("an object"===r?n+" a custom object":n+" "+r)}var r}function x_(n,e,t){if((e=(0,dn.m9)(e))instanceof cc)return e._internalPath;if("string"==typeof e)return Yb(n,e);throw Qb("Field path arguments must be of type string or ",n,!1,void 0,t)}const oN=new RegExp("[~\\*/\\[\\]]");function Yb(n,e,t){if(e.search(oN)>=0)throw Qb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new cc(...e.split("."))._internalPath}catch{throw Qb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Qb(n,e,t,r,o){const u=r&&!r.isEmpty(),d=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let _="";return(u||d)&&(_+=" (found",u&&(_+=` in field ${r}`),d&&(_+=` in document ${o}`),_+=")"),new Me(le.INVALID_ARGUMENT,m+n+_)}function b1(n,e){return n.some(t=>t.isEqual(e))}class O_{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Kn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new aN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class aN extends O_{data(){return super.data()}}function Xb(n,e){return"string"==typeof e?Yb(n,e):e instanceof cc?e._internalPath:e._delegate._internalPath}function E1(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Me(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qT{}class P_ extends qT{}function Kd(n,e,...t){let r=[];e instanceof qT&&r.push(e),r=r.concat(t),function(o){const u=o.filter(m=>m instanceof mm).length,d=o.filter(m=>m instanceof R_).length;if(u>1||u>0&&d>0)throw new Me(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class R_ extends P_{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new R_(e,t,r)}_apply(e){const t=this._parse(e);return T1(e._query,t),new Mi(e.firestore,e.converter,yb(e._query,t))}_parse(e){const t=Gf(e.firestore);return function(o,u,d,m,_,C,T){let N;if(_.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Me(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){A1(T,C);const G=[];for(const ee of T)G.push(D1(m,o,ee));N={arrayValue:{values:G}}}else N=D1(m,o,T)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||A1(T,C),N=_1(d,"where",T,"in"===C||"not-in"===C);return rn.create(_,C,N)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class mm extends qT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new mm(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:yn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let u=r;const d=o.getFlattenedFilters();for(const m of d)T1(u,m),u=yb(u,m)}(e._query,t),new Mi(e.firestore,e.converter,yb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class WT extends P_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new WT(e,t)}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Me(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Me(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new oc(o,u);return function(m,_){if(null===gb(m)){const C=a_(m);null!==C&&S1(0,C,_.field)}}(r,d),d}(e._query,this._field,this._direction);return new Mi(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new zu(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Jb extends P_{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Jb(e,t,r)}_apply(e){return new Mi(e.firestore,e.converter,u_(e._query,this._limit,this._limitType))}}class eE extends P_{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new eE(e,t,r)}_apply(e){const t=C1(e,this.type,this._docOrFields,this._inclusive);return new Mi(e.firestore,e.converter,(o=t,new zu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class tE extends P_{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new tE(e,t,r)}_apply(e){const t=C1(e,this.type,this._docOrFields,this._inclusive);return new Mi(e.firestore,e.converter,(o=t,new zu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function C1(n,e,t,r){if(t[0]=(0,dn.m9)(t[0]),t[0]instanceof O_)return function(o,u,d,m,_){if(!m)throw new Me(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const C=[];for(const T of $d(o))if(T.field.isKeyField())C.push(Fd(u,m.key));else{const N=m.data.field(T.field);if(Yv(N))throw new Me(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===N){const G=T.field.canonicalString();throw new Me(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${G}' (used as the orderBy) does not exist.`)}C.push(N)}return new ju(C,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Gf(n.firestore);return function(u,d,m,_,C,T){const N=u.explicitOrderBy;if(C.length>N.length)throw new Me(le.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const G=[];for(let ee=0;ee<C.length;ee++){const me=C[ee];if(N[ee].field.isKeyField()){if("string"!=typeof me)throw new Me(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof me}`);if(!mb(u)&&-1!==me.indexOf("/"))throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${me}' contains a slash.`);const Fe=u.path.child(un.fromString(me));if(!Ke.isDocumentKey(Fe))throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${Fe}' is not because it contains an odd number of segments.`);const He=new Ke(Fe);G.push(Fd(d,He))}else{const Fe=_1(m,_,me);G.push(Fe)}}return new ju(G,T)}(n._query,n.firestore._databaseId,o,e,t,r)}}function D1(n,e,t){if("string"==typeof(t=(0,dn.m9)(t))){if(""===t)throw new Me(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mb(e)&&-1!==t.indexOf("/"))throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(un.fromString(t));if(!Ke.isDocumentKey(r))throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fd(n,new Ke(r))}if(t instanceof Kn)return Fd(n,t._key);throw new Me(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gb(t)}.`)}function A1(n,e){if(!Array.isArray(n)||0===n.length)throw new Me(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function T1(n,e){if(e.isInequality()){const r=a_(n),o=e.field;if(null!==r&&!r.isEqual(o))throw new Me(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const u=gb(n);null!==u&&S1(0,o,u)}const t=function(r,o){for(const u of r)for(const d of u.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Me(le.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function S1(n,e,t){if(!t.isEqual(e))throw new Me(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class KT{convertValue(e,t="none"){switch(Uu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw at()}}convertObject(e,t){const r={};return sc(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new qb(lr(e.latitude),lr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Qv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(zg(e));default:return null}}convertTimestamp(e){const t=ja(e);return new $n(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=un.fromString(e);gt(GM(r));const o=new $a(r.get(1),r.get(3)),u=new Ke(r.popFirst(5));return o.isEqual(t)||ur(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function nE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class mN extends KT{constructor(e){super(),this.firestore=e}convertBytes(e){return new qu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kn(this.firestore,null,t)}}class qf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dc extends O_{constructor(e,t,r,o,u,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new N_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Xb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class N_ extends dc{data(e={}){return super.data(e)}}class Yd{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new qf(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new N_(this._firestore,this._userDataWriter,r.key,r,new qf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new N_(r._firestore,r._userDataWriter,d.doc.key,d.doc,new qf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const m=new N_(r._firestore,r._userDataWriter,d.doc.key,d.doc,new qf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,C=-1;return 0!==d.type&&(_=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),C=u.indexOf(d.doc.key)),{type:vN(d.type),doc:m,oldIndex:_,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function vN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}function x1(n,e){return n instanceof dc&&e instanceof dc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Yd&&e instanceof Yd&&n._firestore===e._firestore&&jT(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Qd extends KT{constructor(e){super(),this.firestore=e}convertBytes(e){return new qu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kn(this.firestore,null,t)}}function O1(n,e,t){n=ln(n,Kn);const r=ln(n.firestore,Yn),o=nE(n.converter,e,t);return ym(r,[Kb(Gf(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,er.none())])}function P1(n,e,t,...r){n=ln(n,Kn);const o=ln(n.firestore,Yn),u=Gf(o);let d;return d="string"==typeof(e=(0,dn.m9)(e))||e instanceof cc?GT(u,"updateDoc",n._key,e,t,r):zT(u,"updateDoc",n._key,e),ym(o,[d.toMutation(n._key,er.exists(!0))])}function R1(n,...e){var t,r,o;n=(0,dn.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||$T(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges};if($T(e[d])){const N=e[d];e[d]=null===(t=N.next)||void 0===t?void 0:t.bind(N),e[d+1]=null===(r=N.error)||void 0===r?void 0:r.bind(N),e[d+2]=null===(o=N.complete)||void 0===o?void 0:o.bind(N)}let _,C,T;if(n instanceof Kn)C=ln(n.firestore,Yn),T=jd(n._key.path),_={next:N=>{e[d]&&e[d](YT(C,n,N))},error:e[d+1],complete:e[d+2]};else{const N=ln(n,Mi);C=ln(N.firestore,Yn),T=N._query;const G=new Qd(C);_={next:ee=>{e[d]&&e[d](new Yd(C,G,N,ee))},error:e[d+1],complete:e[d+2]},E1(n._query)}return function(N,G,ee,me){const Fe=new jb(me),He=new iT(G,Fe,ee);return N.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return JA(yield gm(N),He)})),()=>{Fe.yc(),N.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return tT(yield gm(N),He)}))}}(kr(C),T,m,_)}function ym(n,e){return function(t,r){const o=new Ir;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function hR(n,e,t){return lT.apply(this,arguments)}(yield VT(t),r,o)})),o.promise}(kr(n),e)}function YT(n,e,t){const r=t.docs.get(e._key),o=new Qd(n);return new dc(n,o,e._key,r,new qf(t.hasPendingWrites,t.fromCache),e.converter)}const NN={maxAttempts:5};class N1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Gf(e)}set(e,t,r){this._verifyNotCommitted();const o=Xd(e,this._firestore),u=nE(o.converter,t,r),d=Kb(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,er.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Xd(e,this._firestore);let d;return d="string"==typeof(t=(0,dn.m9)(t))||t instanceof cc?GT(this._dataReader,"WriteBatch.update",u._key,t,r,o):zT(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,er.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Xd(e,this._firestore);return this._mutations=this._mutations.concat(new em(t._key,er.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xd(n,e){if((n=(0,dn.m9)(n)).firestore!==e)throw new Me(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class kN extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Gf(e)}get(e){const t=Xd(e,this._firestore),r=new mN(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return at();const u=o[0];if(u.isFoundDocument())return new O_(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new O_(this._firestore,r,t._key,null,t.converter);throw at()})}set(e,t,r){const o=Xd(e,this._firestore),u=nE(o.converter,t,r),d=Kb(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const u=Xd(e,this._firestore);let d;return d="string"==typeof(t=(0,dn.m9)(t))||t instanceof cc?GT(this._dataReader,"Transaction.update",u._key,t,r,o):zT(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=Xd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Xd(e,this._firestore),r=new Qd(this._firestore);return super.get(e).then(o=>new dc(this._firestore,r,t._key,o._document,new qf(!1,!1),t.converter))}}!function(n,e=!0){jo=Lo.SDK_VERSION,(0,Lo._registerComponent)(new og.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const u=t.getProvider("app").getImmediate(),d=new Yn(new ED(t.getProvider("auth-internal")),new DD(t.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Me(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $a(m.options.projectId,_)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),(0,Lo.registerVersion)(Bv,"3.10.0",n),(0,Lo.registerVersion)(Bv,"3.10.0","esm2017")}();function QT(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function F1(){if(typeof Uint8Array>"u")throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function L1(){if(!function jD(){return typeof atob<"u"}())throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}class k_{constructor(e){this._delegate=e}static fromBase64String(e){return L1(),new k_(qu.fromBase64String(e))}static fromUint8Array(e){return F1(),new k_(qu.fromUint8Array(e))}toBase64(){return L1(),this._delegate.toBase64()}toUint8Array(){return F1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function XT(n){return function zN(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class GN{enableIndexedDbPersistence(e,t){return function GR(n,e){g1(n=ln(n,Yn));const t=kr(n);if(t._uninitializedComponentsProvider)throw new Me(le.FAILED_PRECONDITION,"SDK cache is already specified.");$o("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),o=new pm;return p1(t,o,new xT(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function ZR(n){g1(n=ln(n,Yn));const e=kr(n);if(e._uninitializedComponentsProvider)throw new Me(le.FAILED_PRECONDITION,"SDK cache is already specified.");$o("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new pm;return p1(e,r,new Qx(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function qR(n){if(n._initialized&&!n._terminated)throw new Me(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ir;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(r){if(!Ho.D())return Promise.resolve();const o=r+"main";yield Ho.delete(o)}),function(r){return t.apply(this,arguments)})(bA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class V1{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof $a||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&$o("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){c1(this._delegate,e,t,r)}enableNetwork(){return function KR(n){return function PR(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield e1(n),t=yield LT(n);return e.setNetworkEnabled(!0),function(r){const o=Ze(r);return o.du.delete(0),D_(o)}(t)}))}(kr(n=ln(n,Yn)))}(this._delegate)}disableNetwork(){return function YR(n){return function RR(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield e1(n),t=yield LT(n);return e.setNetworkEnabled(!1),(r=(0,ye.Z)(function*(o){const u=Ze(o);u.du.add(0),yield am(u),u.mu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(kr(n=ln(n,Yn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,s1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function WR(n){return function(e){const t=new Ir;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function mR(n,e){return pT.apply(this,arguments)}(yield VT(e),t)})),t.promise}(kr(n=ln(n,Yn)))}(this._delegate)}onSnapshotsInSync(e){return function TN(n,e){return function FR(n,e){const t=new jb(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield gm(n),o=t,Ze(r).Au.add(o),void o.next();var r,o})),()=>{t.yc(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield gm(n),o=t,void Ze(r).Au.delete(o);var r,o}))}}(kr(n=ln(n,Yn)),$T(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new vm(this,d1(this._delegate,e))}catch(t){throw hs(t,"collection()","Firestore.collection()")}}doc(e){try{return new zo(this,Zb(this._delegate,e))}catch(t){throw hs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new fs(this,function BR(n,e){if(n=ln(n,T_),BT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Me(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Mi(n,null,(t=e,new zu(un.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw hs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function FN(n,e,t){n=ln(n,Yn);const r=Object.assign(Object.assign({},NN),t);return function(o){if(o.maxAttempts<1)throw new Me(le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,d){const m=new Ir;return o.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const _=yield function t1(n){return Hb(n).then(e=>e.datastore)}(o);new xR(o.asyncQueue,_,d,u,m).run()})),m.promise}(kr(n),o=>e(new kN(n,o)),r)}(this._delegate,t=>e(new U1(this,t)))}batch(){return kr(this._delegate),new B1(new N1(this._delegate,e=>ym(this._delegate,e)))}loadBundle(e){return function QR(n,e){const t=kr(n=ln(n,Yn)),r=new $R;return function LR(n,e,t,r){const o=function(u,d){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,_=function(_,C){if(_ instanceof Uint8Array)return Xx(_,C);if(_ instanceof ArrayBuffer)return Xx(new Uint8Array(_),C);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new SR(_,d);var _}(t,C_(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function TR(n,e,t){const r=Ze(n);var o;(o=(0,ye.Z)(function*(u,d,m){try{const _=yield d.getMetadata();if(yield function(G,ee){const me=Ze(G),Fe=Nr(ee.createTime);return me.persistence.runTransaction("hasNewerBundle","readonly",He=>me.xs.getBundleMetadata(He,ee.id)).then(He=>!!He&&He.createTime.compareTo(Fe)>=0)}(u.localStore,_))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(G=_).totalDocuments,bytesLoaded:G.totalBytes,totalDocuments:G.totalDocuments,totalBytes:G.totalBytes}),Promise.resolve(new Set);m._updateProgress($x(_));const C=new oR(_,u.localStore,d.serializer);let T=yield d._c();for(;T;){const G=yield C.$u(T);G&&m._updateProgress(G),T=yield d._c()}const N=yield C.complete();return yield lc(u,N.Bu,void 0),yield function(G,ee){const me=Ze(G);return me.persistence.runTransaction("Save bundle","readwrite",Fe=>me.xs.saveBundleMetadata(Fe,ee))}(u.localStore,_),m._completeWith(N.progress),Promise.resolve(N.Fu)}catch(_){return $o("SyncEngine",`Loading bundle failed with ${_}`),m._failWith(_),Promise.resolve(new Set)}var G}),function(u,d,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield VT(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function XR(n,e){return function VR(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,r){const o=Ze(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.xs.getNamedQuery(u,r))}(yield zb(n),e)}))}(kr(n=ln(n,Yn)),e).then(t=>t?new Mi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new fs(this,t):null)}}class rE extends KT{constructor(e){super(),this.firestore=e}convertBytes(e){return new k_(new qu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return zo.forKey(t,this.firestore,null)}}class U1{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new rE(e)}get(e){const t=Kf(e);return this._delegate.get(t).then(r=>new F_(this._firestore,new dc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Kf(e);return r?(QT("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Kf(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Kf(e);return this._delegate.delete(t),this}}class B1{constructor(e){this._delegate=e}set(e,t,r){const o=Kf(e);return r?(QT("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Kf(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Kf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Wf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new N_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new L_(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Wf.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new Wf(e,new rE(e),t),o.set(t,u)),u}}Wf.INSTANCES=new WeakMap;class zo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new zo(t,new Kn(t._delegate,r,new Ke(e)))}static forKey(e,t,r){return new zo(t,new Kn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new vm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new vm(this.firestore,d1(this._delegate,e))}catch(t){throw hs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,dn.m9)(e))instanceof Kn&&h1(this._delegate,e)}set(e,t){t=QT("DocumentReference.set",t);try{return t?O1(this._delegate,e,t):O1(this._delegate,e)}catch(r){throw hs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?P1(this._delegate,e):P1(this._delegate,e,t,...r)}catch(o){throw hs(o,"updateDoc()","DocumentReference.update()")}}delete(){return function DN(n){return ym(ln(n.firestore,Yn),[new em(n._key,er.none())])}(this._delegate)}onSnapshot(...e){const t=j1(e),r=$1(e,o=>new F_(this.firestore,new dc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return R1(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function wN(n){n=ln(n,Kn);const e=ln(n.firestore,Yn),t=kr(e),r=new Qd(e);return function NR(n,e){const t=new Ir;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,u,d){try{const m=yield function(_,C){const T=Ze(_);return T.persistence.runTransaction("read document","readonly",N=>T.localDocuments.getDocument(N,C))}(o,u);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Me(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const _=cm(m,`Failed to get document '${u} from cache`);d.reject(_)}}),function(o,u,d){return r.apply(this,arguments)})(yield zb(n),e,t);var r})),t.promise}(t,n._key).then(o=>new dc(e,r,n._key,o,new qf(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function IN(n){n=ln(n,Kn);const e=ln(n.firestore,Yn);return n1(kr(e),n._key,{source:"server"}).then(t=>YT(e,n,t))}(this._delegate):function _N(n){n=ln(n,Kn);const e=ln(n.firestore,Yn);return n1(kr(e),n._key).then(t=>YT(e,n,t))}(this._delegate),t.then(r=>new F_(this.firestore,new dc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new zo(this.firestore,this._delegate.withConverter(e?Wf.getInstance(this.firestore,e):null))}}function hs(n,e,t){return n.message=n.message.replace(e,t),n}function j1(n){for(const e of n)if("object"==typeof e&&!XT(e))return e;return{}}function $1(n,e){var t,r;let o;return o=XT(n[0])?n[0]:XT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class F_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new zo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return x1(this._delegate,e._delegate)}}class L_ extends F_{data(e){const t=this._delegate.data(e);return function $I(n,e){n||at()}(void 0!==t),t}}class fs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rE(e)}where(e,t,r){try{return new fs(this.firestore,Kd(this._delegate,function uN(n,e,t){const r=e,o=Xb("where",n);return R_._create(o,r,t)}(e,t,r)))}catch(o){throw hs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new fs(this.firestore,Kd(this._delegate,function lN(n,e="asc"){const t=e,r=Xb("orderBy",n);return WT._create(r,t)}(e,t)))}catch(r){throw hs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new fs(this.firestore,Kd(this._delegate,function cN(n){return u1("limit",n),Jb._create("limit",n,"F")}(e)))}catch(t){throw hs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new fs(this.firestore,Kd(this._delegate,function dN(n){return u1("limitToLast",n),Jb._create("limitToLast",n,"L")}(e)))}catch(t){throw hs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new fs(this.firestore,Kd(this._delegate,function hN(...n){return eE._create("startAt",n,!0)}(...e)))}catch(t){throw hs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new fs(this.firestore,Kd(this._delegate,function fN(...n){return eE._create("startAfter",n,!1)}(...e)))}catch(t){throw hs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new fs(this.firestore,Kd(this._delegate,function pN(...n){return tE._create("endBefore",n,!1)}(...e)))}catch(t){throw hs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new fs(this.firestore,Kd(this._delegate,function gN(...n){return tE._create("endAt",n,!0)}(...e)))}catch(t){throw hs(t,"endAt()","Query.endAt()")}}isEqual(e){return jT(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function EN(n){n=ln(n,Mi);const e=ln(n.firestore,Yn),t=kr(e),r=new Qd(e);return function kR(n,e){const t=new Ir;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,u,d){try{const m=yield Rb(o,u,!0),_=new Gx(u,m.Wi),C=_.zu(m.documents),T=_.applyChanges(C,!1);d.resolve(T.snapshot)}catch(m){const _=cm(m,`Failed to execute query '${u} against cache`);d.reject(_)}}),function(o,u,d){return r.apply(this,arguments)})(yield zb(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Yd(e,r,n,o))}(this._delegate):"server"===e?.source?function CN(n){n=ln(n,Mi);const e=ln(n.firestore,Yn),t=kr(e),r=new Qd(e);return r1(t,n._query,{source:"server"}).then(o=>new Yd(e,r,n,o))}(this._delegate):function bN(n){n=ln(n,Mi);const e=ln(n.firestore,Yn),t=kr(e),r=new Qd(e);return E1(n._query),r1(t,n._query).then(o=>new Yd(e,r,n,o))}(this._delegate),t.then(r=>new JT(this.firestore,new Yd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=j1(e),r=$1(e,o=>new JT(this.firestore,new Yd(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return R1(this._delegate,t,r)}withConverter(e){return new fs(this.firestore,this._delegate.withConverter(e?Wf.getInstance(this.firestore,e):null))}}class qN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new L_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class JT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new fs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new L_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new qN(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new L_(this._firestore,r))})}isEqual(e){return x1(this._delegate,e._delegate)}}class vm extends fs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new zo(this.firestore,e):null}doc(e){try{return new zo(this.firestore,void 0===e?Zb(this._delegate):Zb(this._delegate,e))}catch(t){throw hs(t,"doc()","CollectionReference.doc()")}}add(e){return function AN(n,e){const t=ln(n.firestore,Yn),r=Zb(n),o=nE(n.converter,e);return ym(t,[Kb(Gf(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,er.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new zo(this.firestore,t))}isEqual(e){return h1(this._delegate,e._delegate)}withConverter(e){return new vm(this.firestore,this._delegate.withConverter(e?Wf.getInstance(this.firestore,e):null))}}function Kf(n){return ln(n,Kn)}class eS{constructor(...e){this._delegate=new cc(...e)}static documentId(){return new eS(Wn.keyField().canonicalString())}isEqual(e){return(e=(0,dn.m9)(e))instanceof cc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Yf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function VN(){return new HT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Yf(e)}static delete(){const e=function LN(){return new M_("deleteField")}();return e._methodName="FieldValue.delete",new Yf(e)}static arrayUnion(...e){const t=function UN(...n){return new rN("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Yf(t)}static arrayRemove(...e){const t=function BN(...n){return new iN("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Yf(t)}static increment(e){const t=function jN(n){return new sN("increment",n)}(e);return t._methodName="FieldValue.increment",new Yf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const WN={Firestore:V1,GeoPoint:qb,Timestamp:$n,Blob:k_,Transaction:U1,WriteBatch:B1,DocumentReference:zo,DocumentSnapshot:F_,Query:fs,QueryDocumentSnapshot:L_,QuerySnapshot:JT,CollectionReference:vm,FieldPath:eS,FieldValue:Yf,setLogLevel:function ZN(n){!function bD(n){ku.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function YN(n){(function KN(n,e){n.INTERNAL.registerComponent(new og.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},WN)))})(n,(e,t)=>new V1(e,t,new GN)),n.registerVersion("@firebase/firestore-compat","0.3.6")}(Kw.Z);var QN=L(6451),iE=L(5363),XN=L(6063);class JN extends Ji.x{constructor(e=1/0,t=1/0,r=XN.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!o&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const d=t.now();let m=0;for(let _=1;_<r.length&&r[_]<=d;_+=2)m=_;m&&r.splice(0,m+1)}}}var ek=L(3099);function H1(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,ek.B)({connector:()=>new JN(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function z1(n,e){return(0,Qs.m)(e)?Sr(()=>n,e):Sr(()=>n)}var tS=L(9468),Qf=L(259);class _m{constructor(e){return e}}class G1{constructor(){return(0,Qf.C6)()}}const nS=new c.OlP("angularfire2._apps"),nk={provide:_m,useFactory:function tk(n){return n&&1===n.length?n[0]:new _m((0,Qf.Mq)())},deps:[[new c.FiY,nS]]},rk={provide:G1,deps:[[new c.FiY,nS]]};function ik(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new _m(r)}}let sk=(()=>{class n{constructor(t){(0,Qf.KN)("angularfire",mn.q4.full,"core"),(0,Qf.KN)("angularfire",mn.q4.full,"app"),(0,Qf.KN)("angular",c.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[nk,rk]}),n})();function ok(n,...e){return{ngModule:sk,providers:[{provide:nS,useFactory:ik(n),multi:!0,deps:[c.R0b,c.zs3,mn.HU,...e]}]}}const ak=(0,mn.u3)(Qf.ZF,!0),rS=new Map,Z1={activated:!1,tokenObservers:[]},uk={initialized:!1,enabled:!1};function xi(n){return rS.get(n)||Object.assign({},Z1)}function sE(){return uk}const iS="https://content-firebaseappcheck.googleapis.com/v1",hk="exchangeDebugToken",q1={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class pk{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new dn.BH,yield function gk(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new dn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ps=new dn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function aS(){return aS=(0,ye.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const N=yield o.getHeartbeatsHeader();N&&(r["X-Firebase-Client"]=N)}const u={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,u)}catch(N){throw ps.create("fetch-network-error",{originalErrorMessage:N?.message})}if(200!==d.status)throw ps.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(N){throw ps.create("fetch-parse-error",{originalErrorMessage:N?.message})}const _=m.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw ps.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const C=1e3*Number(_[1]),T=Date.now();return{token:m.token,expireTimeMillis:T+C,issuedAtTimeMillis:T}}),aS.apply(this,arguments)}const wk="firebase-app-check-database",Ik=1,V_="firebase-app-check-store";let uE=null;function uS(){return uS=(0,ye.Z)(function*(n,e){const r=(yield function Y1(){return uE||(uE=new Promise((n,e)=>{try{const t=indexedDB.open(wk,Ik);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(ps.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(V_,{keyPath:"compositeKey"})}}catch(t){e(ps.create("storage-open",{originalErrorMessage:t?.message}))}}),uE)}()).transaction(V_,"readwrite"),u=r.objectStore(V_).put({compositeKey:n,value:e});return new Promise((d,m)=>{u.onsuccess=_=>{d()},r.onerror=_=>{var C;m(ps.create("storage-set",{originalErrorMessage:null===(C=_.target.error)||void 0===C?void 0:C.message}))}})}),uS.apply(this,arguments)}const U_=new Mu.Yd("@firebase/app-check");function dS(n,e){return(0,dn.hl)()?function Ek(n,e){return function Q1(n,e){return uS.apply(this,arguments)}(function J1(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{U_.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function fS(){return fS=(0,ye.Z)(function*(){const n=sE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),fS.apply(this,arguments)}const Mk={error:"UNKNOWN_ERROR"};function xk(n){return dn.US.encodeString(JSON.stringify(n),!1)}function lE(n){return pS.apply(this,arguments)}function pS(){return pS=(0,ye.Z)(function*(n,e=!1){const t=n.app;!function W1(n){if(!xi(n).activated)throw ps.create("use-before-activation",{appName:n.name})}(t);const r=xi(t);let u,o=r.token;if(o&&!wm(o)&&(r.token=void 0,o=void 0),!o){const _=yield r.cachedTokenPromise;_&&(wm(_)?o=_:yield dS(t,void 0))}if(!e&&o&&wm(o))return{token:o.token};let m,d=!1;if(function eO(){return sE().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function oS(n,e){return aS.apply(this,arguments)}(function _k(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`${iS}/projects/${t}/apps/${r}:${hk}?key=${o}`,body:{debug_token:e}}}(t,yield function tO(){return fS.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const _=yield r.exchangeTokenPromise;return yield dS(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),o=yield xi(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?U_.warn(_.message):U_.error(_),u=_}return o?u?m=wm(o)?{token:o.token,internalError:u}:iO(u):(m={token:o.token},r.token=o,yield dS(t,o)):m=iO(u),d&&function rO(n,e){const t=xi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,m),m}),pS.apply(this,arguments)}function mS(n,e){const t=xi(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function nO(n){const{app:e}=n,t=xi(e);let r=t.tokenRefresher;r||(r=function Ok(n){const{app:e}=n;return new pk((0,ye.Z)(function*(){let r;if(r=xi(e).token?yield lE(n,!0):yield lE(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=xi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},q1.RETRIAL_MIN_WAIT,q1.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function wm(n){return n.expireTimeMillis-Date.now()>0}function iO(n){return{token:xk(Mk),error:n}}class Pk{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=xi(this.app);for(const t of e)mS(this.app,t.next);return Promise.resolve()}}const hO="app-check-internal";!function Zk(){(0,Lo._registerComponent)(new og.wA("app-check",n=>function Rk(n,e){return new Pk(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(hO).initialize()})),(0,Lo._registerComponent)(new og.wA(hO,n=>function Nk(n){return{getToken:e=>lE(n,e),addTokenListener:e=>function gS(n,e,t,r){const{app:o}=n,u=xi(o);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&wm(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),nO(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>nO(n))}(n,"INTERNAL",e),removeTokenListener:e=>mS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Lo.registerVersion)("@firebase/app-check","0.6.4")}();class dE{constructor(){return(0,mn.vb)("app-check")}}typeof window<"u"&&window;var Qk=L(9260);const pO=new c.OlP("angularfire2.auth.use-emulator"),gO=new c.OlP("angularfire2.auth.settings"),mO=new c.OlP("angularfire2.auth.tenant-id"),yO=new c.OlP("angularfire2.auth.langugage-code"),vO=new c.OlP("angularfire2.auth.use-device-language"),_O=new c.OlP("angularfire.auth.persistence"),wO=(n,e,t,r,o,u,d,m)=>(0,Os.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=o,u&&_.useDeviceLanguage(),d)for(const[C,T]of Object.entries(d))_.settings[C]=T;return m&&_.setPersistence(m),_},[t,r,o,u,d,m]);let IO=(()=>{class n{constructor(t,r,o,u,d,m,_,C,T,N,G,ee){const me=new Ji.x,Fe=ut(void 0).pipe((0,iE.Q)(d.outsideAngular),Sr(()=>u.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,9568)))),(0,Ct.U)(()=>(0,Os.on)(t,u,r)),(0,Ct.U)(He=>wO(He,u,m,C,T,N,_,G)),H1({bufferSize:1,refCount:!1}));if(yc(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ut(null);else{Fe.pipe(is()).subscribe();const Lt=Fe.pipe(Sr(Jt=>Jt.getRedirectResult().then(en=>en,()=>null)),mn.iC,H1({bufferSize:1,refCount:!1})),Qt=Fe.pipe(Sr(Jt=>new es.y(en=>({unsubscribe:u.runOutsideAngular(()=>Jt.onAuthStateChanged(pn=>en.next(pn),pn=>en.error(pn),()=>en.complete()))})))),Nt=Fe.pipe(Sr(Jt=>new es.y(en=>({unsubscribe:u.runOutsideAngular(()=>Jt.onIdTokenChanged(pn=>en.next(pn),pn=>en.error(pn),()=>en.complete()))}))));this.authState=Lt.pipe(z1(Qt),(0,tS.R)(d.outsideAngular),(0,iE.Q)(d.insideAngular)),this.user=Lt.pipe(z1(Nt),(0,tS.R)(d.outsideAngular),(0,iE.Q)(d.insideAngular)),this.idToken=this.user.pipe(Sr(Jt=>Jt?(0,Wt.D)(Jt.getIdToken()):ut(null))),this.idTokenResult=this.user.pipe(Sr(Jt=>Jt?(0,Wt.D)(Jt.getIdTokenResult()):ut(null))),this.credential=(0,QN.T)(Lt,me,this.authState.pipe(rs(Jt=>!Jt))).pipe((0,Ct.U)(Jt=>Jt?.user?Jt:null),(0,tS.R)(d.outsideAngular),(0,iE.Q)(d.insideAngular))}return(0,Os.pX)(this,Fe,u,{spy:{apply:(He,Lt,Qt)=>{(He.startsWith("signIn")||He.startsWith("createUser"))&&Qt.then(Nt=>me.next(Nt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Os.Dh),c.LFG(Os.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(mn.HU),c.LFG(pO,8),c.LFG(gO,8),c.LFG(mO,8),c.LFG(yO,8),c.LFG(vO,8),c.LFG(_O,8),c.LFG(dE,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function bO(n,e){return function Jk(n,e=Ky.z){return new es.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function IS(n,e){return bO(n,e).pipe((0,Ct.U)(t=>({payload:t,type:"query"})))}function hE(n,e){return IS(n,e).pipe(xl(void 0),sg(),(0,Ct.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const _=o.find(T=>T.doc.ref.isEqual(d.ref)),C=t?.payload.docs.find(T=>T.ref.isEqual(d.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(d.metadata)||!_&&C&&JSON.stringify(C.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),u}))}function EO(n,e,t){return hE(n,t).pipe(kc((r,o)=>function tF(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function nF(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return bS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return bS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return bS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function qw(n,e=Ui.y){return n=n??Ww,(0,Dn.e)((t,r)=>{let o,u=!0;t.subscribe((0,V.x)(r,d=>{const m=e(d);(u||!n(o,m))&&(u=!1,o=m,r.next(d))}))})}(),(0,Ct.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function bS(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function CO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class DO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=hE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ct.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(xl(void 0),sg(),rs(([r,o])=>o.length>0||!r),(0,Ct.U)(([r,o])=>o),mn.iC)}auditTrail(e){return this.stateChanges(e).pipe(kc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=CO(e);return EO(this.query,t,this.afs.schedulers.outsideAngular).pipe(mn.iC)}valueChanges(e={}){return IS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),mn.iC)}get(e){return(0,Wt.D)(this.query.get(e)).pipe(mn.iC)}add(e){return this.ref.add(e)}doc(e){return new AO(this.ref.doc(e),this.afs)}}class AO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=MO(r,t);return new DO(o,u,this.afs)}snapshotChanges(){return function eF(n,e){return bO(n,e).pipe(xl(void 0),sg(),(0,Ct.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(mn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ct.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Wt.D)(this.ref.get(e)).pipe(mn.iC)}}class rF{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?hE(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),rs(t=>t.length>0),mn.iC):hE(this.query,this.afs.schedulers.outsideAngular).pipe(mn.iC)}auditTrail(e){return this.stateChanges(e).pipe(kc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=CO(e);return EO(this.query,t,this.afs.schedulers.outsideAngular).pipe(mn.iC)}valueChanges(e={}){return IS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),mn.iC)}get(e){return(0,Wt.D)(this.query.get(e)).pipe(mn.iC)}}const TO=new c.OlP("angularfire2.enableFirestorePersistence"),SO=new c.OlP("angularfire2.firestore.persistenceSettings"),iF=new c.OlP("angularfire2.firestore.settings"),sF=new c.OlP("angularfire2.firestore.use-emulator");function MO(n,e=(t=>t)){return{query:e(n),ref:n}}let ES=(()=>{class n{constructor(t,r,o,u,d,m,_,C,T,N,G,ee,me,Fe,He,Lt,Qt){this.schedulers=_;const Nt=(0,Os.on)(t,m,r),Jt=T;N&&wO(Nt,m,G,me,Fe,He,ee,Lt),[this.firestore,this.persistenceEnabled$]=(0,Os.cc)(`${Nt.name}.firestore`,"AngularFirestore",Nt.name,()=>{const en=m.runOutsideAngular(()=>Nt.firestore());if(u&&en.settings(u),Jt&&en.useEmulator(...Jt),o&&!yc(d)){const pn=()=>{try{return(0,Wt.D)(en.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(gs){return typeof console<"u"&&console.warn(gs),ut(!1)}};return[en,m.runOutsideAngular(pn)]}return[en,ut(!1)]},[u,Jt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=MO(o,r),m=this.schedulers.ngZone.run(()=>u);return new DO(m,d,this)}collectionGroup(t,r){const o=r||(d=>d),u=this.firestore.collectionGroup(t);return new rF(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new AO(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Os.Dh),c.LFG(Os.xv,8),c.LFG(TO,8),c.LFG(iF,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(mn.HU),c.LFG(SO,8),c.LFG(sF,8),c.LFG(IO,8),c.LFG(pO,8),c.LFG(gO,8),c.LFG(mO,8),c.LFG(yO,8),c.LFG(vO,8),c.LFG(_O,8),c.LFG(dE,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),oF=(()=>{class n{constructor(){Qk.Z.registerVersion("angularfire",mn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:TO,useValue:!0},{provide:SO,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[ES]}),n})(),xO=(()=>{class n{constructor(t){this.store=t}addBooking(t){this.store.collection("bookingRequests").add(Object.assign({},t))}getBookings(){return this.store.collection("bookingRequests").valueChanges()}deleteBooking(t){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ES))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aF(n,e){if(1&n&&(c.TgZ(0,"li"),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Oqu(t)}}const uF=function(n){return{selected:n}};let lF=(()=>{class n{constructor(t){this.productSvc=t,this.productType=""}ngOnInit(){this.product=""===this.productType?this.productObj:this.productSvc.GetProducts(this.productType)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Wy))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dynamic-service-card"]],inputs:{productType:"productType",productObj:"productObj"},decls:17,vars:11,consts:[[1,"product_container",3,"id","ngClass"],[1,"product_id","hidden"],[1,"product_header"],[1,"product_icon",3,"innerHtml"],[1,"product_header_title"],[1,"product_title"],[1,"product_subtitle"],[1,"product_features"],[4,"ngFor","ngForOf"],[1,"product_price","hidden"],[1,"product_sqFtPrice","hidden"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c._uU(2),c.qZA(),c.TgZ(3,"div",2),c._UZ(4,"div",3),c.TgZ(5,"div",4)(6,"div",5),c._uU(7),c.qZA(),c.TgZ(8,"div",6),c._uU(9),c.qZA()()(),c.TgZ(10,"div",7)(11,"ul"),c.YNc(12,aF,2,1,"li",8),c.qZA()(),c.TgZ(13,"div",9),c._uU(14),c.qZA(),c.TgZ(15,"div",10),c._uU(16),c.qZA()()),2&t&&(c.s9C("id",null==r.product?null:r.product.id),c.Q6J("ngClass",c.VKq(9,uF,1==(null==r.product?null:r.product.selected))),c.xp6(2),c.hij(" ",null==r.product?null:r.product.id,""),c.xp6(2),c.Q6J("innerHtml",null==r.product?null:r.product.icon,c.oJD),c.xp6(3),c.hij(" ",null==r.product?null:r.product.title,""),c.xp6(2),c.hij(" ",null==r.product?null:r.product.subtitle,""),c.xp6(3),c.Q6J("ngForOf",null==r.product?null:r.product.features),c.xp6(2),c.hij("$ ",null==r.product?null:r.product.price," / base"),c.xp6(2),c.hij("+$ ",null==r.product?null:r.product.sqFtPrice," / per 500sq ft"))},dependencies:[Qe,An],styles:['.product_container[_ngcontent-%COMP%]{background-color:hsl(var(--clr-white));padding:0 1.5rem;height:18rem;border-radius:.75rem;border:1px solid rgba(0,0,0,.125)}.hidden[_ngcontent-%COMP%]{visibility:hidden}.product_header[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}.product_title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;word-wrap:normal;width:12rem}.product_subtitle[_ngcontent-%COMP%]{line-height:.25rem;font-size:.75rem}.product_icon[_ngcontent-%COMP%]{width:4rem}.selected[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:10px;border-radius:5rem 0 0 5rem;height:100%;background-color:#ff4500}ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{font-size:.9rem;width:10rem}']}),n})();function cF(n,e){if(1&n&&(c.TgZ(0,"option",31),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("value",t),c.xp6(1),c.Oqu(t)}}function dF(n,e){if(1&n&&(c.TgZ(0,"option",31),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("value",t),c.xp6(1),c.Oqu(t)}}function hF(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"app-dynamic-service-card",32),c.NdJ("click",function(){const u=c.CHM(t).$implicit,d=c.oxw();return c.KtG(d.addToTotal(u))}),c.qZA()}2&n&&c.Q6J("productObj",e.$implicit)}const fF=function(n){return{fixed:n}};let pF=(()=>{class n{constructor(t,r,o,u,d){this.productSvc=t,this.formBuilder=r,this.store=o,this.db=u,this.elementRef=d,this.isSticky=!1,this.timeSlots=["8:00 AM - 10:00 AM","10:00 AM - 12:00 PM","12:00 PM - 2:00 PM","2:00 PM - 4:00 PM","4:00 PM - 6:00 PM","Twilight"],this.homeSize=["500 sqft - 2000 sqft","2000 sqft - 2500  sqft","2500 sqft - 3000 sqft","3000  sqft - 3500 sqft","3500 sqft - 4000 sqft","4000 sqft - 5000 sqft"],this.listOfProducts=[],this.listOfBootings=[],this.total=0,this.selectedHomeSize=0,this.fakeCustomer=new Zw(1,"John Doe","johndoe@example.com","1234 Elm Street","4/14/2023","5pm","2000sqft","showcase",0),this.today=new Date}ngOnInit(){const t=new Date(this.today.setDate(this.today.getDate()+1));this.myForm=this.formBuilder.group({name:["Alex",zl.required],email:["alex@gmail.com",[zl.required,zl.email]],address:["15325 Se 155th pl",zl.required],date:["",zl.required],time:["4:00 PM - 6:00 PM",zl.required],size:["500 sqft - 2000 sqft",[zl.required]]}),this.myForm.get("date")?.patchValue(this.formatDate(t)),this.listOfProducts=this.productSvc.GetAllProducts();const r=document.querySelector(".estimator");Array.from(r?.children)}formatDate(t){const r=new Date(t);let o=""+(r.getMonth()+1),u=""+r.getDate();const d=r.getFullYear();return o.length<2&&(o="0"+o),u.length<2&&(u="0"+u),[d,o,u].join("-")}onSubmit(){let t=[],r="";if(t=this.listOfProducts.filter(o=>1==o.selected),t.forEach(o=>{r=r+o.title+","}),this.myForm?.valid){let T=new Zw(1,this.myForm.controls.name.value,this.myForm.controls.email.value,this.myForm.controls.address.value,this.myForm.controls.date.value,this.myForm.controls.time.value,this.myForm.controls.size.value,r,this.total);this.db.addBooking(T)}else console.log("not valid")}addToTotal(t){const r=document.getElementById(t.id.toString());0==t.selected?(t.selected=!0,r.classList.add("selected"),this.total+=t.price,1==t.id&&1==this.listOfProducts.find(o=>2===o.id)?.selected?(this.listOfProducts[1].selected=!1,this.total-=this.listOfProducts[1].price):2==t.id&&1==this.listOfProducts.find(o=>1===o.id)?.selected&&(this.listOfProducts[0].selected=!1,this.total-=this.listOfProducts[0].price)):(this.total-=t.price,t.selected=!1,r.classList.remove("selected"))}onSelected(t){t===this.homeSize[1]?(this.selectedHomeSize=2,this.listOfProducts[0].sqFtPrice=this.listOfProducts[0].price+60):this.listOfProducts[0].sqFtPrice=this.listOfProducts[0].price}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Wy),c.Y36(zC),c.Y36(ES),c.Y36(xO),c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-estimator"]],decls:58,vars:9,consts:[[1,"section-container"],[1,"estimator_container"],[3,"formGroup","ngSubmit"],[1,"info"],[1,"client_info_form"],[1,"client_info_form_input"],["for","name"],["type","text","id","name","formControlName","name","required",""],["for","email"],["type","email","id","email","formControlName","email","required",""],["for","address"],["id","address","formControlName","address","required",""],["for","date"],["type","date","id","date","formControlName","date","required","",3,"min"],["for","time"],["id","time","formControlName","time","required",""],[3,"value",4,"ngFor","ngForOf"],["for","size"],["id","size","formControlName","size","required","",3,"change"],["homeSizeInput",""],[1,"notes_cart"],["notes_cart",""],[1,"notes"],[1,"cart"],[1,"estimator_total","sticky-item",3,"ngClass"],[2,"font-size",".7rem"],[1,"estimator"],["class","estimator_card",3,"productObj","click",4,"ngFor","ngForOf"],[1,"estimator_button_group"],["type","submit",1,"btn","btn-secondary"],[1,"estimator_notes"],[3,"value"],[1,"estimator_card",3,"productObj","click"]],template:function(t,r){if(1&t){const o=c.EpF();c.TgZ(0,"div",0)(1,"div",1)(2,"form",2),c.NdJ("ngSubmit",function(){return r.onSubmit()}),c.TgZ(3,"div",3)(4,"h1"),c._uU(5,"Online Booking"),c.qZA()(),c.TgZ(6,"div",4)(7,"div",5)(8,"label",6),c._uU(9,"Name:"),c.qZA(),c._UZ(10,"input",7),c.qZA(),c.TgZ(11,"div",5)(12,"label",8),c._uU(13,"Email address:"),c.qZA(),c._UZ(14,"input",9),c.qZA(),c.TgZ(15,"div",5)(16,"label",10),c._uU(17,"Property Address:"),c.qZA(),c._UZ(18,"textarea",11),c.qZA(),c.TgZ(19,"div",5)(20,"label",12),c._uU(21,"Prefered Date:"),c.qZA(),c._UZ(22,"input",13),c.qZA(),c.TgZ(23,"div",5)(24,"label",14),c._uU(25,"Prefered Time Slot:"),c.qZA(),c.TgZ(26,"select",15),c.YNc(27,cF,2,2,"option",16),c.qZA()(),c.TgZ(28,"div",5)(29,"label",17),c._uU(30,"Home Size(sq ft):"),c.qZA(),c.TgZ(31,"select",18,19),c.NdJ("change",function(){c.CHM(o);const d=c.MAs(32);return c.KtG(r.onSelected(d.value))}),c.YNc(33,dF,2,2,"option",16),c.qZA()()(),c.TgZ(34,"div",20,21)(36,"div",22)(37,"small"),c._uU(38,"Please select between Essentials and Showcase Packages."),c.qZA()(),c.TgZ(39,"div",23)(40,"div",24),c._uU(41),c.TgZ(42,"span",25),c._uU(43,"+tax"),c.qZA()()()(),c.TgZ(44,"div",26),c.YNc(45,hF,1,1,"app-dynamic-service-card",27),c.qZA(),c.TgZ(46,"div",28)(47,"button",29),c._uU(48,"Book Now"),c.qZA()(),c.TgZ(49,"div",30)(50,"span"),c._uU(51,"* All images delivered MLS optimized in less than 24 hours, print size by request. Fires in Fireplace and TV reflections removed standard for all packages."),c.qZA(),c.TgZ(52,"span"),c._uU(53,"** Virtual Staging is done by a 3rd party, 24 hour turnaround."),c.qZA(),c.TgZ(54,"span"),c._uU(55,"$2 per mile, travel fee applies to locations"),c.qZA(),c.TgZ(56,"span"),c._uU(57,"that are 20 miles or more one way from my business address with the zip code of 98042 in Kent, WA"),c.qZA()()()()()}2&t&&(c.xp6(2),c.Q6J("formGroup",r.myForm),c.xp6(20),c.s9C("min",r.today),c.xp6(5),c.Q6J("ngForOf",r.timeSlots),c.xp6(6),c.Q6J("ngForOf",r.homeSize),c.xp6(7),c.Q6J("ngClass",c.VKq(7,fF,r.isSticky)),c.xp6(1),c.hij("Total: $",r.total," "),c.xp6(4),c.Q6J("ngForOf",r.listOfProducts))},dependencies:[Qe,An,Ly,Rw,Fw,Up,ng,aw,_C,Jh,ql,Hy,lF],styles:['.info[_ngcontent-%COMP%]{width:100%}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#fff;height:100%}h1[_ngcontent-%COMP%]{font-size:calc(3rem + 3vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:50%;color:hsl(var(--clr-dark))}.estimator[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;position:relative;align-content:center}.estimator_card[_ngcontent-%COMP%]{flex-grow:1;position:relative;display:block;cursor:pointer}.estimator_card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:10px;border-radius:5rem 0 0 5rem;height:100%;background-color:#aaa}form[_ngcontent-%COMP%]{max-width:80%;margin:0 auto;padding:20px;display:flex;flex-wrap:wrap}.client_info_form[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(2,1fr);grid-auto-flow:column}.client_info_form_input[_ngcontent-%COMP%]{padding:10px;box-sizing:border-box}.notes_cart[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;flex:1;justify-content:space-between}.estimator_notes[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:10px;font-size:var(--fs-200)}.estimator_button_group[_ngcontent-%COMP%]{display:flex;align-items:center;align-content:center;width:100%;padding:5rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]{width:250px;padding:8px;margin-bottom:15px;border:1px solid #ccc;border-radius:3px}select[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none}button[type=submit][_ngcontent-%COMP%]{display:block;margin-top:20px;margin-left:auto;margin-right:auto;padding:10px 20px;background-color:#ff533d;color:#fff;font-size:2rem;font-weight:700;text-align:center;border:none;border-radius:3px;cursor:pointer}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#333;color:#ff533d}input.ng-invalid[_ngcontent-%COMP%], textarea.ng-invalid[_ngcontent-%COMP%], select.ng-invalid[_ngcontent-%COMP%]{border-color:red}input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{color:#007bff;font-size:14px;padding:0;margin-left:5px;cursor:pointer}.cart[_ngcontent-%COMP%]{font-size:var(--fs-500)}@media (max-width: 35rem){.notes[_ngcontent-%COMP%]{max-width:12rem}.client_info_form[_ngcontent-%COMP%]{display:flex;flex:0 1 20%}.client_info_form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.client_info_form_input[_ngcontent-%COMP%]{flex-basis:100%;padding:10px;box-sizing:border-box}form[_ngcontent-%COMP%]{max-width:80%;margin:0 auto;padding:20px;display:flex;flex-wrap:wrap}.info[_ngcontent-%COMP%]{height:100%;padding:1rem;display:grid;color:hsl(var(--clr-dark));align-content:center}}']}),n})(),gF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-reviews"]],decls:52,vars:0,consts:[[1,"section-container"],[1,"intro"],[1,"fs-500","text-dark"],[1,"testimonals"],[1,"testimonial__container","text-center"],[1,"testimonial__text"],[1,"testimonial__title","italic"],[1,"testimonial__image_container"],[1,"circle"],["src","../../../../assets/reviewers/Tim.png","alt",""],["src","../../../../assets/reviewers/Ashley.png","alt",""],["src","../../../../assets/reviewers/Maslah.png","alt",""],["src","../../../../assets/reviewers/alexN.png","alt",""],["src","../../../../assets/reviewers/hiep.png","alt",""]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"h1"),c._uU(3,"Feedback"),c.qZA(),c.TgZ(4,"span",2),c._uU(5,"What others have to say."),c.qZA()(),c.TgZ(6,"div",3)(7,"div",4)(8,"div",5)(9,"span",6),c._uU(10,'"Really pleased with Seattle Real Estate Photo! Alex is professional and the final photos were incredible, especially when you consider he shot, edited and delivered them all within 15 hours!"'),c.qZA()(),c.TgZ(11,"div",7)(12,"div",8),c._UZ(13,"img",9),c.qZA()(),c.TgZ(14,"span"),c._uU(15,"Tim P."),c.qZA()(),c.TgZ(16,"div",4)(17,"div",5)(18,"span",6),c._uU(19,'"Love working with Seattle Real Estate Photos! Alex is super responsive, tech savvy, on time, and I feel like his prices are super reasonable. He\u2019s probably done about 10 houses for us and I\u2019ve been very pleased with all of them. Highly recommend!"'),c.qZA()(),c.TgZ(20,"div",7)(21,"div",8),c._UZ(22,"img",10),c.qZA()(),c.TgZ(23,"span"),c._uU(24,"Ashley M."),c.qZA()(),c.TgZ(25,"div",4)(26,"div",5)(27,"span",6),c._uU(28,'"Extremely happy with the service I got. Very professional , responsive and amazing quality. Will definitely continue to use him for all my photography needs."'),c.qZA()(),c.TgZ(29,"div",7)(30,"div",8),c._UZ(31,"img",11),c.qZA()(),c.TgZ(32,"div"),c._uU(33,"Maslah A."),c.qZA()(),c.TgZ(34,"div",4)(35,"div",5)(36,"span",6),c._uU(37,'"Alex does a great job showcasing my listings. He is always professional during the shoot and utilizes the latest technology. He is also able to schedule a shoot quickly and get photos to you on time. Give him a call!"'),c.qZA()(),c.TgZ(38,"div",7)(39,"div",8),c._UZ(40,"img",12),c.qZA()(),c.TgZ(41,"div"),c._uU(42,"Alex N."),c.qZA()(),c.TgZ(43,"div",4)(44,"div",5)(45,"span",6),c._uU(46,'"Alex is amazingly good for what he did for me. He really helps me with what I need not just taking photos for my real estate listing."'),c.qZA()(),c.TgZ(47,"div",7)(48,"div",8),c._UZ(49,"img",13),c.qZA()(),c.TgZ(50,"span"),c._uU(51,"Hiep V."),c.qZA()()()())},styles:[".section-container[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-wrap:wrap;padding:5rem;height:100%;align-content:center;align-items:center}.intro[_ngcontent-%COMP%]{height:30vh;padding:10rem;display:grid;color:hsl(var(--clr-dark));align-content:center}h1[_ngcontent-%COMP%]{font-size:calc(3rem + 3vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:50%;color:hsl(var(--clr-dark))}.testimonial__heading[_ngcontent-%COMP%]{text-align:center;padding:0 3rem 3rem}.testimonals[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;gap:1rem;justify-content:center}.testimonial__container[_ngcontent-%COMP%]{width:100%;max-width:400px;height:25rem;background-color:hsl(var(--clr-light));padding:2rem}.testimonial__text[_ngcontent-%COMP%]{color:hsl(var(--clr-dark));height:160px;font-style:italic}.testimonial__image_container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;padding:2rem}.circle[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;overflow:hidden}.circle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}@media (max-width: 35rem){h1[_ngcontent-%COMP%]{font-size:calc(2.5rem + 2vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:80%;color:hsl(var(--clr-dark))}.intro[_ngcontent-%COMP%]{height:100%;padding:1rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.section-container[_ngcontent-%COMP%]{padding:2rem;display:flex;flex-wrap:wrap;background:#fff;height:100%;flex-direction:column}.carousel-container[_ngcontent-%COMP%]{display:unset;padding:2rem}}"]}),n})(),mF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-brands"]],decls:34,vars:0,consts:[[1,"section-container"],[1,"text-center","fs-600","--ff-source-sans-pro",2,"width","100%"],[1,"client__container"],[1,"client__logo"],["src","../../../../assets/brands/agencyone.jpg","alt","agencyone"],["src","../../../../assets/brands/Compass.jpg","alt","compass real estate"],["src","../../../../assets/brands/exp.jpg","alt","exp real estate"],["src","../../../../assets/brands/Glencrest.jpg","alt","glencrest property managment"],["src","../../../../assets/brands/Hilton.jpg","alt","hilton hotels"],["src","../../../../assets/brands/JLS.jpg","alt","John L Scott Real Estate"],["src","../../../../assets/brands/REMAX.jpg","alt","REMAX Real Estate"],["src","../../../../assets/brands/206Realty.jpg","alt","206Realty"],["src","../../../../assets/brands/air.jpg","alt","Air BnB "],["src","../../../../assets/brands/KR.jpg","alt","Kelly Right Real Estate"],["src","../../../../assets/brands/skyline.jpg","alt","Skyline Real Estate"],["src","../../../../assets/brands/dc.jpg","alt","Diligence Construction"],["src","../../../../assets/brands/PanoramicDoord.jpg","alt","Panormaic Doors"],["src","../../../../assets/brands/cosmos.jpg","alt","Cosmos Granit Solutions"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c._uU(2," We've had the pleasure of collaborating with some incredible clients."),c._UZ(3,"br")(4,"br"),c.qZA(),c.TgZ(5,"div",2)(6,"div",3),c._UZ(7,"img",4),c.qZA(),c.TgZ(8,"div",3),c._UZ(9,"img",5),c.qZA(),c.TgZ(10,"div",3),c._UZ(11,"img",6),c.qZA(),c.TgZ(12,"div",3),c._UZ(13,"img",7),c.qZA(),c.TgZ(14,"div",3),c._UZ(15,"img",8),c.qZA(),c.TgZ(16,"div",3),c._UZ(17,"img",9),c.qZA(),c.TgZ(18,"div",3),c._UZ(19,"img",10),c.qZA(),c.TgZ(20,"div",3),c._UZ(21,"img",11),c.qZA(),c.TgZ(22,"div",3),c._UZ(23,"img",12),c.qZA(),c.TgZ(24,"div",3),c._UZ(25,"img",13),c.qZA(),c.TgZ(26,"div",3),c._UZ(27,"img",14),c.qZA(),c.TgZ(28,"div",3),c._UZ(29,"img",15),c.qZA(),c.TgZ(30,"div",3),c._UZ(31,"img",16),c.qZA(),c.TgZ(32,"div",3),c._UZ(33,"img",17),c.qZA()()())},styles:[".section-container[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-wrap:wrap;padding:5rem;height:100%}.client__container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3rem;justify-content:center}.client__logo[_ngcontent-%COMP%]{width:150px;height:50px}@media (max-width: 35rem){.section-container[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-wrap:wrap;padding:1rem;height:100%}.client__container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:2rem;justify-content:center}.client__logo[_ngcontent-%COMP%]{width:150px;height:50px}}"]}),n})(),yF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-main-page"]],decls:20,vars:0,consts:[["id","about"],["id","portfolio"],["id","matterport"],["id","aerial"],["id","video"],["id","floorplan"],["id","staging"],["id","estimator"],["id","reviews"],["id","brands"]],template:function(t,r){1&t&&(c.TgZ(0,"section",0),c._UZ(1,"app-hero"),c.qZA(),c.TgZ(2,"section",1),c._UZ(3,"app-photo"),c.qZA(),c.TgZ(4,"section",2),c._UZ(5,"app-tour3d"),c.qZA(),c.TgZ(6,"section",3),c._UZ(7,"app-aerial"),c.qZA(),c.TgZ(8,"section",4),c._UZ(9,"app-video"),c.qZA(),c.TgZ(10,"section",5),c._UZ(11,"app-floorplan"),c.qZA(),c.TgZ(12,"section",6),c._UZ(13,"app-staging"),c.qZA(),c.TgZ(14,"section",7),c._UZ(15,"app-estimator"),c.qZA(),c.TgZ(16,"section",8),c._UZ(17,"app-reviews"),c.qZA(),c.TgZ(18,"section",9),c._UZ(19,"app-brands"),c.qZA())},dependencies:[Qc,cC,z0,G0,dC,hC,us,pF,gF,mF]}),n})();function vF(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"tr")(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td"),c._uU(8),c.qZA(),c.TgZ(9,"td"),c._uU(10),c.qZA(),c.TgZ(11,"td"),c._uU(12),c.qZA(),c.TgZ(13,"td"),c._uU(14),c.qZA(),c.TgZ(15,"td"),c._uU(16),c.qZA(),c.TgZ(17,"td")(18,"button",2),c.NdJ("click",function(){const u=c.CHM(t).$implicit,d=c.oxw();return c.KtG(d.onDelete(u))}),c._uU(19,"Delete"),c.qZA()()()}if(2&n){const t=e.$implicit;c.xp6(2),c.Oqu(t.name),c.xp6(2),c.Oqu(t.email),c.xp6(2),c.Oqu(t.address),c.xp6(2),c.Oqu(t.date),c.xp6(2),c.Oqu(t.time),c.xp6(2),c.Oqu(t.size),c.xp6(2),c.Oqu(t.mediaPackage),c.xp6(2),c.Oqu(t.total)}}let _F=(()=>{class n{constructor(t){this.db=t,this.listOfBootings=[]}ngOnInit(){this.db.getBookings().subscribe(t=>{this.listOfBootings=t}),this.listOfBootings.forEach(t=>{console.log(t)})}onDelete(t){this.db.deleteBooking(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(xO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-booking-list"]],decls:31,vars:1,consts:[[1,"bookingInfo"],[4,"ngFor","ngForOf"],["type","button",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"table",0)(1,"thead")(2,"td")(3,"strong"),c._uU(4,"Customer Name"),c.qZA()(),c.TgZ(5,"td")(6,"strong"),c._uU(7,"Email Address"),c.qZA()(),c.TgZ(8,"td")(9,"strong"),c._uU(10,"Property Address"),c.qZA()(),c.TgZ(11,"td")(12,"strong"),c._uU(13,"Appointment Date"),c.qZA()(),c.TgZ(14,"td")(15,"strong"),c._uU(16,"Time"),c.qZA()(),c.TgZ(17,"td")(18,"strong"),c._uU(19,"Property Size"),c.qZA()(),c.TgZ(20,"td")(21,"strong"),c._uU(22,"Media Packages"),c.qZA()(),c.TgZ(23,"td")(24,"strong"),c._uU(25,"Total Cost"),c.qZA()(),c.TgZ(26,"td")(27,"strong"),c._uU(28,"Commands"),c.qZA()()(),c.TgZ(29,"tbody"),c.YNc(30,vF,20,8,"tr",1),c.qZA()()),2&t&&(c.xp6(30),c.Q6J("ngForOf",r.listOfBootings))},dependencies:[An],styles:[".bookingInfo[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.9rem}.bookingInfo[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .bookingInfo[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #eaeaea;padding:1rem;text-align:left;background-color:#f5f5f5}.bookingInfo[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:700}.bookingInfo[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#f9f9f9}.bookingInfotbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}"]}),n})();const wF=[{path:"",component:yF},{path:"admin",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-admin"]],decls:2,vars:0,consts:[[1,"section-container"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"app-booking-list"),c.qZA())},dependencies:[_F],styles:[".section-container[_ngcontent-%COMP%]{padding:10rem;display:flex;flex-wrap:wrap;background:#FF533D}"]}),n})()}];let IF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[U0.forRoot(wF),U0]}),n})(),bF=(()=>{class n{ngOnInit(){const t=document.querySelector(".primary-navigation"),r=document.querySelector(".mobile-nav-toggle");console.log(t),r.addEventListener("click",()=>{const o=t.getAttribute("data-visible");console.log("visibility: "+o),"false"===o?(t.setAttribute("data-visible","true"),r.setAttribute("aria-expanded","true")):(t.setAttribute("data-visible","false"),r.setAttribute("aria-expanded","false"))})}scrollTo(t){document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-navbar"]],decls:61,vars:0,consts:[[1,"primary-header"],["href","#",1,"logo"],["src","./../../../../assets/srep_logo2.svg"],[1,"primary-naviation-container"],["aria-controls","primary-navigation",1,"mobile-nav-toggle"],["aria-expanded","false",1,"sr-only"],["id","primary-navigation",1,"primary-navigation"],[1,"navbar_item"],["routerLink","/",1,"nav-link","internal",3,"click"],[1,"nav-link","internal",3,"click"],["data-target",".bd-example-modal-lg","data-toggle","modal","href","tel:4253904204",1,"nav-link","internal"],["src","../../../../assets/call.svg"],[1,"mobileMediaText"],["href","mailto:seattlerealestatephoto@gmail.com",1,"nav-link",2,"color","#000000"],["src","../../../../assets/email.svg"],["href","http://www.instagram.com/seattlerealestatephoto",1,"nav-link",2,"color","#000000"],["src","../../../../assets/ig.svg"],["href","http://www.facebook.com/monkifoto",1,"nav-link",2,"color","#000000"],["src","../../../../assets/fb.svg"],["href","https://www.youtube.com/channel/UCqT0likujRE4LjRimlbhxfg",1,"nav-link",2,"color","#000000"],["src","../../../../assets/youtube.svg"]],template:function(t,r){1&t&&(c.TgZ(0,"header",0)(1,"a",1),c._UZ(2,"img",2),c.qZA(),c.TgZ(3,"div",3)(4,"nav")(5,"button",4)(6,"span",5),c._uU(7,"Menu"),c.qZA()(),c.TgZ(8,"ul",6)(9,"li",7)(10,"a",8),c.NdJ("click",function(){return r.scrollTo("about")}),c._uU(11,"HOME"),c.qZA()(),c.TgZ(12,"li",7)(13,"a",8),c.NdJ("click",function(){return r.scrollTo("portfolio")}),c._uU(14,"PHOTOS"),c.qZA()(),c.TgZ(15,"li",7)(16,"a",9),c.NdJ("click",function(){return r.scrollTo("matterport")}),c._uU(17,"3D TOURS"),c.qZA()(),c.TgZ(18,"li",7)(19,"a",9),c.NdJ("click",function(){return r.scrollTo("aerial")}),c._uU(20,"AERIAL"),c.qZA()(),c.TgZ(21,"li",7)(22,"a",9),c.NdJ("click",function(){return r.scrollTo("video")}),c._uU(23,"VIDEO"),c.qZA()(),c.TgZ(24,"li",7)(25,"a",9),c.NdJ("click",function(){return r.scrollTo("floorplan")}),c._uU(26,"FLOOR PLAN"),c.qZA()(),c.TgZ(27,"li",7)(28,"a",9),c.NdJ("click",function(){return r.scrollTo("staging")}),c._uU(29,"VIRTUAL STAGING"),c.qZA()(),c.TgZ(30,"li",7)(31,"a",9),c.NdJ("click",function(){return r.scrollTo("estimator")}),c._uU(32,"BOOK NOW"),c.qZA()(),c.TgZ(33,"li",7)(34,"a",9),c.NdJ("click",function(){return r.scrollTo("contact")}),c._uU(35,"ABOUT US"),c.qZA()(),c.TgZ(36,"li",7)(37,"a",10),c._UZ(38,"img",11),c.TgZ(39,"span",12),c._uU(40,"Call Now"),c.qZA()()(),c.TgZ(41,"li",7)(42,"a",13),c._UZ(43,"img",14),c.TgZ(44,"span",12),c._uU(45,"EMAIL"),c.qZA()()(),c.TgZ(46,"li",7)(47,"a",15),c._UZ(48,"img",16),c.TgZ(49,"span",12),c._uU(50,"INSTAGRAM"),c.qZA()()(),c.TgZ(51,"li",7)(52,"a",17),c._UZ(53,"img",18),c.TgZ(54,"span",12),c._uU(55,"FACEBOOK"),c.qZA()()(),c.TgZ(56,"li",7)(57,"a",19),c._UZ(58,"img",20),c.TgZ(59,"span",12),c._uU(60,"YOUTUBE"),c.qZA()()()()()()())},dependencies:[Bh],styles:[".logo[_ngcontent-%COMP%]{padding-left:2rem;margin:1.5rem clamp(2.5rem,4vw,3.5rem);width:300px}.active[_ngcontent-%COMP%]{cursor:pointer;padding:var(--underline-gap, .5rem) 0;border:0;border-bottom:.2rem solid hsl(var(--clr-dark)/.5)}.primary-header[_ngcontent-%COMP%]{position:fixed;background-color:hsl(var(--clr-light));display:flex;flex:1;justify-content:space-between;align-items:center;width:100%;box-shadow:0 5px 4px #333;z-index:3000}nav[_ngcontent-%COMP%]{padding-inline:3rem;font-family:var(--ff-Montserrat)}.primary-navigation[_ngcontent-%COMP%]{display:flex;font-weight:700;--gap: clamp(.5rem, 1vw, 1rem);gap:var(--gap);width:100%;height:3.5rem;align-items:center;list-style:none;padding:0;margin:0;z-index:1000}.primary-navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:var(--ff-Montserrat);text-decoration:none;text-transform:uppercase;color:hsl(var(--clr-dark));font-weight:700;cursor:pointer}li[_ngcontent-%COMP%]{margin-left:8px;margin-right:8px}.buttons[_ngcontent-%COMP%]{padding:5px 10px!important;font-size:15px;max-width:250px!important;font-weight:700!important}.page-padding[_ngcontent-%COMP%]{height:40px;width:100%}a[_ngcontent-%COMP%]{color:#000;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.mobileMediaText[_ngcontent-%COMP%]{display:none}.nav-link[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.5rem}.mobile-nav-toggle[_ngcontent-%COMP%]{display:none}@media (max-width: 35rem){.primary-navigation[_ngcontent-%COMP%]{--underline-gap: .5rem;position:fixed;align-items:unset;z-index:1000;inset:0 0 0 30%;padding:min(20rem,15vh) 2rem;margin:0;flex-direction:column;transform:translate(100%);transition:transform .5s ease-in-out;border-radius:0;background:hsl(var(--clr-white)/.25);-webkit-backdrop-filter:blur(1.5rem);backdrop-filter:blur(1.5rem);height:100%}.navigationprimary-[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:hsl(var(--clr-dark));text-decoration:none}.primary-navigation[data-visible=true][_ngcontent-%COMP%]{transform:translate(0)}.mobile-nav-toggle[_ngcontent-%COMP%]{display:block;position:absolute;z-index:2000;right:1rem;top:1.5rem;color:var(--foreground);background:transparent;background-image:url(icon-hamburger.ef2b7749eccd4304.svg);background-repeat:no-repeat;width:1.5rem;aspect-ratio:1;border:0}.mobile-nav-toggle[aria-expanded=true][_ngcontent-%COMP%]{background-image:url(icon-close.c3442543958d2f04.svg)}.mobile-nav-toggle[_ngcontent-%COMP%]:focus-visible{outline:5px solid red;outline-offset:5px}.primary-navigation.underline-indicators[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%]{border:0}nav[_ngcontent-%COMP%]{border-radius:0;background-color:#fff;padding-inline:0;display:flex;flex-wrap:wrap}.primary-header[_ngcontent-%COMP%]{display:flex;justify-content:left}.logo[_ngcontent-%COMP%]{all:unset;padding:.5rem;width:200px}li[_ngcontent-%COMP%]{margin-top:.5rem}.mobileMediaText[_ngcontent-%COMP%]{display:inline}}"]}),n})(),EF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-footer"]],decls:72,vars:0,consts:[[1,"section-container"],[1,"container","info-container"],[1,"intro"],[1,"subtitle"],["alt","Alex Bucse","src","https://1.bp.blogspot.com/-mkT1lxjA3cA/X39u-wvRTYI/AAAAAAADpkg/gcFZGp2HzAEep2Htc859m2UZezn4GCwkACLcBGAsYHQ/s160/DSC00376-Edit.jpg",2,"border-radius","50%","padding-bottom","30px","padding-top","50"],[1,"container","carousel-container"],[1,"image_carousel_container"],["href","mailto:seattlerealestatephoto@gmail.com"],["href","tel:4253904204"],[1,"container","links-container"],["src","../../../../assets/email.svg","alt","Email"],["src","../../../../assets/call.svg","alt","call"],["href","http://www.instagram.com/seattlerealestatephoto","target","_blank"],["src","../../../../assets/ig.svg","alt","Instagram"],["href","http://www.facebook.com/seattlerealestatemedia","target","_blank"],["src","../../../../assets/fb.svg","alt","Facebool"],["href","https://www.youtube.com/channel/UCqT0likujRE4LjRimlbhxfg","target","_blank",2,"padding","10px","color","#0f1626","line-height","35px"],["href","https://www.yelp.com/biz/monkifoto-renton","target","_blank"],["data-id","about","href","#about",1,"nav-link","internal"],["data-id","portfolio","href","#portfolio",1,"nav-link","internal"],["data-id","video","href","#video",1,"nav-link","internal"],["data-id","aerial","href","#aerial",1,"nav-link","internal"],["data-id","matterport","href","#matterport",1,"nav-link","internal"],["data-id","pricing","href","#booknow",1,"nav-link","internal"],["href","https://seattlerealestatephoto.pixieset.com/",1,"nav-link"],["href","#","routerLink","/admin","routerLinkActive","active",1,""],[1,"container"],[2,"text-align","center"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"h1"),c._uU(4,"About Me"),c.qZA(),c.TgZ(5,"p",3),c._UZ(6,"img",4)(7,"br"),c.TgZ(8,"b"),c._uU(9,"Alex Bucse"),c.qZA(),c._UZ(10,"br"),c.TgZ(11,"strong"),c._uU(12,"Licensed Agent with EXP Realty"),c.qZA(),c._UZ(13,"br"),c.TgZ(14,"small"),c._uU(15,"Founder of "),c._UZ(16,"br"),c._uU(17,"Seattle Real Estate Photo "),c._UZ(18,"br"),c._uU(19," (425) 390-4204 "),c.qZA()()()(),c.TgZ(20,"div",5)(21,"div",6)(22,"p"),c._uU(23," While attending Sammamish Highschool, I began my photography career. I was offered a sales position at Kit's Camera. It wasn't long before I found myself working in the 1-hour photo booth due to my passion for developing and printing photos. There is a good chance I have printed some of your photos during your film days in Factoria, Issaquah, South Center, and Klahanie. "),c._UZ(24,"br")(25,"br"),c._uU(26," Over the years, shooting a variety of events, weddings, commercial products, I came to the realization that my passion is photographing architecture and interiors. "),c._UZ(27,"br")(28,"br"),c._uU(29," Please don't hesitate to reach out to me using "),c.TgZ(30,"a",7),c._uU(31,"email"),c.qZA(),c._uU(32,","),c.TgZ(33,"a",8),c._uU(34," call "),c.qZA(),c._uU(35,"or text. "),c.qZA()()()(),c.TgZ(36,"div",9)(37,"a",7),c._UZ(38,"img",10),c._uU(39," Email"),c.qZA(),c.TgZ(40,"a",8),c._UZ(41,"img",11),c._uU(42,"425 390 4204"),c.qZA(),c.TgZ(43,"a",12),c._UZ(44,"img",13),c._uU(45," Instagram"),c.qZA(),c.TgZ(46,"a",14),c._UZ(47,"img",15),c._uU(48,"Facebook"),c.qZA(),c.TgZ(49,"a",16),c._uU(50,"Youtube"),c.qZA(),c.TgZ(51,"a",17),c._uU(52,"Yelp"),c.qZA(),c.TgZ(53,"a",18),c._uU(54,"HOME"),c.qZA(),c.TgZ(55,"a",19),c._uU(56,"PHOTOGRAPHY"),c.qZA(),c.TgZ(57,"a",20),c._uU(58,"VIDEO"),c.qZA(),c.TgZ(59,"a",21),c._uU(60,"AERIAL"),c.qZA(),c.TgZ(61,"a",22),c._uU(62,"MATTERPORT 3D"),c.qZA(),c.TgZ(63,"a",23),c._uU(64,"BOOK NOW"),c.qZA(),c.TgZ(65,"a",24),c._uU(66,"CLIENT PORTAL"),c.qZA(),c.TgZ(67,"a",25),c._uU(68,"Admin"),c.qZA()(),c.TgZ(69,"div",26)(70,"p",27),c._uU(71," Copyright \xa9 2018 - 2022 Seattle Real Estate Photo - All Rights Reserved. Design by Alex Bucse. "),c.qZA()())},dependencies:[Bh,N0],styles:['.section-container[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-wrap:wrap;padding:5rem;height:100%}h1[_ngcontent-%COMP%]{font-size:calc(3rem + 3vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:50%;color:hsl(var(--clr-dark))}.btn-group[_ngcontent-%COMP%]{margin:2em 0;display:relative}.btn[_ngcontent-%COMP%]{padding:1em 2em;text-decoration:none;text-transform:uppercase;border-radius:5px;position:relative;display:inline-block;line-height:1}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:1em}.btn-secondary[_ngcontent-%COMP%]{background:var(--foreground);color:var(--background)}.btn-accent[_ngcontent-%COMP%]{background:hsl(var(--clr-light));color:var(--foreground)}.btn[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;left:-4px;top:4px;border-radius:inherit;z-index:-1}.intro[_ngcontent-%COMP%]{height:30vh;padding:10rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.intro[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-column:2/3}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background-color:hsl(var(--clr-light))}.container[_ngcontent-%COMP%]{display:grid;flex:1;align-items:center;justify-content:center}.info-container[_ngcontent-%COMP%]{padding:1rem}.image_carousel_container[_ngcontent-%COMP%]{margin:auto;padding:auto}.subtitle[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:1rem;color:hsl(var(--clr-dark))}.links-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:row;gap:2rem}img[_ngcontent-%COMP%]{height:1.5rem}a[_ngcontent-%COMP%]{color:hsl(var(--clr-dark))}@media (max-width: 35rem){h1[_ngcontent-%COMP%]{font-size:calc(2.5rem + 2vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:80%;color:hsl(var(--clr-dark))}.intro[_ngcontent-%COMP%]{height:100%;padding:1rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.section-container[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-wrap:wrap;background-color:hsl(var(--clr-light));height:100%;flex-direction:column}.carousel-container[_ngcontent-%COMP%]{display:unset;padding:2rem}}']}),n})(),CF=(()=>{class n{constructor(){this.title="seattlerealestatemedia"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[["id","contact"]],template:function(t,r){1&t&&(c._UZ(0,"app-navbar")(1,"router-outlet"),c.TgZ(2,"section",0),c._UZ(3,"app-footer"),c.qZA())},dependencies:[Dp,bF,EF]}),n})();const OO_firebase={projectId:"seattlerealestatemedia",appId:"1:188058057245:web:53845acab161c0969464f4",databaseURL:"https://seattlerealestatemedia-default-rtdb.firebaseio.com",storageBucket:"seattlerealestatemedia.appspot.com",apiKey:"AIzaSyDk5vxQCHtXQwUPrgSHT57P2qg6Fvc_v7A",authDomain:"seattlerealestatemedia.firebaseapp.com",messagingSenderId:"188058057245",measurementId:"G-EP2DD51D6W"};L(3432);class RO{constructor(){return(0,mn.vb)("auth")}}class AS{constructor(e){return e}}const NO="firestore",TS=new c.OlP("angularfire2.firestore-instances");function xF(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new AS(r)}}const OF={provide:class SF{constructor(){return(0,mn.vb)(NO)}},deps:[[new c.FiY,TS]]},PF={provide:AS,useFactory:function MF(n,e){const t=(0,mn.JM)(NO,n,e);return t&&new AS(t)},deps:[[new c.FiY,TS],_m]};let RF=(()=>{class n{constructor(){(0,Qf.KN)("angularfire",mn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[PF,OF]}),n})();function NF(n,...e){return{ngModule:RF,providers:[{provide:TS,useFactory:xF(n),multi:!0,deps:[c.R0b,c.zs3,mn.HU,G1,[new c.FiY,RO],[new c.FiY,dE],...e]}]}}const kF=(0,mn.u3)(zR,!0);let FF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[CF]}),n.\u0275inj=c.cJS({imports:[bo,IF,Gw,ig,oF,Os.hO.initializeApp(OO_firebase),ok(()=>ak(OO_firebase)),NF(()=>kF())]}),n})();El().bootstrapModule(FF).catch(n=>console.error(n))},9751:(ht,Ce,L)=>{L.d(Ce,{y:()=>ce});var c=L(2961),B=L(727),P=L(8822),te=L(9635),re=L(2416),se=L(576),fe=L(2806);let ce=(()=>{class q{constructor(De){De&&(this._subscribe=De)}lift(De){const ze=new q;return ze.source=this,ze.operator=De,ze}subscribe(De,ze,st){const pe=function z(q){return q&&q instanceof c.Lv||function H(q){return q&&(0,se.m)(q.next)&&(0,se.m)(q.error)&&(0,se.m)(q.complete)}(q)&&(0,B.Nn)(q)}(De)?De:new c.Hp(De,ze,st);return(0,fe.x)(()=>{const{operator:Ie,source:we}=this;pe.add(Ie?Ie.call(pe,we):we?this._subscribe(pe):this._trySubscribe(pe))}),pe}_trySubscribe(De){try{return this._subscribe(De)}catch(ze){De.error(ze)}}forEach(De,ze){return new(ze=he(ze))((st,pe)=>{const Ie=new c.Hp({next:we=>{try{De(we)}catch(Pe){pe(Pe),Ie.unsubscribe()}},error:pe,complete:st});this.subscribe(Ie)})}_subscribe(De){var ze;return null===(ze=this.source)||void 0===ze?void 0:ze.subscribe(De)}[P.L](){return this}pipe(...De){return(0,te.U)(De)(this)}toPromise(De){return new(De=he(De))((ze,st)=>{let pe;this.subscribe(Ie=>pe=Ie,Ie=>st(Ie),()=>ze(pe))})}}return q.create=Ve=>new q(Ve),q})();function he(q){var Ve;return null!==(Ve=q??re.v.Promise)&&void 0!==Ve?Ve:Promise}},7579:(ht,Ce,L)=>{L.d(Ce,{x:()=>fe});var c=L(9751),B=L(727);const te=(0,L(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=L(8737),se=L(2806);let fe=(()=>{class he extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const q=new ce(this,this);return q.operator=z,q}_throwIfClosed(){if(this.closed)throw new te}next(z){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const q of this.currentObservers)q.next(z)}})}error(z){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:q}=this;for(;q.length;)q.shift().error(z)}})}complete(){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:q,isStopped:Ve,observers:De}=this;return q||Ve?B.Lc:(this.currentObservers=null,De.push(z),new B.w0(()=>{this.currentObservers=null,(0,re.P)(De,z)}))}_checkFinalizedStatuses(z){const{hasError:q,thrownError:Ve,isStopped:De}=this;q?z.error(Ve):De&&z.complete()}asObservable(){const z=new c.y;return z.source=this,z}}return he.create=(H,z)=>new ce(H,z),he})();class ce extends fe{constructor(H,z){super(),this.destination=H,this.source=z}next(H){var z,q;null===(q=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===q||q.call(z,H)}error(H){var z,q;null===(q=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===q||q.call(z,H)}complete(){var H,z;null===(z=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===z||z.call(H)}_subscribe(H){var z,q;return null!==(q=null===(z=this.source)||void 0===z?void 0:z.subscribe(H))&&void 0!==q?q:B.Lc}}},2961:(ht,Ce,L)=>{L.d(Ce,{Hp:()=>st,Lv:()=>q});var c=L(576),B=L(727),P=L(2416),te=L(7849);function re(){}const se=he("C",void 0,void 0);function he(Ae,xe,be){return{kind:Ae,value:xe,error:be}}var H=L(3410),z=L(2806);class q extends B.w0{constructor(xe){super(),this.isStopped=!1,xe?(this.destination=xe,(0,B.Nn)(xe)&&xe.add(this)):this.destination=Pe}static create(xe,be,$e){return new st(xe,be,$e)}next(xe){this.isStopped?we(function ce(Ae){return he("N",Ae,void 0)}(xe),this):this._next(xe)}error(xe){this.isStopped?we(function fe(Ae){return he("E",void 0,Ae)}(xe),this):(this.isStopped=!0,this._error(xe))}complete(){this.isStopped?we(se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(xe){this.destination.next(xe)}_error(xe){try{this.destination.error(xe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function De(Ae,xe){return Ve.call(Ae,xe)}class ze{constructor(xe){this.partialObserver=xe}next(xe){const{partialObserver:be}=this;if(be.next)try{be.next(xe)}catch($e){pe($e)}}error(xe){const{partialObserver:be}=this;if(be.error)try{be.error(xe)}catch($e){pe($e)}else pe(xe)}complete(){const{partialObserver:xe}=this;if(xe.complete)try{xe.complete()}catch(be){pe(be)}}}class st extends q{constructor(xe,be,$e){let K;if(super(),(0,c.m)(xe)||!xe)K={next:xe??void 0,error:be??void 0,complete:$e??void 0};else{let oe;this&&P.v.useDeprecatedNextContext?(oe=Object.create(xe),oe.unsubscribe=()=>this.unsubscribe(),K={next:xe.next&&De(xe.next,oe),error:xe.error&&De(xe.error,oe),complete:xe.complete&&De(xe.complete,oe)}):K=xe}this.destination=new ze(K)}}function pe(Ae){P.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Ae):(0,te.h)(Ae)}function we(Ae,xe){const{onStoppedNotification:be}=P.v;be&&H.z.setTimeout(()=>be(Ae,xe))}const Pe={closed:!0,next:re,error:function Ie(Ae){throw Ae},complete:re}},727:(ht,Ce,L)=>{L.d(Ce,{Lc:()=>se,w0:()=>re,Nn:()=>fe});var c=L(576);const P=(0,L(3888).d)(he=>function(z){he(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((q,Ve)=>`${Ve+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var te=L(8737);class re{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const De of z)De.remove(this);else z.remove(this);const{initialTeardown:q}=this;if((0,c.m)(q))try{q()}catch(De){H=De instanceof P?De.errors:[De]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const De of Ve)try{ce(De)}catch(ze){H=H??[],ze instanceof P?H=[...H,...ze.errors]:H.push(ze)}}if(H)throw new P(H)}}add(H){var z;if(H&&H!==this)if(this.closed)ce(H);else{if(H instanceof re){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(H)}}_hasParent(H){const{_parentage:z}=this;return z===H||Array.isArray(z)&&z.includes(H)}_addParent(H){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(H),z):z?[z,H]:H}_removeParent(H){const{_parentage:z}=this;z===H?this._parentage=null:Array.isArray(z)&&(0,te.P)(z,H)}remove(H){const{_finalizers:z}=this;z&&(0,te.P)(z,H),H instanceof re&&H._removeParent(this)}}re.EMPTY=(()=>{const he=new re;return he.closed=!0,he})();const se=re.EMPTY;function fe(he){return he instanceof re||he&&"closed"in he&&(0,c.m)(he.remove)&&(0,c.m)(he.add)&&(0,c.m)(he.unsubscribe)}function ce(he){(0,c.m)(he)?he():he.unsubscribe()}},2416:(ht,Ce,L)=>{L.d(Ce,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ht,Ce,L)=>{L.d(Ce,{E:()=>B});const B=new(L(9751).y)(re=>re.complete())},8996:(ht,Ce,L)=>{L.d(Ce,{D:()=>xe});var c=L(8421),B=L(5363),P=L(9468),se=L(9751),ce=L(2202),he=L(576),H=L(9672);function q(be,$e){if(!be)throw new Error("Iterable cannot be null");return new se.y(K=>{(0,H.f)(K,$e,()=>{const oe=be[Symbol.asyncIterator]();(0,H.f)(K,$e,()=>{oe.next().then(ge=>{ge.done?K.complete():K.next(ge.value)})},0,!0)})})}var Ve=L(3670),De=L(8239),ze=L(1144),st=L(6495),pe=L(2206),Ie=L(4532),we=L(3260);function xe(be,$e){return $e?function Ae(be,$e){if(null!=be){if((0,Ve.c)(be))return function te(be,$e){return(0,c.Xf)(be).pipe((0,P.R)($e),(0,B.Q)($e))}(be,$e);if((0,ze.z)(be))return function fe(be,$e){return new se.y(K=>{let oe=0;return $e.schedule(function(){oe===be.length?K.complete():(K.next(be[oe++]),K.closed||this.schedule())})})}(be,$e);if((0,De.t)(be))return function re(be,$e){return(0,c.Xf)(be).pipe((0,P.R)($e),(0,B.Q)($e))}(be,$e);if((0,pe.D)(be))return q(be,$e);if((0,st.T)(be))return function z(be,$e){return new se.y(K=>{let oe;return(0,H.f)(K,$e,()=>{oe=be[ce.h](),(0,H.f)(K,$e,()=>{let ge,Ge;try{({value:ge,done:Ge}=oe.next())}catch(je){return void K.error(je)}Ge?K.complete():K.next(ge)},0,!0)}),()=>(0,he.m)(oe?.return)&&oe.return()})}(be,$e);if((0,we.L)(be))return function Pe(be,$e){return q((0,we.Q)(be),$e)}(be,$e)}throw(0,Ie.z)(be)}(be,$e):(0,c.Xf)(be)}},8421:(ht,Ce,L)=>{L.d(Ce,{Xf:()=>Ve});var c=L(655),B=L(1144),P=L(8239),te=L(9751),re=L(3670),se=L(2206),fe=L(4532),ce=L(6495),he=L(3260),H=L(576),z=L(7849),q=L(8822);function Ve(Ae){if(Ae instanceof te.y)return Ae;if(null!=Ae){if((0,re.c)(Ae))return function De(Ae){return new te.y(xe=>{const be=Ae[q.L]();if((0,H.m)(be.subscribe))return be.subscribe(xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,B.z)(Ae))return function ze(Ae){return new te.y(xe=>{for(let be=0;be<Ae.length&&!xe.closed;be++)xe.next(Ae[be]);xe.complete()})}(Ae);if((0,P.t)(Ae))return function st(Ae){return new te.y(xe=>{Ae.then(be=>{xe.closed||(xe.next(be),xe.complete())},be=>xe.error(be)).then(null,z.h)})}(Ae);if((0,se.D)(Ae))return Ie(Ae);if((0,ce.T)(Ae))return function pe(Ae){return new te.y(xe=>{for(const be of Ae)if(xe.next(be),xe.closed)return;xe.complete()})}(Ae);if((0,he.L)(Ae))return function we(Ae){return Ie((0,he.Q)(Ae))}(Ae)}throw(0,fe.z)(Ae)}function Ie(Ae){return new te.y(xe=>{(function Pe(Ae,xe){var be,$e,K,oe;return(0,c.mG)(this,void 0,void 0,function*(){try{for(be=(0,c.KL)(Ae);!($e=yield be.next()).done;)if(xe.next($e.value),xe.closed)return}catch(ge){K={error:ge}}finally{try{$e&&!$e.done&&(oe=be.return)&&(yield oe.call(be))}finally{if(K)throw K.error}}xe.complete()})})(Ae,xe).catch(be=>xe.error(be))})}},6451:(ht,Ce,L)=>{L.d(Ce,{T:()=>se});var c=L(8189),B=L(8421),P=L(515),te=L(7669),re=L(8996);function se(...fe){const ce=(0,te.yG)(fe),he=(0,te._6)(fe,1/0),H=fe;return H.length?1===H.length?(0,B.Xf)(H[0]):(0,c.J)(he)((0,re.D)(H,ce)):P.E}},5403:(ht,Ce,L)=>{L.d(Ce,{x:()=>B});var c=L(2961);function B(te,re,se,fe,ce){return new P(te,re,se,fe,ce)}class P extends c.Lv{constructor(re,se,fe,ce,he,H){super(re),this.onFinalize=he,this.shouldUnsubscribe=H,this._next=se?function(z){try{se(z)}catch(q){re.error(q)}}:super._next,this._error=ce?function(z){try{ce(z)}catch(q){re.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(z){re.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:se}=this;super.unsubscribe(),!se&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},4004:(ht,Ce,L)=>{L.d(Ce,{U:()=>P});var c=L(4482),B=L(5403);function P(te,re){return(0,c.e)((se,fe)=>{let ce=0;se.subscribe((0,B.x)(fe,he=>{fe.next(te.call(re,he,ce++))}))})}},8189:(ht,Ce,L)=>{L.d(Ce,{J:()=>P});var c=L(5577),B=L(4671);function P(te=1/0){return(0,c.z)(B.y,te)}},5577:(ht,Ce,L)=>{L.d(Ce,{z:()=>ce});var c=L(4004),B=L(8421),P=L(4482),te=L(9672),re=L(5403),fe=L(576);function ce(he,H,z=1/0){return(0,fe.m)(H)?ce((q,Ve)=>(0,c.U)((De,ze)=>H(q,De,Ve,ze))((0,B.Xf)(he(q,Ve))),z):("number"==typeof H&&(z=H),(0,P.e)((q,Ve)=>function se(he,H,z,q,Ve,De,ze,st){const pe=[];let Ie=0,we=0,Pe=!1;const Ae=()=>{Pe&&!pe.length&&!Ie&&H.complete()},xe=$e=>Ie<q?be($e):pe.push($e),be=$e=>{De&&H.next($e),Ie++;let K=!1;(0,B.Xf)(z($e,we++)).subscribe((0,re.x)(H,oe=>{Ve?.(oe),De?xe(oe):H.next(oe)},()=>{K=!0},void 0,()=>{if(K)try{for(Ie--;pe.length&&Ie<q;){const oe=pe.shift();ze?(0,te.f)(H,ze,()=>be(oe)):be(oe)}Ae()}catch(oe){H.error(oe)}}))};return he.subscribe((0,re.x)(H,xe,()=>{Pe=!0,Ae()})),()=>{st?.()}}(q,Ve,he,z)))}},5363:(ht,Ce,L)=>{L.d(Ce,{Q:()=>te});var c=L(9672),B=L(4482),P=L(5403);function te(re,se=0){return(0,B.e)((fe,ce)=>{fe.subscribe((0,P.x)(ce,he=>(0,c.f)(ce,re,()=>ce.next(he),se),()=>(0,c.f)(ce,re,()=>ce.complete(),se),he=>(0,c.f)(ce,re,()=>ce.error(he),se)))})}},3099:(ht,Ce,L)=>{L.d(Ce,{B:()=>re});var c=L(8421),B=L(7579),P=L(2961),te=L(4482);function re(fe={}){const{connector:ce=(()=>new B.x),resetOnError:he=!0,resetOnComplete:H=!0,resetOnRefCountZero:z=!0}=fe;return q=>{let Ve,De,ze,st=0,pe=!1,Ie=!1;const we=()=>{De?.unsubscribe(),De=void 0},Pe=()=>{we(),Ve=ze=void 0,pe=Ie=!1},Ae=()=>{const xe=Ve;Pe(),xe?.unsubscribe()};return(0,te.e)((xe,be)=>{st++,!Ie&&!pe&&we();const $e=ze=ze??ce();be.add(()=>{st--,0===st&&!Ie&&!pe&&(De=se(Ae,z))}),$e.subscribe(be),!Ve&&st>0&&(Ve=new P.Hp({next:K=>$e.next(K),error:K=>{Ie=!0,we(),De=se(Pe,he,K),$e.error(K)},complete:()=>{pe=!0,we(),De=se(Pe,H),$e.complete()}}),(0,c.Xf)(xe).subscribe(Ve))})(q)}}function se(fe,ce,...he){if(!0===ce)return void fe();if(!1===ce)return;const H=new P.Hp({next:()=>{H.unsubscribe(),fe()}});return(0,c.Xf)(ce(...he)).subscribe(H)}},9468:(ht,Ce,L)=>{L.d(Ce,{R:()=>B});var c=L(4482);function B(P,te=0){return(0,c.e)((re,se)=>{se.add(P.schedule(()=>re.subscribe(se),te))})}},8505:(ht,Ce,L)=>{L.d(Ce,{b:()=>re});var c=L(576),B=L(4482),P=L(5403),te=L(4671);function re(se,fe,ce){const he=(0,c.m)(se)||fe||ce?{next:se,error:fe,complete:ce}:se;return he?(0,B.e)((H,z)=>{var q;null===(q=he.subscribe)||void 0===q||q.call(he);let Ve=!0;H.subscribe((0,P.x)(z,De=>{var ze;null===(ze=he.next)||void 0===ze||ze.call(he,De),z.next(De)},()=>{var De;Ve=!1,null===(De=he.complete)||void 0===De||De.call(he),z.complete()},De=>{var ze;Ve=!1,null===(ze=he.error)||void 0===ze||ze.call(he,De),z.error(De)},()=>{var De,ze;Ve&&(null===(De=he.unsubscribe)||void 0===De||De.call(he)),null===(ze=he.finalize)||void 0===ze||ze.call(he)}))}):te.y}},4408:(ht,Ce,L)=>{L.d(Ce,{o:()=>re});var c=L(727);class B extends c.w0{constructor(fe,ce){super()}schedule(fe,ce=0){return this}}const P={setInterval(se,fe,...ce){const{delegate:he}=P;return he?.setInterval?he.setInterval(se,fe,...ce):setInterval(se,fe,...ce)},clearInterval(se){const{delegate:fe}=P;return(fe?.clearInterval||clearInterval)(se)},delegate:void 0};var te=L(8737);class re extends B{constructor(fe,ce){super(fe,ce),this.scheduler=fe,this.work=ce,this.pending=!1}schedule(fe,ce=0){var he;if(this.closed)return this;this.state=fe;const H=this.id,z=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId(z,H,ce)),this.pending=!0,this.delay=ce,this.id=null!==(he=this.id)&&void 0!==he?he:this.requestAsyncId(z,this.id,ce),this}requestAsyncId(fe,ce,he=0){return P.setInterval(fe.flush.bind(fe,this),he)}recycleAsyncId(fe,ce,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return ce;null!=ce&&P.clearInterval(ce)}execute(fe,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(fe,ce);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,ce){let H,he=!1;try{this.work(fe)}catch(z){he=!0,H=z||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:fe,scheduler:ce}=this,{actions:he}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,te.P)(he,this),null!=fe&&(this.id=this.recycleAsyncId(ce,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(ht,Ce,L)=>{L.d(Ce,{v:()=>P});var c=L(6063);class B{constructor(re,se=B.now){this.schedulerActionCtor=re,this.now=se}schedule(re,se=0,fe){return new this.schedulerActionCtor(this,re).schedule(fe,se)}}B.now=c.l.now;class P extends B{constructor(re,se=B.now){super(re,se),this.actions=[],this._active=!1}flush(re){const{actions:se}=this;if(this._active)return void se.push(re);let fe;this._active=!0;do{if(fe=re.execute(re.state,re.delay))break}while(re=se.shift());if(this._active=!1,fe){for(;re=se.shift();)re.unsubscribe();throw fe}}}},4986:(ht,Ce,L)=>{L.d(Ce,{z:()=>P});var c=L(4408);const P=new(L(7565).v)(c.o)},6063:(ht,Ce,L)=>{L.d(Ce,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(ht,Ce,L)=>{L.d(Ce,{z:()=>c});const c={setTimeout(B,P,...te){const{delegate:re}=c;return re?.setTimeout?re.setTimeout(B,P,...te):setTimeout(B,P,...te)},clearTimeout(B){const{delegate:P}=c;return(P?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(ht,Ce,L)=>{L.d(Ce,{h:()=>B});const B=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ht,Ce,L)=>{L.d(Ce,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ht,Ce,L)=>{L.d(Ce,{_6:()=>se,jO:()=>te,yG:()=>re});var c=L(576);function P(fe){return fe[fe.length-1]}function te(fe){return(0,c.m)(P(fe))?fe.pop():void 0}function re(fe){return function B(fe){return fe&&(0,c.m)(fe.schedule)}(P(fe))?fe.pop():void 0}function se(fe,ce){return"number"==typeof P(fe)?fe.pop():ce}},8737:(ht,Ce,L)=>{function c(B,P){if(B){const te=B.indexOf(P);0<=te&&B.splice(te,1)}}L.d(Ce,{P:()=>c})},3888:(ht,Ce,L)=>{function c(B){const te=B(re=>{Error.call(re),re.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}L.d(Ce,{d:()=>c})},2806:(ht,Ce,L)=>{L.d(Ce,{O:()=>te,x:()=>P});var c=L(2416);let B=null;function P(re){if(c.v.useDeprecatedSynchronousErrorHandling){const se=!B;if(se&&(B={errorThrown:!1,error:null}),re(),se){const{errorThrown:fe,error:ce}=B;if(B=null,fe)throw ce}}else re()}function te(re){c.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=re)}},9672:(ht,Ce,L)=>{function c(B,P,te,re=0,se=!1){const fe=P.schedule(function(){te(),se?B.add(this.schedule(null,re)):this.unsubscribe()},re);if(B.add(fe),!se)return fe}L.d(Ce,{f:()=>c})},4671:(ht,Ce,L)=>{function c(B){return B}L.d(Ce,{y:()=>c})},1144:(ht,Ce,L)=>{L.d(Ce,{z:()=>c});const c=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(ht,Ce,L)=>{L.d(Ce,{D:()=>B});var c=L(576);function B(P){return Symbol.asyncIterator&&(0,c.m)(P?.[Symbol.asyncIterator])}},576:(ht,Ce,L)=>{function c(B){return"function"==typeof B}L.d(Ce,{m:()=>c})},3670:(ht,Ce,L)=>{L.d(Ce,{c:()=>P});var c=L(8822),B=L(576);function P(te){return(0,B.m)(te[c.L])}},6495:(ht,Ce,L)=>{L.d(Ce,{T:()=>P});var c=L(2202),B=L(576);function P(te){return(0,B.m)(te?.[c.h])}},8239:(ht,Ce,L)=>{L.d(Ce,{t:()=>B});var c=L(576);function B(P){return(0,c.m)(P?.then)}},3260:(ht,Ce,L)=>{L.d(Ce,{L:()=>te,Q:()=>P});var c=L(655),B=L(576);function P(re){return(0,c.FC)(this,arguments,function*(){const fe=re.getReader();try{for(;;){const{value:ce,done:he}=yield(0,c.qq)(fe.read());if(he)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(ce)}}finally{fe.releaseLock()}})}function te(re){return(0,B.m)(re?.getReader)}},4482:(ht,Ce,L)=>{L.d(Ce,{A:()=>B,e:()=>P});var c=L(576);function B(te){return(0,c.m)(te?.lift)}function P(te){return re=>{if(B(re))return re.lift(function(se){try{return te(se,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(ht,Ce,L)=>{L.d(Ce,{U:()=>P,z:()=>B});var c=L(4671);function B(...te){return P(te)}function P(te){return 0===te.length?c.y:1===te.length?te[0]:function(se){return te.reduce((fe,ce)=>ce(fe),se)}}},7849:(ht,Ce,L)=>{L.d(Ce,{h:()=>P});var c=L(2416),B=L(3410);function P(te){B.z.setTimeout(()=>{const{onUnhandledError:re}=c.v;if(!re)throw te;re(te)})}},4532:(ht,Ce,L)=>{function c(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Ce,{z:()=>c})},655:(ht,Ce,L)=>{function te(ie,de){var ve={};for(var Se in ie)Object.prototype.hasOwnProperty.call(ie,Se)&&de.indexOf(Se)<0&&(ve[Se]=ie[Se]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(Se=Object.getOwnPropertySymbols(ie);ke<Se.length;ke++)de.indexOf(Se[ke])<0&&Object.prototype.propertyIsEnumerable.call(ie,Se[ke])&&(ve[Se[ke]]=ie[Se[ke]])}return ve}function q(ie,de,ve,Se){return new(ve||(ve=Promise))(function(Le,Je){function Ye(ct){try{mt(Se.next(ct))}catch(et){Je(et)}}function sn(ct){try{mt(Se.throw(ct))}catch(et){Je(et)}}function mt(ct){ct.done?Le(ct.value):function ke(Le){return Le instanceof ve?Le:new ve(function(Je){Je(Le)})}(ct.value).then(Ye,sn)}mt((Se=Se.apply(ie,de||[])).next())})}function Ae(ie){return this instanceof Ae?(this.v=ie,this):new Ae(ie)}function xe(ie,de,ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,Se=ve.apply(ie,de||[]),Le=[];return ke={},Je("next"),Je("throw"),Je("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function Je(tn){Se[tn]&&(ke[tn]=function(Nn){return new Promise(function(cn,on){Le.push([tn,Nn,cn,on])>1||Ye(tn,Nn)})})}function Ye(tn,Nn){try{!function sn(tn){tn.value instanceof Ae?Promise.resolve(tn.value.v).then(mt,ct):et(Le[0][2],tn)}(Se[tn](Nn))}catch(cn){et(Le[0][3],cn)}}function mt(tn){Ye("next",tn)}function ct(tn){Ye("throw",tn)}function et(tn,Nn){tn(Nn),Le.shift(),Le.length&&Ye(Le[0][0],Le[0][1])}}function $e(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,de=ie[Symbol.asyncIterator];return de?de.call(ie):(ie=function st(ie){var de="function"==typeof Symbol&&Symbol.iterator,ve=de&&ie[de],Se=0;if(ve)return ve.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&Se>=ie.length&&(ie=void 0),{value:ie&&ie[Se++],done:!ie}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(ie),ve={},Se("next"),Se("throw"),Se("return"),ve[Symbol.asyncIterator]=function(){return this},ve);function Se(Le){ve[Le]=ie[Le]&&function(Je){return new Promise(function(Ye,sn){!function ke(Le,Je,Ye,sn){Promise.resolve(sn).then(function(mt){Le({value:mt,done:Ye})},Je)}(Ye,sn,(Je=ie[Le](Je)).done,Je.value)})}}}L.d(Ce,{FC:()=>xe,KL:()=>$e,_T:()=>te,mG:()=>q,qq:()=>Ae})},4650:(ht,Ce,L)=>{L.d(Ce,{$8M:()=>Io,$WT:()=>Yr,$Z:()=>B0,AFp:()=>Ua,AaK:()=>ce,CHM:()=>wc,CRH:()=>$i,CZH:()=>Lu,CqO:()=>PC,D6c:()=>pb,EJc:()=>Ti,EpF:()=>Ny,F4k:()=>OC,FYo:()=>w0,FiY:()=>Ui,GfV:()=>I0,Gpc:()=>z,JOm:()=>li,KtG:()=>nh,LFG:()=>Ue,LSH:()=>Rh,Lbi:()=>PD,Lck:()=>uD,MAs:()=>Xp,MMx:()=>Cg,NdJ:()=>Ew,OlP:()=>bn,Oqu:()=>Ky,P3R:()=>Xm,PXZ:()=>jD,Q6J:()=>Ry,QGY:()=>bw,Qsj:()=>FE,R0b:()=>Ns,RDi:()=>mE,Rgc:()=>Td,SBq:()=>Aa,Sil:()=>Bg,Suo:()=>Df,TTD:()=>Vs,TgZ:()=>Du,Udp:()=>qy,VKq:()=>Mv,X6Q:()=>e_,XFs:()=>rt,Xpm:()=>Vr,Xts:()=>wu,Y36:()=>Yc,YKP:()=>Av,YNc:()=>mw,Yjl:()=>Qu,Yz7:()=>et,Z0I:()=>on,ZZ4:()=>Nf,_Bn:()=>bI,_UZ:()=>Jp,_Vd:()=>bu,_c5:()=>fb,_uU:()=>Wy,aQg:()=>Bd,c2e:()=>Sf,cJS:()=>Nn,cg1:()=>xu,dDg:()=>Gr,dqk:()=>xt,eFA:()=>Vu,eJc:()=>wr,ekj:()=>rg,eoX:()=>Wv,f3M:()=>tt,g9A:()=>Ug,h0i:()=>Xl,hGG:()=>jd,hij:()=>mn,iGM:()=>Fv,ifc:()=>O,ip1:()=>YI,jDz:()=>pf,kL8:()=>hg,lG2:()=>Yu,lqb:()=>Bl,lri:()=>ib,n5z:()=>ha,oAB:()=>Ga,oJD:()=>s0,oxw:()=>Ly,q4F:()=>ay,qLn:()=>Vh,qOj:()=>uw,qZA:()=>ud,rWj:()=>$g,s9C:()=>Sw,sBO:()=>ob,s_b:()=>Sd,soG:()=>xf,tb:()=>Kv,tp0:()=>ya,uIk:()=>Oa,vHH:()=>pe,vpe:()=>cs,wAp:()=>Dt,xp6:()=>x0,z2F:()=>Bu,zSh:()=>ny,zs3:()=>Wc});var c=L(7579),B=L(727),P=L(9751),te=L(6451),re=L(3099);function se(i){for(let s in i)if(i[s]===se)return s;throw Error("Could not find renamed property on target object.")}function fe(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function ce(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ce).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function he(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const H=se({__forward_ref__:se});function z(i){return i.__forward_ref__=z,i.toString=function(){return ce(this())},i}function q(i){return Ve(i)?i():i}function Ve(i){return"function"==typeof i&&i.hasOwnProperty(H)&&i.__forward_ref__===z}function De(i){return i&&!!i.\u0275providers}const st="https://g.co/ng/security#xss";class pe extends Error{constructor(s,a){super(Ie(s,a)),this.code=s}}function Ie(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}function we(i){return"string"==typeof i?i:null==i?"":String(i)}function $e(i,s){throw new pe(-201,!1)}function Je(i,s){null==i&&function Ye(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function et(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Nn(i){return{providers:i.providers||[],imports:i.imports||[]}}function cn(i){return Qn(i,ri)||Qn(i,wn)}function on(i){return null!==cn(i)}function Qn(i,s){return i.hasOwnProperty(s)?i[s]:null}function kn(i){return i&&(i.hasOwnProperty(ii)||i.hasOwnProperty(tr))?i[ii]:null}const ri=se({\u0275prov:se}),ii=se({\u0275inj:se}),wn=se({ngInjectableDef:se}),tr=se({ngInjectorDef:se});var rt=(()=>((rt=rt||{})[rt.Default=0]="Default",rt[rt.Host=1]="Host",rt[rt.Self=2]="Self",rt[rt.SkipSelf=4]="SkipSelf",rt[rt.Optional=8]="Optional",rt))();let dr;function zn(i){const s=dr;return dr=i,s}function Fn(i,s,a){const l=cn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&rt.Optional?null:void 0!==s?s:void $e(ce(i))}const xt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Sn={},Gn="__NG_DI_FLAG__",fr="ngTempTokenPath",Xn="ngTokenPath",gi=/\n/gm,Vt="\u0275",mi="__source";let Gt;function Lr(i){const s=Gt;return Gt=i,s}function Ln(i,s=rt.Default){if(void 0===Gt)throw new pe(-203,!1);return null===Gt?Fn(i,void 0,s):Gt.get(i,s&rt.Optional?null:void 0,s)}function Ue(i,s=rt.Default){return(function hr(){return dr}()||Ln)(q(i),s)}function tt(i,s=rt.Default){return Ue(i,yt(s))}function yt(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function At(i){const s=[];for(let a=0;a<i.length;a++){const l=q(i[a]);if(Array.isArray(l)){if(0===l.length)throw new pe(900,!1);let h,f=rt.Default;for(let y=0;y<l.length;y++){const I=l[y],b=Vn(I);"number"==typeof b?-1===b?h=I.token:f|=b:h=I}s.push(Ue(h,f))}else s.push(Ue(l))}return s}function Yt(i,s){return i[Gn]=s,i.prototype[Gn]=s,i}function Vn(i){return i[Gn]}function R(i){return{toString:i}.toString()}var F=(()=>((F=F||{})[F.OnPush=0]="OnPush",F[F.Default=1]="Default",F))(),O=(()=>{return(i=O||(O={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",O;var i})();const Y={},ae=[],it=se({\u0275cmp:se}),wt=se({\u0275dir:se}),Tt=se({\u0275pipe:se}),qt=se({\u0275mod:se}),It=se({\u0275fac:se}),In=se({__NG_ELEMENT_ID__:se});let Ut=0;function Vr(i){return R(()=>{const s=mr(i),a={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,data:i.data||{},encapsulation:i.encapsulation||O.Emulated,id:"c"+Ut++,styles:i.styles||ae,_:null,schemas:i.schemas||null,tView:null};Xu(a);const l=i.dependencies;return a.directiveDefs=ms(l,!1),a.pipeDefs=ms(l,!0),a})}function za(i){return nn(i)||Un(i)}function Ku(i){return null!==i}function Ga(i){return R(()=>({type:i.type,bootstrap:i.bootstrap||ae,declarations:i.declarations||ae,imports:i.imports||ae,exports:i.exports||ae,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Go(i,s){if(null==i)return Y;const a={};for(const l in i)if(i.hasOwnProperty(l)){let h=i[l],f=h;Array.isArray(h)&&(f=h[1],h=h[0]),a[h]=l,s&&(s[h]=f)}return a}function Yu(i){return R(()=>{const s=mr(i);return Xu(s),s})}function Qu(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function nn(i){return i[it]||null}function Un(i){return i[wt]||null}function gr(i){return i[Tt]||null}function Yr(i){const s=nn(i)||Un(i)||gr(i);return null!==s&&s.standalone}function Ur(i,s){const a=i[qt]||null;if(!a&&!0===s)throw new Error(`Type ${ce(i)} does not have '\u0275mod' property.`);return a}function mr(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,exportAs:i.exportAs||null,standalone:!0===i.standalone,selectors:i.selectors||ae,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Go(i.inputs,s),outputs:Go(i.outputs)}}function Xu(i){i.features?.forEach(s=>s(i))}function ms(i,s){if(!i)return null;const a=s?gr:za;return()=>("function"==typeof i?i():i).map(l=>a(l)).filter(Ku)}const Pi=0,Qe=1,Bt=2,gn=3,Br=4,zi=5,An=6,Gi=7,Mn=8,ys=9,Ju=10,kt=11,Za=12,vs=13,Zo=14,Fs=15,br=16,_s=17,Zi=18,nr=19,lo=20,eh=21,Pt=22,qo=1,hc=2,qi=7,Ri=8,ws=9,Er=10;function Cr(i){return Array.isArray(i)&&"object"==typeof i[qo]}function rr(i){return Array.isArray(i)&&!0===i[qo]}function el(i){return 0!=(4&i.flags)}function qa(i){return i.componentOffset>-1}function Ni(i){return 1==(1&i.flags)}function ki(i){return!!i.template}function Wo(i){return 0!=(256&i[Bt])}function oi(i,s){return i.hasOwnProperty(It)?i[It]:null}class Ka{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Vs(){return Yo}function Yo(i){return i.type.prototype.ngOnChanges&&(i.setInput=Qo),Us}function Us(){const i=Qa(this),s=i?.current;if(s){const a=i.previous;if(a===Y)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Qo(i,s,a,l){const h=this.declaredInputs[a],f=Qa(i)||function tl(i,s){return i[Ya]=s}(i,{previous:Y,current:null}),y=f.current||(f.current={}),I=f.previous,b=I[h];y[h]=new Ka(b&&b.currentValue,s,I===Y),i[l]=s}Vs.ngInherit=!0;const Ya="__ngSimpleChanges__";function Qa(i){return i[Ya]||null}const an=function(i,s,a){};function xn(i){for(;Array.isArray(i);)i=i[Pi];return i}function bs(i,s){return xn(s[i])}function ir(i,s){return xn(s[i.index])}function Jo(i,s){return i.data[s]}function sr(i,s){const a=s[i];return Cr(a)?a:a[Pi]}function Bs(i){return 64==(64&i[Bt])}function yi(i,s){return null==s?null:i[s]}function Xa(i){i[Zi]=0}function ea(i,s){i[zi]+=s;let a=i,l=i[gn];for(;null!==l&&(1===s&&1===a[zi]||-1===s&&0===a[zi]);)l[zi]+=s,a=l,l=l[gn]}const Ot={lFrame:op(null),bindingsEnabled:!0};function _c(){return Ot.bindingsEnabled}function Te(){return Ot.lFrame.lView}function Xt(){return Ot.lFrame.tView}function wc(i){return Ot.lFrame.contextLView=i,i[Mn]}function nh(i){return Ot.lFrame.contextLView=null,i}function Bn(){let i=rh();for(;null!==i&&64===i.type;)i=i.parent;return i}function rh(){return Ot.lFrame.currentTNode}function vi(i,s){const a=Ot.lFrame;a.currentTNode=i,a.isParent=s}function eu(){return Ot.lFrame.isParent}function js(){return Ot.lFrame.bindingIndex++}function fl(i,s){const a=Ot.lFrame;a.bindingIndex=a.bindingRootIndex=i,Ki(s)}function Ki(i){Ot.lFrame.currentDirectiveIndex=i}function bc(){return Ot.lFrame.currentQueryIndex}function iu(i){Ot.lFrame.currentQueryIndex=i}function sp(i){const s=i[Qe];return 2===s.type?s.declTNode:1===s.type?i[An]:null}function gl(i,s,a){if(a&rt.SkipSelf){let h=s,f=i;for(;!(h=h.parent,null!==h||a&rt.Host||(h=sp(f),null===h||(f=f[Fs],10&h.type))););if(null===h)return!1;s=h,i=f}const l=Ot.lFrame=Im();return l.currentTNode=s,l.lView=i,!0}function Ec(i){const s=Im(),a=i[Qe];Ot.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Im(){const i=Ot.lFrame,s=null===i?null:i.child;return null===s?op(i):s}function op(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function ml(){const i=Ot.lFrame;return Ot.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const bm=ml;function sh(){const i=ml();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function jr(){return Ot.lFrame.selectedIndex}function Cs(i){Ot.lFrame.selectedIndex=i}function hn(){const i=Ot.lFrame;return Jo(i.tView,i.selectedIndex)}function yl(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:I,ngAfterViewInit:b,ngAfterViewChecked:A,ngOnDestroy:x}=f;y&&(i.contentHooks??(i.contentHooks=[])).push(-a,y),I&&((i.contentHooks??(i.contentHooks=[])).push(a,I),(i.contentCheckHooks??(i.contentCheckHooks=[])).push(a,I)),b&&(i.viewHooks??(i.viewHooks=[])).push(-a,b),A&&((i.viewHooks??(i.viewHooks=[])).push(a,A),(i.viewCheckHooks??(i.viewCheckHooks=[])).push(a,A)),null!=x&&(i.destroyHooks??(i.destroyHooks=[])).push(a,x)}}function na(i,s,a){_i(i,s,3,a)}function go(i,s,a,l){(3&i[Bt])===a&&_i(i,s,a,l)}function ra(i,s){let a=i[Bt];(3&a)===s&&(a&=2047,a+=1,i[Bt]=a)}function _i(i,s,a,l){const f=l??-1,y=s.length-1;let I=0;for(let b=void 0!==l?65535&i[Zi]:0;b<y;b++)if("number"==typeof s[b+1]){if(I=s[b],null!=l&&I>=l)break}else s[b]<0&&(i[Zi]+=65536),(I<f||-1==f)&&(Dc(i,a,s,b),i[Zi]=(4294901760&i[Zi])+b+2),b++}function Dc(i,s,a,l){const h=a[l]<0,f=a[l+1],I=i[h?-a[l]:a[l]];if(h){if(i[Bt]>>11<i[Zi]>>16&&(3&i[Bt])===s){i[Bt]+=2048,an(4,I,f);try{f.call(I)}finally{an(5,I,f)}}}else{an(4,I,f);try{f.call(I)}finally{an(5,I,f)}}}const wi=-1;class ia{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function mo(i,s,a){let l=0;for(;l<a.length;){const h=a[l];if("number"==typeof h){if(0!==h)break;l++;const f=a[l++],y=a[l++],I=a[l++];i.setAttribute(s,y,I,f)}else{const f=h,y=a[++l];yo(f)?i.setProperty(s,f,y):i.setAttribute(s,f,y),l++}}return l}function Cn(i){return 3===i||4===i||6===i}function yo(i){return 64===i.charCodeAt(0)}function Vi(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const h=s[l];"number"==typeof h?a=h:0===a||aa(i,a,h,null,-1===a||2===a?s[++l]:null)}}return i}function aa(i,s,a,l,h){let f=0,y=i.length;if(-1===s)y=-1;else for(;f<i.length;){const I=i[f++];if("number"==typeof I){if(I===s){y=-1;break}if(I>s){y=f-1;break}}}for(;f<i.length;){const I=i[f];if("number"==typeof I)break;if(I===a){if(null===l)return void(null!==h&&(i[f+1]=h));if(l===i[f+1])return void(i[f+2]=h)}f++,null!==l&&f++,null!==h&&f++}-1!==y&&(i.splice(y,0,s),f=y+1),i.splice(f++,0,a),null!==l&&i.splice(f++,0,l),null!==h&&i.splice(f++,0,h)}function ua(i){return i!==wi}function au(i){return 32767&i}function $s(i,s){let a=function ah(i){return i>>16}(i),l=s;for(;a>0;)l=l[Fs],a--;return l}let uu=!0;function Yi(i){const s=uu;return uu=i,s}const Qi=255,vo=5;let la=0;const $r={};function Hs(i,s){const a=wo(i,s);if(-1!==a)return a;const l=s[Qe];l.firstCreatePass&&(i.injectorIndex=s.length,_o(l.data,i),_o(s,null),_o(l.blueprint,null));const h=zs(i,s),f=i.injectorIndex;if(ua(h)){const y=au(h),I=$s(h,s),b=I[Qe].data;for(let A=0;A<8;A++)s[f+A]=I[y+A]|b[y+A]}return s[f+8]=h,f}function _o(i,s){i.push(0,0,0,0,0,0,0,0,s)}function wo(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function zs(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,h=s;for(;null!==h;){if(l=Mc(h),null===l)return wi;if(a++,h=h[Fs],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return wi}function ca(i,s,a){!function lu(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(In)&&(l=a[In]),null==l&&(l=a[In]=la++);const h=l&Qi;s.data[i+(h>>vo)]|=1<<h}(i,s,a)}function cu(i,s,a){if(a&rt.Optional||void 0!==i)return i;$e()}function wl(i,s,a,l){if(a&rt.Optional&&void 0===l&&(l=null),!(a&(rt.Self|rt.Host))){const h=i[ys],f=zn(void 0);try{return h?h.get(s,l,a&rt.Optional):Fn(s,l,a&rt.Optional)}finally{zn(f)}}return cu(l,0,a)}function du(i,s,a,l=rt.Default,h){if(null!==i){if(1024&s[Bt]){const y=function Sc(i,s,a,l,h){let f=i,y=s;for(;null!==f&&null!==y&&1024&y[Bt]&&!(256&y[Bt]);){const I=Tc(f,y,a,l|rt.Self,$r);if(I!==$r)return I;let b=f.parent;if(!b){const A=y[eh];if(A){const x=A.get(a,$r,l);if(x!==$r)return x}b=Mc(y),y=y[Fs]}f=b}return h}(i,s,a,l,$r);if(y!==$r)return y}const f=Tc(i,s,a,l,$r);if(f!==$r)return f}return wl(s,a,l,h)}function Tc(i,s,a,l,h){const f=function da(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(In)?i[In]:void 0;return"number"==typeof s?s>=0?s&Qi:bl:s}(a);if("function"==typeof f){if(!gl(s,i,l))return l&rt.Host?cu(h,0,l):wl(s,a,l,h);try{const y=f(l);if(null!=y||l&rt.Optional)return y;$e()}finally{bm()}}else if("number"==typeof f){let y=null,I=wo(i,s),b=wi,A=l&rt.Host?s[br][An]:null;for((-1===I||l&rt.SkipSelf)&&(b=-1===I?zs(i,s):s[I+8],b!==wi&&fu(l,!1)?(y=s[Qe],I=au(b),s=$s(b,s)):I=-1);-1!==I;){const x=s[Qe];if(Il(f,I,x.data)){const U=Ii(I,s,a,y,l,A);if(U!==$r)return U}b=s[I+8],b!==wi&&fu(l,s[Qe].data[I+8]===A)&&Il(f,I,s)?(y=x,I=au(b),s=$s(b,s)):I=-1}}return h}function Ii(i,s,a,l,h,f){const y=s[Qe],I=y.data[i+8],x=hu(I,y,a,null==l?qa(I)&&uu:l!=y&&0!=(3&I.type),h&rt.Host&&f===I);return null!==x?Xi(s,y,x,I):$r}function hu(i,s,a,l,h){const f=i.providerIndexes,y=s.data,I=1048575&f,b=i.directiveStart,x=f>>20,Z=h?I+x:i.directiveEnd;for(let X=l?I:I+x;X<Z;X++){const J=y[X];if(X<b&&a===J||X>=b&&J.type===a)return X}if(h){const X=y[b];if(X&&ki(X)&&X.type===a)return b}return null}function Xi(i,s,a,l){let h=i[a];const f=s.data;if(function Ac(i){return i instanceof ia}(h)){const y=h;y.resolving&&function Ae(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new pe(-200,`Circular dependency in DI detected for ${i}${a}`)}(function Pe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():we(i)}(f[a]));const I=Yi(y.canSeeViewProviders);y.resolving=!0;const b=y.injectImpl?zn(y.injectImpl):null;gl(i,l,rt.Default);try{h=i[a]=y.factory(void 0,f,i,l),s.firstCreatePass&&a>=l.directiveStart&&function oh(i,s,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:f}=s.type.prototype;if(l){const y=Yo(s);(a.preOrderHooks??(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(i,y)}h&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-i,h),f&&((a.preOrderHooks??(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==b&&zn(b),Yi(I),y.resolving=!1,bm()}}return h}function Il(i,s,a){return!!(a[s+(i>>vo)]&1<<i)}function fu(i,s){return!(i&rt.Self||i&rt.Host&&s)}class Hr{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return du(this._tNode,this._lView,s,yt(l),a)}}function bl(){return new Hr(Bn(),Te())}function ha(i){return R(()=>{const s=i.prototype.constructor,a=s[It]||El(s),l=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==l;){const f=h[It]||El(h);if(f&&f!==a)return f;h=Object.getPrototypeOf(h)}return f=>new f})}function El(i){return Ve(i)?()=>{const s=El(q(i));return s&&s()}:oi(i)}function Mc(i){const s=i[Qe],a=s.type;return 2===a?s.declTNode:1===a?i[An]:null}function Io(i){return function lh(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const f=a[h];if(Cn(f))break;if(0===f)h+=2;else if("number"==typeof f)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(f===s)return a[h+1];h+=2}}}return null}(Bn(),i)}const Gs="__parameters__";function Zs(i,s,a){return R(()=>{const l=function xc(i){return function(...a){if(i){const l=i(...a);for(const h in l)this[h]=l[h]}}}(s);function h(...f){if(this instanceof h)return l.apply(this,f),this;const y=new h(...f);return I.annotation=y,I;function I(b,A,x){const U=b.hasOwnProperty(Gs)?b[Gs]:Object.defineProperty(b,Gs,{value:[]})[Gs];for(;U.length<=x;)U.push(null);return(U[x]=U[x]||[]).push(y),b}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}class bn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=et({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function As(i,s){i.forEach(a=>Array.isArray(a)?As(a,s):s(a))}function Sl(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Ws(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Wt(i,s,a){let l=ut(i,s);return l>=0?i[1|l]=a:(l=~l,function pa(i,s,a,l){let h=i.length;if(h==s)i.push(a,l);else if(1===h)i.push(l,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>s;)i[h]=i[h-2],h--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function Ys(i,s){const a=ut(i,s);if(a>=0)return i[1|a]}function ut(i,s){return function ar(i,s,a){let l=0,h=i.length>>a;for(;h!==l;){const f=l+(h-l>>1),y=i[f<<a];if(s===y)return f<<a;y>s?h=f:l=f+1}return~(h<<a)}(i,s,1)}const Ui=Yt(Zs("Optional"),8),ya=Yt(Zs("SkipSelf"),4);var li=(()=>((li=li||{})[li.Important=1]="Important",li[li.DashCase=2]="DashCase",li))();const Bi=new Map;let pp=0;const vh="__ngContext__";function vr(i,s){Cr(s)?(i[vh]=s[lo],function gp(i){Bi.set(i[lo],i)}(s)):i[vh]=s}let mu;function v(i,s){return mu(i,s)}function g(i){const s=i[gn];return rr(s)?s[gn]:s}function k(i){return Ee(i[vs])}function Q(i){return Ee(i[Br])}function Ee(i){for(;null!==i&&!rr(i);)i=i[Br];return i}function We(i,s,a,l,h){if(null!=l){let f,y=!1;rr(l)?f=l:Cr(l)&&(y=!0,l=l[Pi]);const I=xn(l);0===i&&null!==a?null==h?$_(s,a,I):_u(s,a,I,h||null,!0):1===i&&null!==a?_u(s,a,I,h||null,!0):2===i?function Th(i,s,a){const l=Ah(i,s);l&&function Ch(i,s,a,l){i.removeChild(s,a,l)}(i,l,s,a)}(s,I,y):3===i&&s.destroyNode(I),null!=f&&function Mo(i,s,a,l,h){const f=a[qi];f!==xn(a)&&We(s,i,l,f,h);for(let I=Er;I<a.length;I++){const b=a[I];$c(b[Qe],b,i,s,l,f)}}(s,i,f,a,h)}}function ji(i,s,a){return i.createElement(s,a)}function Uc(i,s){const a=i[ws],l=a.indexOf(s),h=s[gn];512&s[Bt]&&(s[Bt]&=-513,ea(h,-1)),a.splice(l,1)}function yu(i,s){if(i.length<=Er)return;const a=Er+s,l=i[a];if(l){const h=l[_s];null!==h&&h!==i&&Uc(h,l),s>0&&(i[a-1][Br]=l[Br]);const f=Ws(i,Er+s);!function To(i,s){$c(i,s,s[kt],2,null,null),s[Pi]=null,s[An]=null}(l[Qe],l);const y=f[nr];null!==y&&y.detachView(f[Qe]),l[gn]=null,l[Br]=null,l[Bt]&=-65}return l}function vu(i,s){if(!(128&s[Bt])){const a=s[kt];a.destroyNode&&$c(i,s,a,3,null,null),function wh(i){let s=i[vs];if(!s)return Fl(i[Qe],i);for(;s;){let a=null;if(Cr(s))a=s[vs];else{const l=s[Er];l&&(a=l)}if(!a){for(;s&&!s[Br]&&s!==i;)Cr(s)&&Fl(s[Qe],s),s=s[gn];null===s&&(s=i),Cr(s)&&Fl(s[Qe],s),a=s&&s[Br]}s=a}}(s)}}function Fl(i,s){if(!(128&s[Bt])){s[Bt]&=-65,s[Bt]|=128,function Ih(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const h=s[a[l]];if(!(h instanceof ia)){const f=a[l+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const I=h[f[y]],b=f[y+1];an(4,I,b);try{b.call(I)}finally{an(5,I,b)}}else{an(4,h,f);try{f.call(h)}finally{an(5,h,f)}}}}}(i,s),function So(i,s){const a=i.cleanup,l=s[Gi];let h=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const y=a[f+3];y>=0?l[h=y]():l[h=-y].unsubscribe(),f+=2}else{const y=l[h=a[f+1]];a[f].call(y)}if(null!==l){for(let f=h+1;f<l.length;f++)(0,l[f])();s[Gi]=null}}(i,s),1===s[Qe].type&&s[kt].destroy();const a=s[_s];if(null!==a&&rr(s[gn])){a!==s[gn]&&Uc(a,s);const l=s[nr];null!==l&&l.detachView(i)}!function Mr(i){Bi.delete(i[lo])}(s)}}function bh(i,s,a){return function Eh(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[Pi];{const{componentOffset:h}=l;if(h>-1){const{encapsulation:f}=i.data[l.directiveStart+h];if(f===O.None||f===O.Emulated)return null}return ir(l,a)}}(i,s.parent,a)}function _u(i,s,a,l,h){i.insertBefore(s,a,l,h)}function $_(i,s,a){i.appendChild(s,a)}function Bc(i,s,a,l,h){null!==l?_u(i,s,a,l,h):$_(i,s,a)}function Ah(i,s){return i.parentNode(s)}let Nm,zc,Bm,Ip,z_=function Ll(i,s,a){return 40&i.type?ir(i,a):null};function wp(i,s,a,l){const h=bh(i,l,s),f=s[kt],I=function Rm(i,s,a){return z_(i,s,a)}(l.parent||s[An],l,s);if(null!=h)if(Array.isArray(a))for(let b=0;b<a.length;b++)Bc(f,h,a[b],I,!1);else Bc(f,h,a,I,!1);void 0!==Nm&&Nm(f,l,s,a,h)}function jc(i,s){if(null!==s){const a=s.type;if(3&a)return ir(s,i);if(4&a)return Fm(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return jc(i,l);{const h=i[s.index];return rr(h)?Fm(-1,h):xn(h)}}if(32&a)return v(s,i)()||xn(i[s.index]);{const l=Vl(i,s);return null!==l?Array.isArray(l)?l[0]:jc(g(i[br]),l):jc(i,s.next)}}return null}function Vl(i,s){return null!==s?i[br][An].projection[s.projection]:null}function Fm(i,s){const a=Er+i+1;if(a<s.length){const l=s[a],h=l[Qe].firstChild;if(null!==h)return jc(l,h)}return s[qi]}function Lm(i,s,a,l,h,f,y){for(;null!=a;){const I=l[a.index],b=a.type;if(y&&0===s&&(I&&vr(xn(I),l),a.flags|=2),32!=(32&a.flags))if(8&b)Lm(i,s,a.child,l,h,f,!1),We(s,i,h,I,f);else if(32&b){const A=v(a,l);let x;for(;x=A();)We(s,i,h,x,f);We(s,i,h,I,f)}else 16&b?Hc(i,s,l,a,h,f):We(s,i,h,I,f);a=y?a.projectionNext:a.next}}function $c(i,s,a,l,h,f){Lm(a,l,i.firstChild,s,h,f,!1)}function Hc(i,s,a,l,h,f){const y=a[br],b=y[An].projection[l.projection];if(Array.isArray(b))for(let A=0;A<b.length;A++)We(s,i,h,b[A],f);else Lm(i,s,b,y[gn],h,f,!0)}function Sh(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function Mh(i,s,a){const{mergedAttrs:l,classes:h,styles:f}=a;null!==l&&mo(i,s,l),null!==h&&Sh(i,s,h),null!==f&&function Ul(i,s,a){i.setAttribute(s,"style",a)}(i,s,f)}function Gc(i){return function Um(){if(void 0===zc&&(zc=null,xt.trustedTypes))try{zc=xt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return zc}()?.createHTML(i)||i}function mE(i){Bm=i}function jm(){if(void 0===Ip&&(Ip=null,xt.trustedTypes))try{Ip=xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Ip}function $m(i){return jm()?.createHTML(i)||i}function W_(i){return jm()?.createScriptURL(i)||i}class K_{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${st})`}}function ci(i){return i instanceof K_?i.changingThisBreaksApplicationSecurity:i}function xo(i,s){const a=function Q_(i){return i instanceof K_&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${st})`)}return a===s}class X_{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Gc(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class Gm{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=Gc(s),a}}const Zm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ph(i){return(i=String(i)).match(Zm)?i:"unsafe:"+i}function Ca(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function Da(...i){const s={};for(const a of i)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const e0=Ca("area,br,col,hr,img,wbr"),t0=Ca("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bp=Ca("rp,rt"),Ep=Da(e0,Da(t0,Ca("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Da(bp,Ca("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Da(bp,t0)),qm=Ca("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Dp=Da(qm,Ca("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ca("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),CE=Ca("script,style,template");class DE{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Ep.hasOwnProperty(a))return this.sanitizedSomething=!0,!CE.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=s.attributes;for(let h=0;h<l.length;h++){const f=l.item(h),y=f.name,I=y.toLowerCase();if(!Dp.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let b=f.value;qm[I]&&(b=Ph(b)),this.buf.push(" ",y,'="',AE(b),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Ep.hasOwnProperty(a)&&!e0.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(AE(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Km=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,n0=/([^\#-~ |!])/g;function AE(i){return i.replace(/&/g,"&amp;").replace(Km,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(n0,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ym;function r0(i){return"content"in i&&function Qm(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var _r=(()=>((_r=_r||{})[_r.NONE=0]="NONE",_r[_r.HTML=1]="HTML",_r[_r.STYLE=2]="STYLE",_r[_r.SCRIPT=3]="SCRIPT",_r[_r.URL=4]="URL",_r[_r.RESOURCE_URL=5]="RESOURCE_URL",_r))();function s0(i){const s=kh();return s?$m(s.sanitize(_r.HTML,i)||""):xo(i,"HTML")?$m(ci(i)):function OS(i,s){let a=null;try{Ym=Ym||function Oh(i){const s=new Gm(i);return function J_(){try{return!!(new window.DOMParser).parseFromString(Gc(""),"text/html")}catch{return!1}}()?new X_(s):s}(i);let l=s?String(s):"";a=Ym.getInertBodyElement(l);let h=5,f=l;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,l=f,f=a.innerHTML,a=Ym.getInertBodyElement(l)}while(l!==f);return Gc((new DE).sanitizeChildren(r0(a)||a))}finally{if(a){const l=r0(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}(function Z_(){return void 0!==Bm?Bm:typeof document<"u"?document:void 0}(),we(i))}function Rh(i){const s=kh();return s?s.sanitize(_r.URL,i)||"":xo(i,"URL")?ci(i):Ph(we(i))}function ss(i){const s=kh();if(s)return W_(s.sanitize(_r.RESOURCE_URL,i)||"");if(xo(i,"ResourceURL"))return W_(ci(i));throw new pe(904,!1)}function Xm(i,s,a){return function ME(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?ss:Rh}(s,a)(i)}function kh(){const i=Te();return i&&i[Za]}const wu=new bn("ENVIRONMENT_INITIALIZER"),Zc=new bn("INJECTOR",-1),a0=new bn("INJECTOR_DEF_TYPES");class u0{get(s,a=Sn){if(a===Sn){const l=new Error(`NullInjectorError: No provider for ${ce(s)}!`);throw l.name="NullInjectorError",l}return a}}function Fh(...i){return{\u0275providers:l0(0,i),\u0275fromNgModule:!0}}function l0(i,...s){const a=[],l=new Set;let h;return As(s,f=>{const y=f;ey(y,a,[],l)&&(h||(h=[]),h.push(y))}),void 0!==h&&c0(h,a),a}function c0(i,s){for(let a=0;a<i.length;a++){const{providers:h}=i[a];ty(h,f=>{s.push(f)})}}function ey(i,s,a,l){if(!(i=q(i)))return!1;let h=null,f=kn(i);const y=!f&&nn(i);if(f||y){if(y&&!y.standalone)return!1;h=i}else{const b=i.ngModule;if(f=kn(b),!f)return!1;h=b}const I=l.has(h);if(y){if(I)return!1;if(l.add(h),y.dependencies){const b="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const A of b)ey(A,s,a,l)}}else{if(!f)return!1;{if(null!=f.imports&&!I){let A;l.add(h);try{As(f.imports,x=>{ey(x,s,a,l)&&(A||(A=[]),A.push(x))})}finally{}void 0!==A&&c0(A,s)}if(!I){const A=oi(h)||(()=>new h);s.push({provide:h,useFactory:A,deps:ae},{provide:a0,useValue:h,multi:!0},{provide:wu,useValue:()=>Ue(h),multi:!0})}const b=f.providers;null==b||I||ty(b,x=>{s.push(x)})}}return h!==i&&void 0!==i.providers}function ty(i,s){for(let a of i)De(a)&&(a=a.\u0275providers),Array.isArray(a)?ty(a,s):s(a)}const xE=se({provide:String,useValue:se});function d0(i){return null!==i&&"object"==typeof i&&xE in i}function Oo(i){return"function"==typeof i}const ny=new bn("Set Injector scope."),Sp={},OE={};let ry;function Mp(){return void 0===ry&&(ry=new u0),ry}class Bl{}class f0 extends Bl{get destroyed(){return this._destroyed}constructor(s,a,l,h){super(),this.parent=a,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,oy(s,y=>this.processProvider(y)),this.records.set(Zc,Iu(void 0,this)),h.has("environment")&&this.records.set(Bl,Iu(void 0,this));const f=this.records.get(ny);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(a0.multi,ae,rt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=Lr(this),l=zn(void 0);try{return s()}finally{Lr(a),zn(l)}}get(s,a=Sn,l=rt.Default){this.assertNotDestroyed(),l=yt(l);const h=Lr(this),f=zn(void 0);try{if(!(l&rt.SkipSelf)){let I=this.records.get(s);if(void 0===I){const b=function xp(i){return"function"==typeof i||"object"==typeof i&&i instanceof bn}(s)&&cn(s);I=b&&this.injectableDefInScope(b)?Iu(iy(s),Sp):null,this.records.set(s,I)}if(null!=I)return this.hydrate(s,I)}return(l&rt.Self?Mp():this.parent).get(s,a=l&rt.Optional&&a===Sn?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[fr]=y[fr]||[]).unshift(ce(s)),h)throw y;return function $(i,s,a,l){const h=i[fr];throw s[mi]&&h.unshift(s[mi]),i.message=function j(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&i.charAt(1)==Vt?i.slice(2):i;let h=ce(s);if(Array.isArray(s))h=s.map(ce).join(" -> ");else if("object"==typeof s){let f=[];for(let y in s)if(s.hasOwnProperty(y)){let I=s[y];f.push(y+":"+("string"==typeof I?JSON.stringify(I):ce(I)))}h=`{${f.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${i.replace(gi,"\n  ")}`}("\n"+i.message,h,a,l),i[Xn]=h,i[fr]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{zn(f),Lr(h)}}resolveInjectorInitializers(){const s=Lr(this),a=zn(void 0);try{const l=this.get(wu.multi,ae,rt.Self);for(const h of l)h()}finally{Lr(s),zn(a)}}toString(){const s=[],a=this.records;for(const l of a.keys())s.push(ce(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processProvider(s){let a=Oo(s=q(s))?s:q(s&&s.provide);const l=function p0(i){return d0(i)?Iu(void 0,i.useValue):Iu(g0(i),Sp)}(s);if(Oo(s)||!0!==s.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=Iu(void 0,Sp,!0),h.factory=()=>At(h.multi),this.records.set(a,h)),a=s,h.multi.push(s)}this.records.set(a,l)}hydrate(s,a){return a.value===Sp&&(a.value=OE,a.value=a.factory()),"object"==typeof a.value&&a.value&&function sy(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=q(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function iy(i){const s=cn(i),a=null!==s?s.factory:oi(i);if(null!==a)return a;if(i instanceof bn)throw new pe(204,!1);if(i instanceof Function)return function PE(i){const s=i.length;if(s>0)throw function Ks(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}(s,"?"),new pe(204,!1);const a=function Fr(i){const s=i&&(i[ri]||i[wn]);return s?(function Oi(i){if(i.hasOwnProperty("name"))return i.name;(""+i).match(/^function\s*([^\s(]+)/)}(i),s):null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new pe(204,!1)}function g0(i,s,a){let l;if(Oo(i)){const h=q(i);return oi(h)||iy(h)}if(d0(i))l=()=>q(i.useValue);else if(function Tp(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...At(i.deps||[]));else if(function h0(i){return!(!i||!i.useExisting)}(i))l=()=>Ue(q(i.useExisting));else{const h=q(i&&(i.useClass||i.provide));if(!function m0(i){return!!i.deps}(i))return oi(h)||iy(h);l=()=>new h(...At(i.deps))}return l}function Iu(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function oy(i,s){for(const a of i)Array.isArray(a)?oy(a,s):a&&De(a)?oy(a.\u0275providers,s):s(a)}class RE{}class y0{}class v0{resolveComponentFactory(s){throw function NE(i){const s=Error(`No component factory found for ${ce(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let bu=(()=>{class i{}return i.NULL=new v0,i})();function Op(){return jl(Bn(),Te())}function jl(i,s){return new Aa(ir(i,s))}let Aa=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Op,i})();function _0(i){return i instanceof Aa?i.nativeElement:i}class w0{}let FE=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function LE(){const i=Te(),a=sr(Bn().index,i);return(Cr(a)?a:i)[kt]}(),i})(),VE=(()=>{class i{}return i.\u0275prov=et({token:i,providedIn:"root",factory:()=>null}),i})();class I0{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const ay=new I0("15.2.7"),uy={},ly="ngOriginalError";function cy(i){return i[ly]}class Vh{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&cy(s);for(;a&&cy(a);)a=cy(a);return a||null}}function Po(i){return i instanceof Function?i():i}function dy(i,s,a){let l=i.length;for(;;){const h=i.indexOf(s,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const f=s.length;if(h+f===l||i.charCodeAt(h+f)<=32)return h}a=h+1}}const Pp="ng-template";function A0(i,s,a){let l=0,h=!0;for(;l<i.length;){let f=i[l++];if("string"==typeof f&&h){const y=i[l++];if(a&&"class"===f&&-1!==dy(y.toLowerCase(),s,0))return!0}else{if(1===f){for(;l<i.length&&"string"==typeof(f=i[l++]);)if(f.toLowerCase()===s)return!0;return!1}"number"==typeof f&&(h=!1)}}return!1}function Hl(i){return 4===i.type&&i.value!==Pp}function hy(i,s,a){return s===(4!==i.type||a?i.value:Pp)}function GE(i,s,a){let l=4;const h=i.attrs||[],f=function S0(i){for(let s=0;s<i.length;s++)if(Cn(i[s]))return s;return i.length}(h);let y=!1;for(let I=0;I<s.length;I++){const b=s[I];if("number"!=typeof b){if(!y)if(4&l){if(l=2|1&l,""!==b&&!hy(i,b,a)||""===b&&1===s.length){if(Ss(l))return!1;y=!0}}else{const A=8&l?b:s[++I];if(8&l&&null!==i.attrs){if(!A0(i.attrs,A,a)){if(Ss(l))return!1;y=!0}continue}const U=Rp(8&l?"class":b,h,Hl(i),a);if(-1===U){if(Ss(l))return!1;y=!0;continue}if(""!==A){let Z;Z=U>f?"":h[U+1].toLowerCase();const X=8&l?Z:null;if(X&&-1!==dy(X,A,0)||2&l&&A!==Z){if(Ss(l))return!1;y=!0}}}}else{if(!y&&!Ss(l)&&!Ss(b))return!1;if(y&&Ss(b))continue;y=!1,l=b|1&l}}return Ss(l)||y}function Ss(i){return 0==(1&i)}function Rp(i,s,a,l){if(null===s)return-1;let h=0;if(l||!a){let f=!1;for(;h<s.length;){const y=s[h];if(y===i)return h;if(3===y||6===y)f=!0;else{if(1===y||2===y){let I=s[++h];for(;"string"==typeof I;)I=s[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=f?1:2}return-1}return function ZE(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function Uh(i,s,a=!1){for(let l=0;l<s.length;l++)if(GE(i,s[l],a))return!0;return!1}function M0(i,s){return i?":not("+s.trim()+")":s}function WE(i){let s=i[0],a=1,l=2,h="",f=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&l){const I=i[++a];h+="["+y+(I.length>0?'="'+I+'"':"")+"]"}else 8&l?h+="."+y:4&l&&(h+=" "+y);else""!==h&&!Ss(y)&&(s+=M0(f,h),h=""),l=y,f=f||!Ss(l);a++}return""!==h&&(s+=M0(f,h)),s}const zt={};function x0(i){kp(Xt(),Te(),jr()+i,!1)}function kp(i,s,a,l){if(!l)if(3==(3&s[Bt])){const f=i.preOrderCheckHooks;null!==f&&na(s,f,a)}else{const f=i.preOrderHooks;null!==f&&go(s,f,0,a)}Cs(a)}function fy(i,s=null,a=null,l){const h=XE(i,s,a,l);return h.resolveInjectorInitializers(),h}function XE(i,s=null,a=null,l,h=new Set){const f=[a||ae,Fh(i)];return l=l||("object"==typeof i?void 0:ce(i)),new f0(f,s||Mp(),l||null,h)}let Wc=(()=>{class i{static create(a,l){if(Array.isArray(a))return fy({name:""},l,a,"");{const h=a.name??"";return fy({name:h},a.parent,a.providers,h)}}}return i.THROW_IF_NOT_FOUND=Sn,i.NULL=new u0,i.\u0275prov=et({token:i,providedIn:"any",factory:()=>Ue(Zc)}),i.__NG_ELEMENT_ID__=-1,i})();function Yc(i,s=rt.Default){const a=Te();return null===a?Ue(i,s):du(Bn(),a,q(i),s)}function B0(){throw new Error("invalid")}function j0(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const f=a[l+1];if(-1!==f){const y=i.data[f];iu(a[l]),y.contentQueries(2,s[f],f)}}}function yy(i,s,a,l,h,f,y,I,b,A,x){const U=s.blueprint.slice();return U[Pi]=h,U[Bt]=76|l,(null!==x||i&&1024&i[Bt])&&(U[Bt]|=1024),Xa(U),U[gn]=U[Fs]=i,U[Mn]=a,U[Ju]=y||i&&i[Ju],U[kt]=I||i&&i[kt],U[Za]=b||i&&i[Za]||null,U[ys]=A||i&&i[ys]||null,U[An]=f,U[lo]=function Lc(){return pp++}(),U[eh]=x,U[br]=2==s.type?i[br]:U,U}function Qc(i,s,a,l,h){let f=i.data[s];if(null===f)f=function Sa(i,s,a,l,h){const f=rh(),y=eu(),b=i.data[s]=function cC(i,s,a,l,h,f){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,a,s,l,h);return null===i.firstChild&&(i.firstChild=b),null!==f&&(y?null==f.child&&null!==b.parent&&(f.child=b):null===f.next&&(f.next=b,b.prev=f)),b}(i,s,a,l,h),function ru(){return Ot.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=a,f.value=l,f.attrs=h;const y=function Es(){const i=Ot.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return vi(f,!0),f}function Xc(i,s,a,l){if(0===a)return-1;const h=s.length;for(let f=0;f<a;f++)s.push(l),i.blueprint.push(l),i.data.push(null);return h}function vy(i,s,a){Ec(s);try{const l=i.viewQuery;null!==l&&$p(1,l,a);const h=i.template;null!==h&&Gh(i,s,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&j0(i,s),i.staticViewQueries&&$p(2,i.viewQuery,a);const f=i.components;null!==f&&function aC(i,s){for(let a=0;a<s.length;a++)nw(i,s[a])}(s,f)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[Bt]&=-5,sh()}}function Vp(i,s,a,l){const h=s[Bt];if(128!=(128&h)){Ec(s);try{Xa(s),function dl(i){return Ot.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Gh(i,s,a,2,l);const y=3==(3&h);if(y){const A=i.preOrderCheckHooks;null!==A&&na(s,A,null)}else{const A=i.preOrderHooks;null!==A&&go(s,A,0,null),ra(s,0)}if(function ew(i){for(let s=k(i);null!==s;s=Q(s)){if(!s[hc])continue;const a=s[ws];for(let l=0;l<a.length;l++){const h=a[l];512&h[Bt]||ea(h[gn],1),h[Bt]|=512}}}(s),function J0(i){for(let s=k(i);null!==s;s=Q(s))for(let a=Er;a<s.length;a++){const l=s[a],h=l[Qe];Bs(l)&&Vp(h,l,h.template,l[Mn])}}(s),null!==i.contentQueries&&j0(i,s),y){const A=i.contentCheckHooks;null!==A&&na(s,A)}else{const A=i.contentHooks;null!==A&&go(s,A,1),ra(s,1)}!function oC(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const h=a[l];if(h<0)Cs(~h);else{const f=h,y=a[++l],I=a[++l];fl(y,f),I(2,s[f])}}}finally{Cs(-1)}}(i,s);const I=i.components;null!==I&&function $0(i,s){for(let a=0;a<s.length;a++)tw(i,s[a])}(s,I);const b=i.viewQuery;if(null!==b&&$p(2,b,l),y){const A=i.viewCheckHooks;null!==A&&na(s,A)}else{const A=i.viewHooks;null!==A&&go(s,A,2),ra(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[Bt]&=-41,512&s[Bt]&&(s[Bt]&=-513,ea(s[gn],-1))}finally{sh()}}}function Gh(i,s,a,l,h){const f=jr(),y=2&l;try{Cs(-1),y&&s.length>Pt&&kp(i,s,Pt,!1),an(y?2:0,h),a(l,h)}finally{Cs(f),an(y?3:1,h)}}function _y(i,s,a){if(el(s)){const h=s.directiveEnd;for(let f=s.directiveStart;f<h;f++){const y=i.data[f];y.contentQueries&&y.contentQueries(1,a[f],f)}}}function wy(i,s,a){_c()&&(function gC(i,s,a,l){const h=a.directiveStart,f=a.directiveEnd;qa(a)&&function zl(i,s,a){const l=ir(s,i),h=H0(a),f=i[Ju],y=qh(i,yy(i,h,null,a.onPush?32:16,l,s,f,f.createRenderer(l,a),null,null,null));i[s.index]=y}(s,a,i.data[h+a.componentOffset]),i.firstCreatePass||Hs(a,s),vr(l,s);const y=a.initialInputs;for(let I=h;I<f;I++){const b=i.data[I],A=Xi(s,i,I,a);vr(A,s),null!==y&&Q0(0,I-h,A,b,0,y),ki(b)&&(sr(a.index,s)[Mn]=Xi(s,i,I,a))}}(i,s,a,ir(a,s)),64==(64&a.flags)&&K0(i,s,a))}function Iy(i,s,a=ir){const l=s.localNames;if(null!==l){let h=s.index+1;for(let f=0;f<l.length;f+=2){const y=l[f+1],I=-1===y?a(s,i):i[y];i[h++]=I}}}function H0(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=by(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function by(i,s,a,l,h,f,y,I,b,A){const x=Pt+l,U=x+h,Z=function uC(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:zt);return a}(x,U),X="function"==typeof A?A():A;return Z[Qe]={type:i,blueprint:Z,template:a,queries:null,viewQuery:I,declTNode:s,data:Z.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:b,consts:X,incompleteFirstPass:!1}}function Zh(i,s,a,l){const h=Cy(s);null===a?h.push(l):(h.push(a),i.firstCreatePass&&Hp(i).push(l,h.length-1))}function z0(i,s,a,l){for(let h in i)if(i.hasOwnProperty(h)){a=null===a?{}:a;const f=i[h];null===l?G0(a,s,h,f):l.hasOwnProperty(h)&&G0(a,s,l[h],f)}return a}function G0(i,s,a,l){i.hasOwnProperty(a)?i[a].push(s,l):i[a]=[s,l]}function us(i,s,a,l,h,f,y,I){const b=ir(s,a);let x,A=s.inputs;!I&&null!=A&&(x=A[l])?(zp(i,a,x,l,h),qa(s)&&function fC(i,s){const a=sr(s,i);16&a[Bt]||(a[Bt]|=32)}(a,s.index)):3&s.type&&(l=function hC(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),h=null!=y?y(h,s.value||"",l):h,f.setProperty(b,l,h))}function Ms(i,s,a,l){if(_c()){const h=null===l?null:{"":-1},f=function mC(i,s){const a=i.directiveRegistry;let l=null,h=null;if(a)for(let f=0;f<a.length;f++){const y=a[f];if(Uh(s,y.selectors,!1))if(l||(l=[]),ki(y))if(null!==y.findHostDirectiveDefs){const I=[];h=h||new Map,y.findHostDirectiveDefs(y,I,h),l.unshift(...I,y),Ro(i,s,I.length)}else l.unshift(y),Ro(i,s,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,l,h),l.push(y)}return null===l?null:[l,h]}(i,a);let y,I;null===f?y=I=null:[y,I]=f,null!==y&&q0(i,s,a,y,h,I),h&&function Y0(i,s,a){if(s){const l=i.localNames=[];for(let h=0;h<s.length;h+=2){const f=a[s[h+1]];if(null==f)throw new pe(-301,!1);l.push(s[h],f)}}}(a,l,h)}a.mergedAttrs=Vi(a.mergedAttrs,a.attrs)}function q0(i,s,a,l,h,f){for(let A=0;A<l.length;A++)ca(Hs(a,s),i,l[A].type);!function Eu(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}(a,i.data.length,l.length);for(let A=0;A<l.length;A++){const x=l[A];x.providersResolver&&x.providersResolver(x)}let y=!1,I=!1,b=Xc(i,s,l.length,null);for(let A=0;A<l.length;A++){const x=l[A];a.mergedAttrs=Vi(a.mergedAttrs,x.hostAttrs),yC(i,a,s,b,x),di(b,x,h),null!==x.contentQueries&&(a.flags|=4),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(a.flags|=64);const U=x.type.prototype;!y&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((i.preOrderHooks??(i.preOrderHooks=[])).push(a.index),y=!0),!I&&(U.ngOnChanges||U.ngDoCheck)&&((i.preOrderCheckHooks??(i.preOrderCheckHooks=[])).push(a.index),I=!0),b++}!function dC(i,s,a){const h=s.directiveEnd,f=i.data,y=s.attrs,I=[];let b=null,A=null;for(let x=s.directiveStart;x<h;x++){const U=f[x],Z=a?a.get(U):null,J=Z?Z.outputs:null;b=z0(U.inputs,x,b,Z?Z.inputs:null),A=z0(U.outputs,x,A,J);const Be=null===b||null===y||Hl(s)?null:X0(b,x,y);I.push(Be)}null!==b&&(b.hasOwnProperty("class")&&(s.flags|=8),b.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=I,s.inputs=b,s.outputs=A}(i,a,f)}function K0(i,s,a){const l=a.directiveStart,h=a.directiveEnd,f=a.index,y=function ih(){return Ot.lFrame.currentDirectiveIndex}();try{Cs(f);for(let I=l;I<h;I++){const b=i.data[I],A=s[I];Ki(I),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&Up(b,A)}}finally{Cs(-1),Ki(y)}}function Up(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Ro(i,s,a){s.componentOffset=a,(i.components??(i.components=[])).push(s.index)}function di(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;ki(s)&&(a[""]=i)}}function yC(i,s,a,l,h){i.data[l]=h;const f=h.factory||(h.factory=oi(h.type)),y=new ia(f,ki(h),Yc);i.blueprint[l]=y,a[l]=y,function W0(i,s,a,l,h){const f=h.hostBindings;if(f){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const I=~s.index;(function pC(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(y)!=I&&y.push(I),y.push(a,l,f)}}(i,s,l,Xc(i,a,h.hostVars,zt),h)}function Js(i,s,a,l,h,f){const y=ir(i,s);!function Bp(i,s,a,l,h,f,y){if(null==f)i.removeAttribute(s,h,a);else{const I=null==y?we(f):y(f,l||"",h);i.setAttribute(s,h,I,a)}}(s[kt],y,f,i.value,a,l,h)}function Q0(i,s,a,l,h,f){const y=f[s];if(null!==y){const I=l.setInput;for(let b=0;b<y.length;){const A=y[b++],x=y[b++],U=y[b++];null!==I?l.setInput(a,U,A,x):a[x]=U}}}function X0(i,s,a){let l=null,h=0;for(;h<a.length;){const f=a[h];if(0!==f)if(5!==f){if("number"==typeof f)break;if(i.hasOwnProperty(f)){null===l&&(l=[]);const y=i[f];for(let I=0;I<y.length;I+=2)if(y[I]===s){l.push(f,y[I+1],a[h+1]);break}}h+=2}else h+=2;else h+=4}return l}function Ey(i,s,a,l){return[i,!0,!1,s,null,0,l,a,null,null]}function tw(i,s){const a=sr(s,i);if(Bs(a)){const l=a[Qe];48&a[Bt]?Vp(l,a,l.template,a[Mn]):a[zi]>0&&ed(a)}}function ed(i){for(let l=k(i);null!==l;l=Q(l))for(let h=Er;h<l.length;h++){const f=l[h];if(Bs(f))if(512&f[Bt]){const y=f[Qe];Vp(y,f,y.template,f[Mn])}else f[zi]>0&&ed(f)}const a=i[Qe].components;if(null!==a)for(let l=0;l<a.length;l++){const h=sr(a[l],i);Bs(h)&&h[zi]>0&&ed(h)}}function nw(i,s){const a=sr(s,i),l=a[Qe];(function rw(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),vy(l,a,a[Mn])}function qh(i,s){return i[vs]?i[Zo][Br]=s:i[vs]=s,i[Zo]=s,s}function Wh(i){for(;i;){i[Bt]|=32;const s=g(i);if(Wo(i)&&!s)return i;i=s}return null}function jp(i,s,a,l=!0){const h=s[Ju];h.begin&&h.begin();try{Vp(i,s,i.template,a)}catch(y){throw l&&Ay(s,y),y}finally{h.end&&h.end()}}function $p(i,s,a){iu(0),s(i,a)}function Cy(i){return i[Gi]||(i[Gi]=[])}function Hp(i){return i.cleanup||(i.cleanup=[])}function Ay(i,s){const a=i[ys],l=a?a.get(Vh,null):null;l&&l.handleError(s)}function zp(i,s,a,l,h){for(let f=0;f<a.length;){const y=a[f++],I=a[f++],b=s[y],A=i.data[y];null!==A.setInput?A.setInput(b,h,l,I):b[I]=h}}function Gl(i,s,a){let l=a?i.styles:null,h=a?i.classes:null,f=0;if(null!==s)for(let y=0;y<s.length;y++){const I=s[y];"number"==typeof I?f=I:1==f?h=he(h,I):2==f&&(l=he(l,I+": "+s[++y]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=h:i.classesWithoutHost=h}function Kh(i,s,a,l,h=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&l.push(xn(f)),rr(f))for(let I=Er;I<f.length;I++){const b=f[I],A=b[Qe].firstChild;null!==A&&Kh(b[Qe],b,A,l)}const y=a.type;if(8&y)Kh(i,s,a.child,l);else if(32&y){const I=v(a,s);let b;for(;b=I();)l.push(b)}else if(16&y){const I=Vl(s,a);if(Array.isArray(I))l.push(...I);else{const b=g(s[br]);Kh(b[Qe],b,I,l,!0)}}a=h?a.projectionNext:a.next}return l}class td{get rootNodes(){const s=this._lView,a=s[Qe];return Kh(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mn]}set context(s){this._lView[Mn]=s}get destroyed(){return 128==(128&this._lView[Bt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[gn];if(rr(s)){const a=s[Ri],l=a?a.indexOf(this):-1;l>-1&&(yu(s,l),Ws(a,l))}this._attachedToViewContainer=!1}vu(this._lView[Qe],this._lView)}onDestroy(s){Zh(this._lView[Qe],this._lView,null,s)}markForCheck(){Wh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Bt]&=-65}reattach(){this._lView[Bt]|=64}detectChanges(){jp(this._lView[Qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function yp(i,s){$c(i,s,s[kt],2,null,null)}(this._lView[Qe],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=s}}class sw extends td{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;jp(s[Qe],s,s[Mn],!1)}checkNoChanges(){}get context(){return null}}class hi extends bu{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=nn(s);return new Gp(a,this.ngModule)}}function Ma(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class GS{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,l){l=yt(l);const h=this.injector.get(s,uy,l);return h!==uy||a===uy?h:this.parentInjector.get(s,a,l)}}class Gp extends y0{get inputs(){return Ma(this.componentDef.inputs)}get outputs(){return Ma(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function KE(i){return i.map(WE).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,l,h){let f=(h=h||this.ngModule)instanceof Bl?h:h?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const y=f?new GS(s,f):s,I=y.get(w0,null);if(null===I)throw new pe(407,!1);const b=y.get(VE,null),A=I.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",U=l?function lC(i,s,a){return i.selectRootElement(s,a===O.ShadowDom)}(A,l,this.componentDef.encapsulation):ji(A,x,function ow(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(x)),Z=this.componentDef.onPush?288:272,X=by(0,null,null,1,0,null,null,null,null,null),J=yy(null,X,null,Z,null,null,I,A,b,y,null);let Be,qe;Ec(J);try{const lt=this.componentDef;let St,Re=null;lt.findHostDirectiveDefs?(St=[],Re=new Map,lt.findHostDirectiveDefs(lt,St,Re),St.push(lt)):St=[lt];const Rt=function Ty(i,s){const a=i[Qe],l=Pt;return i[l]=s,Qc(a,l,2,"#host",null)}(J,U),Hn=function Zp(i,s,a,l,h,f,y,I){const b=h[Qe];!function wC(i,s,a,l){for(const h of i)s.mergedAttrs=Vi(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(Gl(s,s.mergedAttrs,!0),null!==a&&Mh(l,a,s))}(l,i,s,y);const A=f.createRenderer(s,a),x=yy(h,H0(a),null,a.onPush?32:16,h[i.index],i,f,A,I||null,null,null);return b.firstCreatePass&&Ro(b,i,l.length-1),qh(h,x),h[i.index]=x}(Rt,U,lt,St,J,I,A);qe=Jo(X,Pt),U&&function IC(i,s,a,l){if(l)mo(i,a,["ng-version",ay.full]);else{const{attrs:h,classes:f}=function Np(i){const s=[],a=[];let l=1,h=2;for(;l<i.length;){let f=i[l];if("string"==typeof f)2===h?""!==f&&s.push(f,i[++l]):8===h&&a.push(f);else{if(!Ss(h))break;h=f}l++}return{attrs:s,classes:a}}(s.selectors[0]);h&&mo(i,a,h),f&&f.length>0&&Sh(i,a,f.join(" "))}}(A,lt,U,l),void 0!==a&&function ZS(i,s,a){const l=i.projection=[];for(let h=0;h<s.length;h++){const f=a[h];l.push(null!=f?Array.from(f):null)}}(qe,this.ngContentSelectors,a),Be=function Sy(i,s,a,l,h,f){const y=Bn(),I=h[Qe],b=ir(y,h);q0(I,h,y,a,null,l);for(let x=0;x<a.length;x++)vr(Xi(h,I,y.directiveStart+x,y),h);K0(I,h,y),b&&vr(b,h);const A=Xi(h,I,y.directiveStart+y.componentOffset,y);if(i[Mn]=h[Mn]=A,null!==f)for(const x of f)x(A,s);return _y(I,y,i),A}(Hn,lt,St,Re,J,[qS]),vy(X,J,null)}finally{sh()}return new aw(this.componentType,Be,jl(qe,J),J,qe)}}class aw extends RE{constructor(s,a,l,h,f){super(),this.location=l,this._rootLView=h,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new sw(h),this.componentType=s}setInput(s,a){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[s])){const f=this._rootLView;zp(f[Qe],f,h,s,a),Wh(sr(this._tNode.index,f))}}get injector(){return new Hr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function qS(){const i=Bn();yl(Te()[Qe],i)}function uw(i){let s=function bC(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let h;if(ki(i))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new pe(903,!1);h=s.\u0275dir}if(h){if(a){l.push(h);const y=i;y.inputs=lw(i.inputs),y.declaredInputs=lw(i.declaredInputs),y.outputs=lw(i.outputs);const I=h.hostBindings;I&&cw(i,I);const b=h.viewQuery,A=h.contentQueries;if(b&&KS(i,b),A&&EC(i,A),fe(i.inputs,h.inputs),fe(i.declaredInputs,h.declaredInputs),fe(i.outputs,h.outputs),ki(h)&&h.data.animation){const x=i.data;x.animation=(x.animation||[]).concat(h.data.animation)}}const f=h.features;if(f)for(let y=0;y<f.length;y++){const I=f[y];I&&I.ngInherit&&I(i),I===uw&&(a=!1)}}s=Object.getPrototypeOf(s)}!function WS(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const h=i[l];h.hostVars=s+=h.hostVars,h.hostAttrs=Vi(h.hostAttrs,a=Vi(a,h.hostAttrs))}}(l)}function lw(i){return i===Y?{}:i===ae?[]:i}function KS(i,s){const a=i.viewQuery;i.viewQuery=a?(l,h)=>{s(l,h),a(l,h)}:s}function EC(i,s){const a=i.contentQueries;i.contentQueries=a?(l,h,f)=>{s(l,h,f),a(l,h,f)}:s}function cw(i,s){const a=i.hostBindings;i.hostBindings=a?(l,h)=>{s(l,h),a(l,h)}:s}function id(i){return!!Yp(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function Yp(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ei(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Oa(i,s,a,l){const h=Te();return Ei(h,js(),s)&&(Xt(),Js(hn(),h,i,s,a,l)),Oa}function Pa(i,s,a,l){return Ei(i,js(),a)?s+we(a)+l:zt}function mw(i,s,a,l,h,f,y,I){const b=Te(),A=Xt(),x=i+Pt,U=A.firstCreatePass?function Py(i,s,a,l,h,f,y,I,b){const A=s.consts,x=Qc(s,i,4,y||null,yi(A,I));Ms(s,a,x,yi(A,b)),yl(s,x);const U=x.tView=by(2,x,l,h,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,A);return null!==s.queries&&(s.queries.template(s,x),U.queries=s.queries.embeddedTView(x)),x}(x,A,b,s,a,l,h,f,y):A.data[x];vi(U,!1);const Z=b[kt].createComment("");wp(A,b,Z,U),vr(Z,b),qh(b,b[x]=Ey(Z,b,Z,U)),Ni(U)&&wy(A,b,U),null!=y&&Iy(b,U,I)}function Xp(i){return function ai(i,s){return i[s]}(function nu(){return Ot.lFrame.contextLView}(),Pt+i)}function Ry(i,s,a){const l=Te();return Ei(l,js(),s)&&us(Xt(),hn(),l,i,s,l[kt],a,!1),Ry}function vw(i,s,a,l,h){const y=h?"class":"style";zp(i,a,s.inputs[y],y,l)}function Du(i,s,a,l){const h=Te(),f=Xt(),y=Pt+i,I=h[kt],b=f.firstCreatePass?function xC(i,s,a,l,h,f){const y=s.consts,b=Qc(s,i,2,l,yi(y,h));return Ms(s,a,b,yi(y,f)),null!==b.attrs&&Gl(b,b.attrs,!1),null!==b.mergedAttrs&&Gl(b,b.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,b),b}(y,f,h,s,a,l):f.data[y],A=h[y]=ji(I,s,function Em(){return Ot.lFrame.currentNamespace}()),x=Ni(b);return vi(b,!0),Mh(I,A,b),32!=(32&b.flags)&&wp(f,h,A,b),0===function al(){return Ot.lFrame.elementDepthCount}()&&vr(A,h),function ul(){Ot.lFrame.elementDepthCount++}(),x&&(wy(f,h,b),_y(f,b,h)),null!==l&&Iy(h,b),Du}function ud(){let i=Bn();eu()?function tu(){Ot.lFrame.isParent=!1}():(i=i.parent,vi(i,!1));const s=i;!function ll(){Ot.lFrame.elementDepthCount--}();const a=Xt();return a.firstCreatePass&&(yl(a,i),el(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function vl(i){return 0!=(8&i.flags)}(s)&&vw(a,s,Te(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function sa(i){return 0!=(16&i.flags)}(s)&&vw(a,s,Te(),s.stylesWithoutHost,!1),ud}function Jp(i,s,a,l){return Du(i,s,a,l),ud(),Jp}function Ny(){return Te()}function bw(i){return!!i&&"function"==typeof i.then}function OC(i){return!!i&&"function"==typeof i.subscribe}const PC=OC;function Ew(i,s,a,l){const h=Te(),f=Xt(),y=Bn();return function Aw(i,s,a,l,h,f,y){const I=Ni(l),A=i.firstCreatePass&&Hp(i),x=s[Mn],U=Cy(s);let Z=!0;if(3&l.type||y){const Be=ir(l,s),qe=y?y(Be):Be,lt=U.length,St=y?Rt=>y(xn(Rt[l.index])):l.index;let Re=null;if(!y&&I&&(Re=function Dw(i,s,a,l){const h=i.cleanup;if(null!=h)for(let f=0;f<h.length-1;f+=2){const y=h[f];if(y===a&&h[f+1]===l){const I=s[Gi],b=h[f+2];return I.length>b?I[b]:null}"string"==typeof y&&(f+=2)}return null}(i,s,h,l.index)),null!==Re)(Re.__ngLastListenerFn__||Re).__ngNextListenerFn__=f,Re.__ngLastListenerFn__=f,Z=!1;else{f=Fy(l,s,x,f,!1);const Rt=a.listen(qe,h,f);U.push(f,Rt),A&&A.push(h,St,lt,lt+1)}}else f=Fy(l,s,x,f,!1);const X=l.outputs;let J;if(Z&&null!==X&&(J=X[h])){const Be=J.length;if(Be)for(let qe=0;qe<Be;qe+=2){const Hn=s[J[qe]][J[qe+1]].subscribe(f),cr=U.length;U.push(f,Hn),A&&A.push(h,l.index,cr,-(cr+1))}}}(f,h,h[kt],y,i,s,l),Ew}function ky(i,s,a,l){try{return an(6,s,a),!1!==a(l)}catch(h){return Ay(i,h),!1}finally{an(7,s,a)}}function Fy(i,s,a,l,h){return function f(y){if(y===Function)return l;Wh(i.componentOffset>-1?sr(i.index,s):s);let b=ky(s,a,l,y),A=f.__ngNextListenerFn__;for(;A;)b=ky(s,a,A,y)&&b,A=A.__ngNextListenerFn__;return h&&!1===b&&(y.preventDefault(),y.returnValue=!1),b}}function Ly(i=1){return function Cc(i){return(Ot.lFrame.contextLView=function ap(i,s){for(;i>0;)s=s[Fs],i--;return s}(i,Ot.lFrame.contextLView))[Mn]}(i)}function Sw(i,s,a){return eg(i,"",s,"",a),Sw}function eg(i,s,a,l,h){const f=Te(),y=Pa(f,s,a,l);return y!==zt&&us(Xt(),hn(),f,i,y,f[kt],h,!1),eg}function ql(i,s){return i<<17|s<<2}function Au(i){return i>>17&32767}function Xh(i){return 2|i}function Tu(i){return(131068&i)>>2}function $y(i,s){return-131069&i|s<<2}function zy(i){return 1|i}function Nw(i,s,a,l,h){const f=i[a+1],y=null===s;let I=l?Au(f):Tu(f),b=!1;for(;0!==I&&(!1===b||y);){const x=i[I+1];kw(i[I],s)&&(b=!0,i[I+1]=l?zy(x):Xh(x)),I=l?Au(x):Tu(x)}b&&(i[a+1]=l?Xh(f):zy(f))}function kw(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&ut(i,s)>=0}function qy(i,s,a){return ro(i,s,a,!1),qy}function rg(i,s){return ro(i,s,null,!0),rg}function ro(i,s,a,l){const h=Te(),f=Xt(),y=function Li(i){const s=Ot.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);f.firstUpdatePass&&function HC(i,s,a,l){const h=i.data;if(null===h[a+1]){const f=h[jr()],y=function $C(i,s){return s>=i.expandoStartIndex}(i,a);(function Ci(i,s){return 0!=(i.flags&(s?8:16))})(f,l)&&null===s&&!y&&(s=!1),s=function JS(i,s,a,l){const h=function pl(i){const s=Ot.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=l?s.residualClasses:s.residualStyles;if(null===h)0===(l?s.classBindings:s.styleBindings)&&(a=ld(a=zw(null,i,s,a,l),s.attrs,l),f=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==h)if(a=zw(h,i,s,a,l),null===f){let b=function $w(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==Tu(l))return i[Au(l)]}(i,s,l);void 0!==b&&Array.isArray(b)&&(b=zw(null,i,s,b[1],l),b=ld(b,s.attrs,l),function Hw(i,s,a,l){i[Au(a?s.classBindings:s.styleBindings)]=l}(i,s,l,b))}else f=function eM(i,s,a){let l;const h=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<h;f++)l=ld(l,i[f].hostAttrs,a);return ld(l,s.attrs,a)}(i,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),a}(h,f,s,l),function ng(i,s,a,l,h,f){let y=f?s.classBindings:s.styleBindings,I=Au(y),b=Tu(y);i[l]=a;let x,A=!1;if(Array.isArray(a)?(x=a[1],(null===x||ut(a,x)>0)&&(A=!0)):x=a,h)if(0!==b){const Z=Au(i[I+1]);i[l+1]=ql(Z,I),0!==Z&&(i[Z+1]=$y(i[Z+1],l)),i[I+1]=function kC(i,s){return 131071&i|s<<17}(i[I+1],l)}else i[l+1]=ql(I,0),0!==I&&(i[I+1]=$y(i[I+1],l)),I=l;else i[l+1]=ql(b,0),0===I?I=l:i[b+1]=$y(i[b+1],l),b=l;A&&(i[l+1]=Xh(i[l+1])),Nw(i,x,l,!0),Nw(i,x,l,!1),function Rw(i,s,a,l,h){const f=h?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&ut(f,s)>=0&&(a[l+1]=zy(a[l+1]))}(s,x,i,l,f),y=ql(I,b),f?s.classBindings=y:s.styleBindings=y}(h,f,s,a,y,l)}}(f,i,y,l),s!==zt&&Ei(h,y,s)&&function ZC(i,s,a,l,h,f,y,I){if(!(3&s.type))return;const b=i.data,A=b[I+1],x=function Hy(i){return 1==(1&i)}(A)?Gw(b,s,a,h,Tu(A),y):void 0;ig(x)||(ig(f)||function jy(i){return 2==(2&i)}(A)&&(f=Gw(b,null,a,h,I,y)),function Vm(i,s,a,l,h){if(s)h?i.addClass(a,l):i.removeClass(a,l);else{let f=-1===l.indexOf("-")?void 0:li.DashCase;null==h?i.removeStyle(a,l,f):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),f|=li.Important),i.setStyle(a,l,h,f))}}(l,y,bs(jr(),a),h,f))}(f,f.data[jr()],h,h[kt],i,h[y+1]=function Zw(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ce(ci(i)))),i}(s,a),l,y)}function zw(i,s,a,l,h){let f=null;const y=a.directiveEnd;let I=a.directiveStylingLast;for(-1===I?I=a.directiveStart:I++;I<y&&(f=s[I],l=ld(l,f.hostAttrs,h),f!==i);)I++;return null!==i&&(a.directiveStylingLast=I),l}function ld(i,s,a){const l=a?1:2;let h=-1;if(null!==s)for(let f=0;f<s.length;f++){const y=s[f];"number"==typeof y?h=y:h===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Wt(i,y,!!a||s[++f]))}return void 0===i?null:i}function Gw(i,s,a,l,h,f){const y=null===s;let I;for(;h>0;){const b=i[h],A=Array.isArray(b),x=A?b[1]:b,U=null===x;let Z=a[h+1];Z===zt&&(Z=U?ae:void 0);let X=U?Ys(Z,l):x===l?Z:void 0;if(A&&!ig(X)&&(X=Ys(b,l)),ig(X)&&(I=X,y))return I;const J=i[h+1];h=y?Au(J):Tu(J)}if(null!==s){let b=f?s.residualClasses:s.residualStyles;null!=b&&(I=Ys(b,l))}return I}function ig(i){return void 0!==i}function Wy(i,s=""){const a=Te(),l=Xt(),h=i+Pt,f=l.firstCreatePass?Qc(l,h,1,s,null):l.data[h],y=a[h]=function ft(i,s){return i.createText(s)}(a[kt],s);wp(l,a,y,f),vi(f,!1)}function Ky(i){return mn("",i,""),Ky}function mn(i,s,a){const l=Te(),h=Pa(l,i,s,a);return h!==zt&&function eo(i,s,a){const l=bs(s,i);!function Ht(i,s,a){i.setValue(s,a)}(i[kt],l,a)}(l,jr(),h),mn}const Vo=void 0;var tv=["en",[["a","p"],["AM","PM"],Vo],[["AM","PM"],Vo,Vo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vo,"{1} 'at' {0}",Vo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Uo(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let cd={};function xu(i){const s=function fg(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=nv(s);if(a)return a;const l=s.split("-")[0];if(a=nv(l),a)return a;if("en"===l)return tv;throw new pe(701,!1)}function hg(i){return xu(i)[Dt.PluralCase]}function nv(i){return i in cd||(cd[i]=xt.ng&&xt.ng.common&&xt.ng.common.locales&&xt.ng.common.locales[i]),cd[i]}var Dt=(()=>((Dt=Dt||{})[Dt.LocaleId=0]="LocaleId",Dt[Dt.DayPeriodsFormat=1]="DayPeriodsFormat",Dt[Dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Dt[Dt.DaysFormat=3]="DaysFormat",Dt[Dt.DaysStandalone=4]="DaysStandalone",Dt[Dt.MonthsFormat=5]="MonthsFormat",Dt[Dt.MonthsStandalone=6]="MonthsStandalone",Dt[Dt.Eras=7]="Eras",Dt[Dt.FirstDayOfWeek=8]="FirstDayOfWeek",Dt[Dt.WeekendRange=9]="WeekendRange",Dt[Dt.DateFormat=10]="DateFormat",Dt[Dt.TimeFormat=11]="TimeFormat",Dt[Dt.DateTimeFormat=12]="DateTimeFormat",Dt[Dt.NumberSymbols=13]="NumberSymbols",Dt[Dt.NumberFormats=14]="NumberFormats",Dt[Dt.CurrencyCode=15]="CurrencyCode",Dt[Dt.CurrencySymbol=16]="CurrencySymbol",Dt[Dt.CurrencyName=17]="CurrencyName",Dt[Dt.Currencies=18]="Currencies",Dt[Dt.Directionality=19]="Directionality",Dt[Dt.PluralCase=20]="PluralCase",Dt[Dt.ExtraData=21]="ExtraData",Dt))();const Ou="en-US";let hd=Ou;function Cv(i,s,a,l,h){if(i=q(i),Array.isArray(i))for(let f=0;f<i.length;f++)Cv(i[f],s,a,l,h);else{const f=Xt(),y=Te();let I=Oo(i)?i:q(i.provide),b=g0(i);const A=Bn(),x=1048575&A.providerIndexes,U=A.directiveStart,Z=A.providerIndexes>>20;if(Oo(i)||!i.multi){const X=new ia(b,h,Yc),J=wd(I,s,h?x:x+Z,U);-1===J?(ca(Hs(A,y),f,I),Yl(f,i,s.length),s.push(I),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),a.push(X),y.push(X)):(a[J]=X,y[J]=X)}else{const X=wd(I,s,x+Z,U),J=wd(I,s,x,x+Z),qe=J>=0&&a[J];if(h&&!qe||!h&&!(X>=0&&a[X])){ca(Hs(A,y),f,I);const lt=function aD(i,s,a,l,h){const f=new ia(i,a,Yc);return f.multi=[],f.index=s,f.componentProviders=0,Dv(f,h,l&&!a),f}(h?Ql:hf,a.length,h,l,b);!h&&qe&&(a[J].providerFactory=lt),Yl(f,i,s.length,0),s.push(I),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),a.push(lt),y.push(lt)}else Yl(f,i,X>-1?X:J,Dv(a[h?J:X],b,!h&&l));!h&&l&&qe&&a[J].componentProviders++}}}function Yl(i,s,a,l){const h=Oo(s),f=function qc(i){return!!i.useClass}(s);if(h||f){const b=(f?q(s.useClass):s).prototype.ngOnDestroy;if(b){const A=i.destroyHooks||(i.destroyHooks=[]);if(!h&&s.multi){const x=A.indexOf(a);-1===x?A.push(a,[l,b]):A[x+1].push(l,b)}else A.push(a,b)}}}function Dv(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function wd(i,s,a,l){for(let h=a;h<l;h++)if(s[h]===i)return h;return-1}function hf(i,s,a,l){return ff(this.multi,[])}function Ql(i,s,a,l){const h=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,I=Xi(a,a[Qe],this.providerFactory.index,l);f=I.slice(0,y),ff(h,f);for(let b=y;b<I.length;b++)f.push(I[b])}else f=[],ff(h,f);return f}function ff(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function bI(i,s=[]){return a=>{a.providersResolver=(l,h)=>function II(i,s,a){const l=Xt();if(l.firstCreatePass){const h=ki(i);Cv(a,l.data,l.blueprint,h,!0),Cv(s,l.data,l.blueprint,h,!1)}}(l,h?h(i):i,s)}}class Xl{}class Av{}function uD(i,s){return new Bo(i,s??null)}class Bo extends Xl{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hi(this);const l=Ur(s);this._bootstrapComponents=Po(l.bootstrap),this._r3Injector=XE(s,a,[{provide:Xl,useValue:this},{provide:bu,useValue:this.componentFactoryResolver}],ce(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class bd extends Av{constructor(s){super(),this.moduleType=s}create(s){return new Bo(this.moduleType,s)}}class Eg extends Xl{constructor(s,a,l){super(),this.componentFactoryResolver=new hi(this),this.instance=null;const h=new f0([...s,{provide:Xl,useValue:this},{provide:bu,useValue:this.componentFactoryResolver}],a||Mp(),l,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Cg(i,s,a=null){return new Eg(i,s,a).injector}let jn=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=l0(0,a.type),h=l.length>0?Cg([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=et({token:i,providedIn:"environment",factory:()=>new i(Ue(Bl))}),i})();function pf(i){i.getStandaloneInjector=s=>s.get(jn).getOrCreateStandaloneInjector(i)}function Mv(i,s,a,l){return function yf(i,s,a,l,h,f){const y=s+a;return Ei(i,y,h)?function ls(i,s,a){return i[s]=a}(i,y+1,f?l.call(f,h):l(h)):function mf(i,s){const a=i[s];return a===zt?void 0:a}(i,y+1)}(Te(),function Zn(){const i=Ot.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}(),i,s,a,l)}function Ag(i){return s=>{setTimeout(i,void 0,s)}}const cs=class OI extends c.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){let h=s,f=a||(()=>null),y=l;if(s&&"object"==typeof s){const b=s;h=b.next?.bind(b),f=b.error?.bind(b),y=b.complete?.bind(b)}this.__isAsync&&(f=Ag(f),h&&(h=Ag(h)),y&&(y=Ag(y)));const I=super.subscribe({next:h,error:f,complete:y});return s instanceof B.w0&&s.add(I),I}};function PI(){return this._results[Symbol.iterator]()}class io{get changes(){return this._changes||(this._changes=new cs)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=io.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=PI)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const h=function bi(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Tl(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let h=i[l],f=s[l];if(a&&(h=a(h),f=a(f)),f!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Td=(()=>{class i{}return i.__NG_ELEMENT_ID__=If,i})();const RI=Td,Nv=class extends RI{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s,a){const l=this._declarationTContainer.tView,h=yy(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null,a||null);h[_s]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[nr];return null!==y&&(h[nr]=y.createEmbeddedView(l)),vy(l,h,s),new td(h)}};function If(){return bf(Bn(),Te())}function bf(i,s){return 4&i.type?new Nv(s,i,jl(i,s)):null}let Sd=(()=>{class i{}return i.__NG_ELEMENT_ID__=Tg,i})();function Tg(){return Md(Bn(),Te())}const NI=Sd,Ef=class extends NI{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return jl(this._hostTNode,this._hostLView)}get injector(){return new Hr(this._hostTNode,this._hostLView)}get parentInjector(){const s=zs(this._hostTNode,this._hostLView);if(ua(s)){const a=$s(s,this._hostLView),l=au(s);return new Hr(a[Qe].data[l+8],a)}return new Hr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=kI(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-Er}createEmbeddedView(s,a,l){let h,f;"number"==typeof l?h=l:null!=l&&(h=l.index,f=l.injector);const y=s.createEmbeddedView(a||{},f);return this.insert(y,h),y}createComponent(s,a,l,h,f){const y=s&&!function ui(i){return"function"==typeof i}(s);let I;if(y)I=a;else{const U=a||{};I=U.index,l=U.injector,h=U.projectableNodes,f=U.environmentInjector||U.ngModuleRef}const b=y?s:new Gp(nn(s)),A=l||this.parentInjector;if(!f&&null==b.ngModule){const Z=(y?A:this.parentInjector).get(Bl,null);Z&&(f=Z)}const x=b.create(A,h,void 0,f);return this.insert(x.hostView,I),x}insert(s,a){const l=s._lView,h=l[Qe];if(function vc(i){return rr(i[gn])}(l)){const x=this.indexOf(s);if(-1!==x)this.detach(x);else{const U=l[gn],Z=new Ef(U,U[An],U[gn]);Z.detach(Z.indexOf(s))}}const f=this._adjustIndex(a),y=this._lContainer;!function vp(i,s,a,l){const h=Er+l,f=a.length;l>0&&(a[h-1][Br]=s),l<f-Er?(s[Br]=a[h],Sl(a,Er+l,s)):(a.push(s),s[Br]=null),s[gn]=a;const y=s[_s];null!==y&&a!==y&&function _p(i,s){const a=i[ws];s[br]!==s[gn][gn][br]&&(i[hc]=!0),null===a?i[ws]=[s]:a.push(s)}(y,s);const I=s[nr];null!==I&&I.insertView(i),s[Bt]|=64}(h,l,y,f);const I=Fm(f,y),b=l[kt],A=Ah(b,y[qi]);return null!==A&&function Ea(i,s,a,l,h,f){l[Pi]=h,l[An]=s,$c(i,l,a,1,h,f)}(h,y[An],b,l,A,I),s.attachToViewContainerRef(),Sl(Sg(y),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=kI(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=yu(this._lContainer,a);l&&(Ws(Sg(this._lContainer),a),vu(l[Qe],l))}detach(s){const a=this._adjustIndex(s,-1),l=yu(this._lContainer,a);return l&&null!=Ws(Sg(this._lContainer),a)?new td(l):null}_adjustIndex(s,a=0){return s??this.length+a}};function kI(i){return i[Ri]}function Sg(i){return i[Ri]||(i[Ri]=[])}function Md(i,s){let a;const l=s[i.index];if(rr(l))a=l;else{let h;if(8&i.type)h=xn(l);else{const f=s[kt];h=f.createComment("");const y=ir(i,s);_u(f,Ah(f,y),h,function H_(i,s){return i.nextSibling(s)}(f,y),!1)}s[i.index]=a=Ey(l,s,h,i),qh(s,a)}return new Ef(a,i,s)}class Mg{constructor(s){this.queryList=s,this.matches=null}clone(){return new Mg(this.queryList)}setDirty(){this.queryList.setDirty()}}class xg{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let f=0;f<l;f++){const y=a.getByIndex(f);h.push(this.queries[y.indexInDeclarationView].clone())}return new xg(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==BI(s,a).matches&&this.queries[a].setDirty()}}class Og{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class Cf{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,f=this.getByIndex(l).embeddedTView(s,h);f&&(f.indexInDeclarationView=l,null!==a?a.push(f):a=[f])}return null!==a?new Cf(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Pg{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Pg(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const f=l[h];this.matchTNodeWithReadOption(s,a,Rg(a,f)),this.matchTNodeWithReadOption(s,a,hu(a,s,f,!1,!1))}else l===Td?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,hu(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===Aa||h===Sd||h===Td&&4&a.type)this.addMatch(a.index,-2);else{const f=hu(a,s,h,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Rg(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function LI(i,s,a,l){return-1===a?function FI(i,s){return 11&i.type?jl(i,s):4&i.type?bf(i,s):null}(s,i):-2===a?function ec(i,s,a){return a===Aa?jl(s,i):a===Td?bf(s,i):a===Sd?Md(s,i):void 0}(i,s,l):Xi(i,i[Qe],a,s)}function kv(i,s,a,l){const h=s[nr].queries[l];if(null===h.matches){const f=i.data,y=a.matches,I=[];for(let b=0;b<y.length;b+=2){const A=y[b];I.push(A<0?null:LI(s,f[A],y[b+1],a.metadata.read))}h.matches=I}return h.matches}function Ng(i,s,a,l){const h=i.queries.getByIndex(a),f=h.matches;if(null!==f){const y=kv(i,s,h,a);for(let I=0;I<f.length;I+=2){const b=f[I];if(b>0)l.push(y[I/2]);else{const A=f[I+1],x=s[-b];for(let U=Er;U<x.length;U++){const Z=x[U];Z[_s]===Z[gn]&&Ng(Z[Qe],Z,A,l)}if(null!==x[ws]){const U=x[ws];for(let Z=0;Z<U.length;Z++){const X=U[Z];Ng(X[Qe],X,A,l)}}}}}return l}function Fv(i){const s=Te(),a=Xt(),l=bc();iu(l+1);const h=BI(a,l);if(i.dirty&&function sl(i){return 4==(4&i[Bt])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const f=h.crossesNgTemplate?Ng(a,s,l,[]):kv(a,s,h,l);i.reset(f,_0),i.notifyOnChanges()}return!0}return!1}function Df(i,s,a,l){const h=Xt();if(h.firstCreatePass){const f=Bn();(function tc(i,s,a){null===i.queries&&(i.queries=new Cf),i.queries.track(new Pg(s,a))})(h,new Og(s,a,l),f.index),function wD(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(h,i),2==(2&a)&&(h.staticContentQueries=!0)}!function Lv(i,s,a){const l=new io(4==(4&a));Zh(i,s,l,l.destroy),null===s[nr]&&(s[nr]=new xg),s[nr].queries.push(new Mg(l))}(h,Te(),a)}function $i(){return function UI(i,s){return i[nr].queries[s].queryList}(Te(),bc())}function BI(i,s){return i.queries.getByIndex(s)}function wr(i){return!!Ur(i)}function ic(...i){}const YI=new bn("Application Initializer");let Lu=(()=>{class i{constructor(a){this.appInits=a,this.resolve=ic,this.reject=ic,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const f=this.appInits[h]();if(bw(f))a.push(f);else if(PC(f)){const y=new Promise((I,b)=>{f.subscribe({complete:I,error:b})});a.push(y)}}Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Ue(YI,8))},i.\u0275prov=et({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ua=new bn("AppId",{providedIn:"root",factory:function QI(){return`${Vg()}${Vg()}${Vg()}`}});function Vg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ug=new bn("Platform Initializer"),PD=new bn("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let Sf=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=et({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const xf=new bn("LocaleId",{providedIn:"root",factory:()=>tt(xf,rt.Optional|rt.SkipSelf)||function Mf(){return typeof $localize<"u"&&$localize.locale||Ou}()}),Ti=new bn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class XI{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let Bg=(()=>{class i{compileModuleSync(a){return new bd(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),f=Po(Ur(a).declarations).reduce((y,I)=>{const b=nn(I);return b&&y.push(new Gp(b)),y},[]);return new XI(l,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=et({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const kD=(()=>Promise.resolve(0))();function Gv(i){typeof Zone>"u"?kD.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Ns{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new cs(!1),this.onMicrotaskEmpty=new cs(!1),this.onStable=new cs(!1),this.onError=new cs(!1),typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function FD(){let i=xt.requestAnimationFrame,s=xt.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function UD(i){const s=()=>{!function VD(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(xt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,jg(i),i.isCheckStableRunning=!0,Zv(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),jg(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,f,y,I)=>{try{return nb(i),a.invokeTask(h,f,y,I)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),qv(i)}},onInvoke:(a,l,h,f,y,I,b)=>{try{return nb(i),a.invoke(h,f,y,I,b)}finally{i.shouldCoalesceRunChangeDetection&&s(),qv(i)}},onHasTask:(a,l,h,f)=>{a.hasTask(h,f),l===h&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,jg(i),Zv(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,l,h,f)=>(a.handleError(h,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ns.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(Ns.isInAngularZone())throw new pe(909,!1)}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,h){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+h,s,LD,ic,ic);try{return f.runTask(y,a,l)}finally{f.cancelTask(y)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const LD={};function Zv(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function jg(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function nb(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function qv(i){i._nesting--,Zv(i)}class rb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new cs,this.onMicrotaskEmpty=new cs,this.onStable=new cs,this.onError=new cs}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,h){return s.apply(a,l)}}const ib=new bn(""),$g=new bn("");let Hg,Gr=(()=>{class i{constructor(a,l,h){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Hg||(function sc(i){Hg=i}(h),h.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ns.assertNotInAngularZone(),Gv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gv(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,h){return[]}}return i.\u0275fac=function(a){return new(a||i)(Ue(Ns),Ue(Wv),Ue($g))},i.\u0275prov=et({token:i,factory:i.\u0275fac}),i})(),Wv=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Hg?.findTestabilityInTree(this,a,l)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=et({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const vn=!1;let oo=null;const Zr=new bn("AllowMultipleToken"),_n=new bn("PlatformDestroyListeners"),Kv=new bn("appBootstrapListener");class jD{constructor(s,a){this.name=s,this.token=a}}function Vu(i,s,a=[]){const l=`Platform: ${s}`,h=new bn(l);return(f=[])=>{let y=Xv();if(!y||y.injector.get(Zr,!1)){const I=[...a,...f,{provide:h,useValue:!0}];i?i(I):function Rr(i){if(oo&&!oo.get(Zr,!1))throw new pe(400,!1);oo=i;const s=i.get($a);(function ja(i){const s=i.get(Ug,null);s&&s.forEach(a=>a())})(i)}(function Qv(i=[],s){return Wc.create({name:s,providers:[{provide:ny,useValue:"platform"},{provide:_n,useValue:new Set([()=>oo=null])},...i]})}(I,l))}return function Yv(i){const s=Xv();if(!s)throw new pe(401,!1);return s}()}}function Xv(){return oo?.get($a)??null}let $a=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const h=function Of(i,s){let a;return a="noop"===i?new rb:("zone.js"===i?void 0:i)||new Ns(s),a}(l?.ngZone,function Ha(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(l)),f=[{provide:Ns,useValue:h}];return h.run(()=>{const y=Wc.create({providers:f,parent:this.injector,name:a.moduleType.name}),I=a.create(y),b=I.injector.get(Vh,null);if(!b)throw new pe(402,!1);return h.runOutsideAngular(()=>{const A=h.onError.subscribe({next:x=>{b.handleError(x)}});I.onDestroy(()=>{uo(this._modules,I),A.unsubscribe()})}),function Uu(i,s,a){try{const l=a();return bw(l)?l.catch(h=>{throw s.runOutsideAngular(()=>i.handleError(h)),h}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(b,h,()=>{const A=I.injector.get(Lu);return A.runInitializers(),A.donePromise.then(()=>(function Xw(i){Je(i,"Expected localeId to be defined"),"string"==typeof i&&(hd=i.toLowerCase().replace(/_/g,"-"))}(I.injector.get(xf,Ou)||Ou),this._moduleDoBootstrap(I),I))})})}bootstrapModule(a,l=[]){const h=ao({},l);return function Nd(i,s,a){const l=new bd(a);return Promise.resolve(l)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,h))}_moduleDoBootstrap(a){const l=a.injector.get(Bu);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new pe(-403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(_n,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Ue(Wc))},i.\u0275prov=et({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function ao(i,s){return Array.isArray(s)?s.reduce(ao,i):{...i,...s}}let Bu=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,l,h){this._zone=a,this._injector=l,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new P.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),y=new P.y(I=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{Ns.assertNotInAngularZone(),Gv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Ns.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{b.unsubscribe(),A.unsubscribe()}});this.isStable=(0,te.T)(f,y.pipe((0,re.B)()))}bootstrap(a,l){const h=a instanceof y0;if(!this._injector.get(Lu).done){!h&&Yr(a);throw new pe(405,vn)}let y;y=h?a:this._injector.get(bu).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const I=function BD(i){return i.isBoundToModule}(y)?void 0:this._injector.get(Xl),A=y.create(Wc.NULL,[],l||y.selector,I),x=A.location.nativeElement,U=A.injector.get(ib,null);return U?.registerApplication(x),A.onDestroy(()=>{this.detachView(A.hostView),uo(this.components,A),U?.unregisterApplication(x)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new pe(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;uo(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(Kv,[]);l.push(...this._bootstrapListeners),l.forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>uo(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new pe(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(Ue(Ns),Ue(Bl),Ue(Vh))},i.\u0275prov=et({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function uo(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}function e_(){return!1}let ob=(()=>{class i{}return i.__NG_ELEMENT_ID__=Zg,i})();function Zg(i){return function Pf(i,s,a){if(qa(i)&&!a){const l=sr(i.index,s);return new td(l,l)}return 47&i.type?new td(s[br],s):null}(Bn(),Te(),16==(16&i))}class i_{constructor(){}supports(s){return id(s)}create(s){return new WD(s)}}const lb=(i,s)=>s;class WD{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||lb}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,h=0,f=null;for(;a||l;){const y=!l||a&&a.currentIndex<cb(l,h,f)?a:l,I=cb(y,h,f),b=y.currentIndex;if(y===l)h--,l=l._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{f||(f=[]);const A=I-h,x=b-h;if(A!=x){for(let Z=0;Z<A;Z++){const X=Z<f.length?f[Z]:f[Z]=0,J=X+Z;x<=J&&J<A&&(f[Z]=X+1)}f[y.previousIndex]=x-A}}I!==b&&s(y,I,b)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!id(s))throw new pe(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,f,y,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let I=0;I<this.length;I++)f=s[I],y=this._trackByFn(I,f),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,f,y,I)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,y,I),l=!0),a=a._next}else h=0,function Kp(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Symbol.iterator]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,I=>{y=this._trackByFn(h,I),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,I,y,h)),Object.is(a.item,I)||this._addIdentityChange(a,I)):(a=this._mismatch(a,I,y,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,h){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,h)):s=this._addAfter(new KD(a,l),f,h),s}_verifyReinsertion(s,a,l,h){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,f=s._nextRemoved;return null===h?this._removalsHead=f:h._nextRemoved=f,null===f?this._removalsTail=h:f._prevRemoved=h,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new s_),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new s_),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class KD{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class YD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class s_{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new YD,this.map.set(a,l)),l.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cb(i,s,a){const l=i.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+s+h}class o_{constructor(){}supports(s){return s instanceof Map||Yp(s)}create(){return new QD}}class QD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Yp(s)))throw new pe(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const f=h._prev,y=h._next;return f&&(f._next=y),y&&(y._prev=f),h._next=null,h._prev=null,h}const l=new XD(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class XD{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function db(){return new Nf([new i_])}let Nf=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||db()),deps:[[i,new ya,new Ui]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new pe(901,!1)}}return i.\u0275prov=et({token:i,providedIn:"root",factory:db}),i})();function Ud(){return new Bd([new o_])}let Bd=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Ud()),deps:[[i,new ya,new Ui]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(l)return l;throw new pe(901,!1)}}return i.\u0275prov=et({token:i,providedIn:"root",factory:Ud}),i})();const fb=Vu(null,"core",[]);let jd=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Ue(Bu))},i.\u0275mod=Ga({type:i}),i.\u0275inj=Nn({}),i})();function pb(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(ht,Ce,L)=>{L.d(Ce,{Z:()=>ze});var c=L(2090),B=L(4859),P=L(9681),te=L(1877);class re{constructor(pe,Ie){this._delegate=pe,this.firebase=Ie,(0,P._addComponent)(pe,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(pe,Ie=P._DEFAULT_ENTRY_NAME){var we;this._delegate.checkDestroyed();const Pe=this._delegate.container.getProvider(pe);return!Pe.isInitialized()&&"EXPLICIT"===(null===(we=Pe.getComponent())||void 0===we?void 0:we.instantiationMode)&&Pe.initialize(),Pe.getImmediate({identifier:Ie})}_removeServiceInstance(pe,Ie=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(Ie)}_addComponent(pe){(0,P._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,P._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function he(){const st=function ce(st){const pe={},Ie={__esModule:!0,initializeApp:function Ae(K,oe={}){const ge=P.initializeApp(K,oe);if((0,c.r3)(pe,ge.name))return pe[ge.name];const Ge=new st(ge,Ie);return pe[ge.name]=Ge,Ge},app:Pe,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function be(K){const oe=K.name,ge=oe.replace("-compat","");if(P._registerComponent(K)&&"PUBLIC"===K.type){const Ge=(je=Pe())=>{if("function"!=typeof je[ge])throw fe.create("invalid-app-argument",{appName:oe});return je[ge]()};void 0!==K.serviceProps&&(0,c.ZB)(Ge,K.serviceProps),Ie[ge]=Ge,st.prototype[ge]=function(...je){return this._getService.bind(this,oe).apply(this,K.multipleInstances?je:[])}}return"PUBLIC"===K.type?Ie[ge]:null},removeApp:function we(K){delete pe[K]},useAsService:function $e(K,oe){return"serverAuth"===oe?null:oe},modularAPIs:P}};function Pe(K){if(!(0,c.r3)(pe,K=K||P._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:K});return pe[K]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function xe(){return Object.keys(pe).map(K=>pe[K])}}),Pe.App=st,Ie}(re);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function pe(Ie){(0,c.ZB)(st,Ie)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),st}(),z=new te.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ze=H;!function De(st){(0,P.registerVersion)("@firebase/app-compat","0.2.7",st)}()},9681:(ht,Ce,L)=>{L.r(Ce),L.d(Ce,{FirebaseError:()=>te.ZR,SDK_VERSION:()=>Fr,_DEFAULT_ENTRY_NAME:()=>ke,_addComponent:()=>sn,_addOrOverwriteComponent:()=>mt,_apps:()=>Je,_clearComponents:()=>Nn,_components:()=>Ye,_getProvider:()=>et,_registerComponent:()=>ct,_removeServiceInstance:()=>tn,deleteApp:()=>ii,getApp:()=>kn,getApps:()=>ri,initializeApp:()=>Oi,onLog:()=>rt,registerVersion:()=>tr,setLogLevel:()=>dr});var c=L(5861),B=L(4859),P=L(1877),te=L(2090),re=L(8766);class se{constructor(_e){this.container=_e}getPlatformInfoString(){return this.container.getProviders().map(tt=>{if(function fe(Ue){return"VERSION"===Ue.getComponent()?.type}(tt)){const yt=tt.getImmediate();return`${yt.library}/${yt.version}`}return null}).filter(tt=>tt).join(" ")}}const ce="@firebase/app",H=new P.Yd("@firebase/app"),ke="[DEFAULT]",Le={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Je=new Map,Ye=new Map;function sn(Ue,_e){try{Ue.container.addComponent(_e)}catch(tt){H.debug(`Component ${_e.name} failed to register with FirebaseApp ${Ue.name}`,tt)}}function mt(Ue,_e){Ue.container.addOrOverwriteComponent(_e)}function ct(Ue){const _e=Ue.name;if(Ye.has(_e))return H.debug(`There were multiple attempts to register component ${_e}.`),!1;Ye.set(_e,Ue);for(const tt of Je.values())sn(tt,Ue);return!0}function et(Ue,_e){const tt=Ue.container.getProvider("heartbeat").getImmediate({optional:!0});return tt&&tt.triggerHeartbeat(),Ue.container.getProvider(_e)}function tn(Ue,_e,tt=ke){et(Ue,_e).clearInstance(tt)}function Nn(){Ye.clear()}const on=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Qn{constructor(_e,tt,yt){this._isDeleted=!1,this._options=Object.assign({},_e),this._config=Object.assign({},tt),this._name=tt.name,this._automaticDataCollectionEnabled=tt.automaticDataCollectionEnabled,this._container=yt,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this.checkDestroyed(),this._automaticDataCollectionEnabled=_e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_e){this._isDeleted=_e}checkDestroyed(){if(this.isDeleted)throw on.create("app-deleted",{appName:this._name})}}const Fr="9.19.1";function Oi(Ue,_e={}){let tt=Ue;"object"!=typeof _e&&(_e={name:_e});const yt=Object.assign({name:ke,automaticDataCollectionEnabled:!1},_e),At=yt.name;if("string"!=typeof At||!At)throw on.create("bad-app-name",{appName:String(At)});if(tt||(tt=(0,te.aH)()),!tt)throw on.create("no-options");const Yt=Je.get(At);if(Yt){if((0,te.vZ)(tt,Yt.options)&&(0,te.vZ)(yt,Yt.config))return Yt;throw on.create("duplicate-app",{appName:At})}const Vn=new B.H0(At);for(const j of Ye.values())Vn.addComponent(j);const $=new Qn(tt,yt,Vn);return Je.set(At,$),$}function kn(Ue=ke){const _e=Je.get(Ue);if(!_e&&Ue===ke)return Oi();if(!_e)throw on.create("no-app",{appName:Ue});return _e}function ri(){return Array.from(Je.values())}function ii(Ue){return wn.apply(this,arguments)}function wn(){return(wn=(0,c.Z)(function*(Ue){const _e=Ue.name;Je.has(_e)&&(Je.delete(_e),yield Promise.all(Ue.container.getProviders().map(tt=>tt.delete())),Ue.isDeleted=!0)})).apply(this,arguments)}function tr(Ue,_e,tt){var yt;let At=null!==(yt=Le[Ue])&&void 0!==yt?yt:Ue;tt&&(At+=`-${tt}`);const Yt=At.match(/\s|\//),Vn=_e.match(/\s|\//);if(Yt||Vn){const $=[`Unable to register library "${At}" with version "${_e}":`];return Yt&&$.push(`library name "${At}" contains illegal characters (whitespace or "/")`),Yt&&Vn&&$.push("and"),Vn&&$.push(`version name "${_e}" contains illegal characters (whitespace or "/")`),void H.warn($.join(" "))}ct(new B.wA(`${At}-version`,()=>({library:At,version:_e}),"VERSION"))}function rt(Ue,_e){if(null!==Ue&&"function"!=typeof Ue)throw on.create("invalid-log-argument");(0,P.Am)(Ue,_e)}function dr(Ue){(0,P.Ub)(Ue)}const hr="firebase-heartbeat-database",zn=1,Fn="firebase-heartbeat-store";let Kr=null;function xt(){return Kr||(Kr=(0,re.X3)(hr,zn,{upgrade:(Ue,_e)=>{0===_e&&Ue.createObjectStore(Fn)}}).catch(Ue=>{throw on.create("idb-open",{originalErrorMessage:Ue.message})})),Kr}function Mt(){return(Mt=(0,c.Z)(function*(Ue){try{return(yield xt()).transaction(Fn).objectStore(Fn).get(Gn(Ue))}catch(_e){if(_e instanceof te.ZR)H.warn(_e.message);else{const tt=on.create("idb-get",{originalErrorMessage:_e?.message});H.warn(tt.message)}}})).apply(this,arguments)}function En(Ue,_e){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,c.Z)(function*(Ue,_e){try{const yt=(yield xt()).transaction(Fn,"readwrite");return yield yt.objectStore(Fn).put(_e,Gn(Ue)),yt.done}catch(tt){if(tt instanceof te.ZR)H.warn(tt.message);else{const yt=on.create("idb-set",{originalErrorMessage:tt?.message});H.warn(yt.message)}}})).apply(this,arguments)}function Gn(Ue){return`${Ue.name}!${Ue.options.appId}`}class gi{constructor(_e){this.container=_e,this._heartbeatsCache=null;const tt=this.container.getProvider("app").getImmediate();this._storage=new Gt(tt),this._heartbeatsCachePromise=this._storage.read().then(yt=>(this._heartbeatsCache=yt,yt))}triggerHeartbeat(){var _e=this;return(0,c.Z)(function*(){const yt=_e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),At=Vt();if(null===_e._heartbeatsCache&&(_e._heartbeatsCache=yield _e._heartbeatsCachePromise),_e._heartbeatsCache.lastSentHeartbeatDate!==At&&!_e._heartbeatsCache.heartbeats.some(Yt=>Yt.date===At))return _e._heartbeatsCache.heartbeats.push({date:At,agent:yt}),_e._heartbeatsCache.heartbeats=_e._heartbeatsCache.heartbeats.filter(Yt=>{const Vn=new Date(Yt.date).valueOf();return Date.now()-Vn<=2592e6}),_e._storage.overwrite(_e._heartbeatsCache)})()}getHeartbeatsHeader(){var _e=this;return(0,c.Z)(function*(){if(null===_e._heartbeatsCache&&(yield _e._heartbeatsCachePromise),null===_e._heartbeatsCache||0===_e._heartbeatsCache.heartbeats.length)return"";const tt=Vt(),{heartbeatsToSend:yt,unsentEntries:At}=function mi(Ue,_e=1024){const tt=[];let yt=Ue.slice();for(const At of Ue){const Yt=tt.find(Vn=>Vn.agent===At.agent);if(Yt){if(Yt.dates.push(At.date),Lr(tt)>_e){Yt.dates.pop();break}}else if(tt.push({agent:At.agent,dates:[At.date]}),Lr(tt)>_e){tt.pop();break}yt=yt.slice(1)}return{heartbeatsToSend:tt,unsentEntries:yt}}(_e._heartbeatsCache.heartbeats),Yt=(0,te.L)(JSON.stringify({version:2,heartbeats:yt}));return _e._heartbeatsCache.lastSentHeartbeatDate=tt,At.length>0?(_e._heartbeatsCache.heartbeats=At,yield _e._storage.overwrite(_e._heartbeatsCache)):(_e._heartbeatsCache.heartbeats=[],_e._storage.overwrite(_e._heartbeatsCache)),Yt})()}}function Vt(){return(new Date).toISOString().substring(0,10)}class Gt{constructor(_e){this.app=_e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var _e=this;return(0,c.Z)(function*(){return(yield _e._canUseIndexedDBPromise)&&(yield function dt(Ue){return Mt.apply(this,arguments)}(_e.app))||{heartbeats:[]}})()}overwrite(_e){var tt=this;return(0,c.Z)(function*(){var yt;if(yield tt._canUseIndexedDBPromise){const Yt=yield tt.read();return En(tt.app,{lastSentHeartbeatDate:null!==(yt=_e.lastSentHeartbeatDate)&&void 0!==yt?yt:Yt.lastSentHeartbeatDate,heartbeats:_e.heartbeats})}})()}add(_e){var tt=this;return(0,c.Z)(function*(){var yt;if(yield tt._canUseIndexedDBPromise){const Yt=yield tt.read();return En(tt.app,{lastSentHeartbeatDate:null!==(yt=_e.lastSentHeartbeatDate)&&void 0!==yt?yt:Yt.lastSentHeartbeatDate,heartbeats:[...Yt.heartbeats,..._e.heartbeats]})}})()}}function Lr(Ue){return(0,te.L)(JSON.stringify({version:2,heartbeats:Ue})).length}!function Ln(Ue){ct(new B.wA("platform-logger",_e=>new se(_e),"PRIVATE")),ct(new B.wA("heartbeat",_e=>new gi(_e),"PRIVATE")),tr(ce,"0.9.7",Ue),tr(ce,"0.9.7","esm2017"),tr("fire-js","")}("")},4859:(ht,Ce,L)=>{L.d(Ce,{H0:()=>ce,wA:()=>P});var c=L(5861),B=L(2090);class P{constructor(H,z,q){this.name=H,this.instanceFactory=z,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const te="[DEFAULT]";class re{constructor(H,z){this.name=H,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const z=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(z)){const q=new B.BH;if(this.instancesDeferred.set(z,q),this.isInitialized(z)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:z});Ve&&q.resolve(Ve)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(H){var z;const q=this.normalizeInstanceIdentifier(H?.identifier),Ve=null!==(z=H?.optional)&&void 0!==z&&z;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(De){if(Ve)return null;throw De}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function fe(he){return"EAGER"===he.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:te})}catch{}for(const[z,q]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(z);try{const De=this.getOrInitializeService({instanceIdentifier:Ve});q.resolve(De)}catch{}}}}clearInstance(H=te){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,c.Z)(function*(){const z=Array.from(H.instances.values());yield Promise.all([...z.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...z.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=te){return this.instances.has(H)}getOptions(H=te){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:z={}}=H,q=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:q,options:z});for(const[De,ze]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(De)&&ze.resolve(Ve);return Ve}onInit(H,z){var q;const Ve=this.normalizeInstanceIdentifier(z),De=null!==(q=this.onInitCallbacks.get(Ve))&&void 0!==q?q:new Set;De.add(H),this.onInitCallbacks.set(Ve,De);const ze=this.instances.get(Ve);return ze&&H(ze,Ve),()=>{De.delete(H)}}invokeOnInitCallbacks(H,z){const q=this.onInitCallbacks.get(z);if(q)for(const Ve of q)try{Ve(H,z)}catch{}}getOrInitializeService({instanceIdentifier:H,options:z={}}){let q=this.instances.get(H);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(he=H,he===te?void 0:he),options:z}),this.instances.set(H,q),this.instancesOptions.set(H,z),this.invokeOnInitCallbacks(q,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,q)}catch{}var he;return q||null}normalizeInstanceIdentifier(H=te){return this.component?this.component.multipleInstances?H:te:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const z=this.getProvider(H.name);if(z.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);z.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const z=new re(H,this);return this.providers.set(H,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(ht,Ce,L)=>{L.d(Ce,{Am:()=>he,Ub:()=>ce,Yd:()=>fe,in:()=>B});const c=[];var B=(()=>{return(H=B||(B={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",B;var H})();const P={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},te=B.INFO,re={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},se=(H,z,...q)=>{if(z<H.logLevel)return;const Ve=(new Date).toISOString(),De=re[z];if(!De)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[De](`[${Ve}]  ${H.name}:`,...q)};class fe{constructor(z){this.name=z,this._logLevel=te,this._logHandler=se,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in B))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?P[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...z),this._logHandler(this,B.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...z),this._logHandler(this,B.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,B.INFO,...z),this._logHandler(this,B.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,B.WARN,...z),this._logHandler(this,B.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...z),this._logHandler(this,B.ERROR,...z)}}function ce(H){c.forEach(z=>{z.setLogLevel(H)})}function he(H,z){for(const q of c){let Ve=null;z&&z.level&&(Ve=P[z.level]),q.userLogHandler=null===H?null:(De,ze,...st)=>{const pe=st.map(Ie=>{if(null==Ie)return null;if("string"==typeof Ie)return Ie;if("number"==typeof Ie||"boolean"==typeof Ie)return Ie.toString();if(Ie instanceof Error)return Ie.message;try{return JSON.stringify(Ie)}catch{return null}}).filter(Ie=>Ie).join(" ");ze>=(Ve??De.logLevel)&&H({level:B[ze].toLowerCase(),message:pe,args:st,type:De.name})}}}},259:(ht,Ce,L)=>{L.d(Ce,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp,ZF:()=>c.initializeApp});var c=L(9681);(0,c.registerVersion)("firebase","9.19.1","app")},9260:(ht,Ce,L)=>{L.d(Ce,{Z:()=>c.Z});var c=L(3942);c.Z.registerVersion("firebase","9.19.1","app-compat")},9568:(ht,Ce,L)=>{L.r(Ce);var c=L(5861),B=L(3942),P=L(3432),te=L(2090),fe=(L(9681),L(1877),L(4859));function ce(){return window}const he=2e3;function z(){return z=(0,c.Z)(function*(R,F,O){var Y;const{BuildInfo:ae}=ce();(0,P.ar)(F.sessionId,"AuthEvent did not contain a session ID");const it=yield function Ie(R){return we.apply(this,arguments)}(F.sessionId),wt={};return(0,P.as)()?wt.ibi=ae.packageName:(0,P.at)()?wt.apn=ae.packageName:(0,P.au)(R,"operation-not-supported-in-this-environment"),ae.displayName&&(wt.appDisplayName=ae.displayName),wt.sessionId=it,(0,P.av)(R,O,F.type,void 0,null!==(Y=F.eventId)&&void 0!==Y?Y:void 0,wt)}),z.apply(this,arguments)}function Ve(){return(Ve=(0,c.Z)(function*(R){const{BuildInfo:F}=ce(),O={};(0,P.as)()?O.iosBundleId=F.packageName:(0,P.at)()?O.androidPackageName=F.packageName:(0,P.au)(R,"operation-not-supported-in-this-environment"),yield(0,P.aw)(R,O)})).apply(this,arguments)}function st(){return(st=(0,c.Z)(function*(R,F,O){const{cordova:Y}=ce();let ae=()=>{};try{yield new Promise((it,wt)=>{let Tt=null;function qt(){var Ut;it();const Vr=null===(Ut=Y.plugins.browsertab)||void 0===Ut?void 0:Ut.close;"function"==typeof Vr&&Vr(),"function"==typeof O?.close&&O.close()}function It(){Tt||(Tt=window.setTimeout(()=>{wt((0,P.ay)(R,"redirect-cancelled-by-user"))},he))}function In(){"visible"===document?.visibilityState&&It()}F.addPassiveListener(qt),document.addEventListener("resume",It,!1),(0,P.at)()&&document.addEventListener("visibilitychange",In,!1),ae=()=>{F.removePassiveListener(qt),document.removeEventListener("resume",It,!1),document.removeEventListener("visibilitychange",In,!1),Tt&&window.clearTimeout(Tt)}})}finally{ae()}})).apply(this,arguments)}function we(){return(we=(0,c.Z)(function*(R){const F=function Pe(R){if((0,P.ar)(/[0-9a-zA-Z]+/.test(R),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(R);const F=new ArrayBuffer(R.length),O=new Uint8Array(F);for(let Y=0;Y<R.length;Y++)O[Y]=R.charCodeAt(Y);return O}(R),O=yield crypto.subtle.digest("SHA-256",F);return Array.from(new Uint8Array(O)).map(ae=>ae.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Ae=20;class xe extends P.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(F=>{this.resolveInialized=F})}addPassiveListener(F){this.passiveListeners.add(F)}removePassiveListener(F){this.passiveListeners.delete(F)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(F){return this.resolveInialized(),this.passiveListeners.forEach(O=>O(F)),super.onEvent(F)}initialized(){var F=this;return(0,c.Z)(function*(){yield F.initPromise})()}}function K(R){return oe.apply(this,arguments)}function oe(){return(oe=(0,c.Z)(function*(R){const F=yield je()._get(Et(R));return F&&(yield je()._remove(Et(R))),F})).apply(this,arguments)}function Ge(){const R=[],F="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let O=0;O<Ae;O++){const Y=Math.floor(Math.random()*F.length);R.push(F.charAt(Y))}return R.join("")}function je(){return(0,P.aB)(P.b)}function Et(R){return(0,P.aC)("authEvent",R.config.apiKey,R.name)}function de(R){if(!R?.includes("?"))return{};const[F,...O]=R.split("?");return(0,te.zd)(O.join("?"))}const ke=class Se{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aD,this._overrideRedirectResult=P.aE}_initialize(F){var O=this;return(0,c.Z)(function*(){const Y=F._key();let ae=O.eventManagers.get(Y);return ae||(ae=new xe(F),O.eventManagers.set(Y,ae),O.attachCallbackListeners(F,ae)),ae})()}_openPopup(F){(0,P.au)(F,"operation-not-supported-in-this-environment")}_openRedirect(F,O,Y,ae){var it=this;return(0,c.Z)(function*(){!function pe(R){var F,O,Y,ae,it,wt,Tt,qt,It,In;const Ut=ce();(0,P.az)("function"==typeof(null===(F=Ut?.universalLinks)||void 0===F?void 0:F.subscribe),R,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.az)(typeof(null===(O=Ut?.BuildInfo)||void 0===O?void 0:O.packageName)<"u",R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.az)("function"==typeof(null===(it=null===(ae=null===(Y=Ut?.cordova)||void 0===Y?void 0:Y.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===it?void 0:it.openUrl),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.az)("function"==typeof(null===(qt=null===(Tt=null===(wt=Ut?.cordova)||void 0===wt?void 0:wt.plugins)||void 0===Tt?void 0:Tt.browsertab)||void 0===qt?void 0:qt.isAvailable),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.az)("function"==typeof(null===(In=null===(It=Ut?.cordova)||void 0===It?void 0:It.InAppBrowser)||void 0===In?void 0:In.open),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(F);const wt=yield it._initialize(F);yield wt.initialized(),wt.resetRedirect(),(0,P.aF)(),yield it._originValidation(F);const Tt=function be(R,F,O=null){return{type:F,eventId:O,urlResponse:null,sessionId:Ge(),postBody:null,tenantId:R.tenantId,error:(0,P.ay)(R,"no-auth-event")}}(F,Y,ae);yield function $e(R,F){return je()._set(Et(R),F)}(F,Tt);const qt=yield function H(R,F,O){return z.apply(this,arguments)}(F,Tt,O),It=yield function De(R){const{cordova:F}=ce();return new Promise(O=>{F.plugins.browsertab.isAvailable(Y=>{let ae=null;Y?F.plugins.browsertab.openUrl(R):ae=F.InAppBrowser.open(R,(0,P.ax)()?"_blank":"_system","location=yes"),O(ae)})})}(qt);return function ze(R,F,O){return st.apply(this,arguments)}(F,wt,It)})()}_isIframeWebStorageSupported(F,O){throw new Error("Method not implemented.")}_originValidation(F){const O=F._key();return this.originValidationPromises[O]||(this.originValidationPromises[O]=function q(R){return Ve.apply(this,arguments)}(F)),this.originValidationPromises[O]}attachCallbackListeners(F,O){const{universalLinks:Y,handleOpenURL:ae,BuildInfo:it}=ce(),wt=setTimeout((0,c.Z)(function*(){yield K(F),O.onEvent(Le())}),500),Tt=function(){var In=(0,c.Z)(function*(Ut){clearTimeout(wt);const Vr=yield K(F);let Wu=null;Vr&&Ut?.url&&(Wu=function ge(R,F){var O,Y;const ae=function ie(R){const F=de(R),O=F.link?decodeURIComponent(F.link):void 0,Y=de(O).link,ae=F.deep_link_id?decodeURIComponent(F.deep_link_id):void 0;return de(ae).link||ae||Y||O||R}(F);if(ae.includes("/__/auth/callback")){const it=de(ae),wt=it.firebaseError?function Xe(R){try{return JSON.parse(R)}catch{return null}}(decodeURIComponent(it.firebaseError)):null,Tt=null===(Y=null===(O=wt?.code)||void 0===O?void 0:O.split("auth/"))||void 0===Y?void 0:Y[1],qt=Tt?(0,P.ay)(Tt):null;return qt?{type:R.type,eventId:R.eventId,tenantId:R.tenantId,error:qt,urlResponse:null,sessionId:null,postBody:null}:{type:R.type,eventId:R.eventId,tenantId:R.tenantId,sessionId:R.sessionId,urlResponse:ae,postBody:null}}return null}(Vr,Ut.url)),O.onEvent(Wu||Le())});return function(Vr){return In.apply(this,arguments)}}();typeof Y<"u"&&"function"==typeof Y.subscribe&&Y.subscribe(null,Tt);const qt=ae,It=`${it.packageName.toLowerCase()}://`;ce().handleOpenURL=function(){var In=(0,c.Z)(function*(Ut){if(Ut.toLowerCase().startsWith(It)&&Tt({url:Ut}),"function"==typeof qt)try{qt(Ut)}catch(Vr){console.error(Vr)}});return function(Ut){return In.apply(this,arguments)}}()}};function Le(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.ay)("no-auth-event")}}const mt=1e3;function ct(){var R;return(null===(R=self?.location)||void 0===R?void 0:R.protocol)||null}function tn(R=(0,te.z$)()){return!("file:"!==ct()&&"ionic:"!==ct()&&"capacitor:"!==ct()||!R.toLowerCase().match(/iphone|ipad|ipod|android/))}function Fr(){try{const R=self.localStorage,F=P.aK();if(R)return R.setItem(F,"1"),R.removeItem(F),!function Qn(R=(0,te.z$)()){return function cn(){return(0,te.w1)()&&11===document?.documentMode}()||function on(R=(0,te.z$)()){return/Edge\/\d+/.test(R)}(R)}()||(0,te.hl)()}catch{return Oi()&&(0,te.hl)()}return!1}function Oi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function kn(){return(function et(){return"http:"===ct()||"https:"===ct()}()||(0,te.ru)()||tn())&&!function Nn(){return(0,te.b$)()||(0,te.UG)()}()&&Fr()&&!Oi()}function ri(){return tn()&&typeof document<"u"}function wn(){return(wn=(0,c.Z)(function*(){return!!ri()&&new Promise(R=>{const F=setTimeout(()=>{R(!1)},mt);document.addEventListener("deviceready",()=>{clearTimeout(F),R(!0)})})})).apply(this,arguments)}const rt={LOCAL:"local",NONE:"none",SESSION:"session"},dr=P.az,hr="persistence";function Fn(R){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,c.Z)(function*(R){yield R._initializationPromise;const F=dt(),O=P.aC(hr,R.config.apiKey,R.name);F&&F.setItem(O,R._getPersistence())})).apply(this,arguments)}function dt(){var R;try{return(null===(R=function tr(){return typeof window<"u"?window:null}())||void 0===R?void 0:R.sessionStorage)||null}catch{return null}}const Mt=P.az;class En{constructor(){this.browserResolver=P.aB(P.k),this.cordovaResolver=P.aB(ke),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aD,this._overrideRedirectResult=P.aE}_initialize(F){var O=this;return(0,c.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._initialize(F)})()}_openPopup(F,O,Y,ae){var it=this;return(0,c.Z)(function*(){return yield it.selectUnderlyingResolver(),it.assertedUnderlyingResolver._openPopup(F,O,Y,ae)})()}_openRedirect(F,O,Y,ae){var it=this;return(0,c.Z)(function*(){return yield it.selectUnderlyingResolver(),it.assertedUnderlyingResolver._openRedirect(F,O,Y,ae)})()}_isIframeWebStorageSupported(F,O){this.assertedUnderlyingResolver._isIframeWebStorageSupported(F,O)}_originValidation(F){return this.assertedUnderlyingResolver._originValidation(F)}get _shouldInitProactively(){return ri()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Mt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var F=this;return(0,c.Z)(function*(){if(F.underlyingResolver)return;const O=yield function ii(){return wn.apply(this,arguments)}();F.underlyingResolver=O?F.cordovaResolver:F.browserResolver})()}}function Sn(R){return R.unwrap()}function fr(R){return gi(R)}function gi(R){const{_tokenResponse:F}=R instanceof te.ZR?R.customData:R;if(!F)return null;if(!(R instanceof te.ZR)&&"temporaryProof"in F&&"phoneNumber"in F)return P.P.credentialFromResult(R);const O=F.providerId;if(!O||O===P.p.PASSWORD)return null;let Y;switch(O){case P.p.GOOGLE:Y=P.U;break;case P.p.FACEBOOK:Y=P.Q;break;case P.p.GITHUB:Y=P.V;break;case P.p.TWITTER:Y=P.Y;break;default:const{oauthIdToken:ae,oauthAccessToken:it,oauthTokenSecret:wt,pendingToken:Tt,nonce:qt}=F;return it||wt||ae||Tt?Tt?O.startsWith("saml.")?P.aN._create(O,Tt):P.K._fromParams({providerId:O,signInMethod:O,pendingToken:Tt,idToken:ae,accessToken:it}):new P.W(O).credential({idToken:ae,accessToken:it,rawNonce:qt}):null}return R instanceof te.ZR?Y.credentialFromError(R):Y.credentialFromResult(R)}function Vt(R,F){return F.catch(O=>{throw O instanceof te.ZR&&function Xn(R,F){var O;const Y=null===(O=F.customData)||void 0===O?void 0:O._tokenResponse;if("auth/multi-factor-auth-required"===F?.code)F.resolver=new Lr(R,P.ap(R,F));else if(Y){const ae=gi(F),it=F;ae&&(it.credential=ae,it.tenantId=Y.tenantId||void 0,it.email=Y.email||void 0,it.phoneNumber=Y.phoneNumber||void 0)}}(R,O),O}).then(O=>{const ae=O.user;return{operationType:O.operationType,credential:fr(O),additionalUserInfo:P.an(O),user:Ln.getOrCreate(ae)}})}function mi(R,F){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,c.Z)(function*(R,F){const O=yield F;return{verificationId:O.verificationId,confirm:Y=>Vt(R,O.confirm(Y))}})).apply(this,arguments)}class Lr{constructor(F,O){this.resolver=O,this.auth=function Gn(R){return R.wrapped()}(F)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(F){return Vt(Sn(this.auth),this.resolver.resolveSignIn(F))}}class Ln{constructor(F){this._delegate=F,this.multiFactor=P.aq(F)}static getOrCreate(F){return Ln.USER_MAP.has(F)||Ln.USER_MAP.set(F,new Ln(F)),Ln.USER_MAP.get(F)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(F){return this._delegate.getIdTokenResult(F)}getIdToken(F){return this._delegate.getIdToken(F)}linkAndRetrieveDataWithCredential(F){return this.linkWithCredential(F)}linkWithCredential(F){var O=this;return(0,c.Z)(function*(){return Vt(O.auth,P.$(O._delegate,F))})()}linkWithPhoneNumber(F,O){var Y=this;return(0,c.Z)(function*(){return mi(Y.auth,P.l(Y._delegate,F,O))})()}linkWithPopup(F){var O=this;return(0,c.Z)(function*(){return Vt(O.auth,P.d(O._delegate,F,En))})()}linkWithRedirect(F){var O=this;return(0,c.Z)(function*(){return yield Fn(P.aG(O.auth)),P.g(O._delegate,F,En)})()}reauthenticateAndRetrieveDataWithCredential(F){return this.reauthenticateWithCredential(F)}reauthenticateWithCredential(F){var O=this;return(0,c.Z)(function*(){return Vt(O.auth,P.a0(O._delegate,F))})()}reauthenticateWithPhoneNumber(F,O){return mi(this.auth,P.r(this._delegate,F,O))}reauthenticateWithPopup(F){return Vt(this.auth,P.e(this._delegate,F,En))}reauthenticateWithRedirect(F){var O=this;return(0,c.Z)(function*(){return yield Fn(P.aG(O.auth)),P.h(O._delegate,F,En)})()}sendEmailVerification(F){return P.ad(this._delegate,F)}unlink(F){var O=this;return(0,c.Z)(function*(){return yield P.am(O._delegate,F),O})()}updateEmail(F){return P.ai(this._delegate,F)}updatePassword(F){return P.aj(this._delegate,F)}updatePhoneNumber(F){return P.u(this._delegate,F)}updateProfile(F){return P.ah(this._delegate,F)}verifyBeforeUpdateEmail(F,O){return P.ae(this._delegate,F,O)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ln.USER_MAP=new WeakMap;const Ue=P.az;let _e=(()=>{class R{constructor(O,Y){if(this.app=O,Y.isInitialized())return this._delegate=Y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ae}=O.options;Ue(ae,"invalid-api-key",{appName:O.name}),Ue(ae,"invalid-api-key",{appName:O.name});const it=typeof window<"u"?En:void 0;this._delegate=Y.initialize({options:{persistence:yt(ae,O.name),popupRedirectResolver:it}}),this._delegate._updateErrorMap(P.C),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ln.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(O){this._delegate.languageCode=O}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(O){this._delegate.tenantId=O}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(O,Y){P.H(this._delegate,O,Y)}applyActionCode(O){return P.a4(this._delegate,O)}checkActionCode(O){return P.a5(this._delegate,O)}confirmPasswordReset(O,Y){return P.a3(this._delegate,O,Y)}createUserWithEmailAndPassword(O,Y){var ae=this;return(0,c.Z)(function*(){return Vt(ae._delegate,P.a7(ae._delegate,O,Y))})()}fetchProvidersForEmail(O){return this.fetchSignInMethodsForEmail(O)}fetchSignInMethodsForEmail(O){return P.ac(this._delegate,O)}isSignInWithEmailLink(O){return P.aa(this._delegate,O)}getRedirectResult(){var O=this;return(0,c.Z)(function*(){Ue(kn(),O._delegate,"operation-not-supported-in-this-environment");const Y=yield P.j(O._delegate,En);return Y?Vt(O._delegate,Promise.resolve(Y)):{credential:null,user:null}})()}addFrameworkForLogging(O){!function Je(R,F){(0,P.aG)(R)._logFramework(F)}(this._delegate,O)}onAuthStateChanged(O,Y,ae){const{next:it,error:wt,complete:Tt}=tt(O,Y,ae);return this._delegate.onAuthStateChanged(it,wt,Tt)}onIdTokenChanged(O,Y,ae){const{next:it,error:wt,complete:Tt}=tt(O,Y,ae);return this._delegate.onIdTokenChanged(it,wt,Tt)}sendSignInLinkToEmail(O,Y){return P.a9(this._delegate,O,Y)}sendPasswordResetEmail(O,Y){return P.a2(this._delegate,O,Y||void 0)}setPersistence(O){var Y=this;return(0,c.Z)(function*(){let ae;switch(function zn(R,F){dr(Object.values(rt).includes(F),R,"invalid-persistence-type"),(0,te.b$)()?dr(F!==rt.SESSION,R,"unsupported-persistence-type"):(0,te.UG)()?dr(F===rt.NONE,R,"unsupported-persistence-type"):Oi()?dr(F===rt.NONE||F===rt.LOCAL&&(0,te.hl)(),R,"unsupported-persistence-type"):dr(F===rt.NONE||Fr(),R,"unsupported-persistence-type")}(Y._delegate,O),O){case rt.SESSION:ae=P.a;break;case rt.LOCAL:ae=(yield P.aB(P.i)._isAvailable())?P.i:P.b;break;case rt.NONE:ae=P.M;break;default:return P.au("argument-error",{appName:Y._delegate.name})}return Y._delegate.setPersistence(ae)})()}signInAndRetrieveDataWithCredential(O){return this.signInWithCredential(O)}signInAnonymously(){return Vt(this._delegate,P.Z(this._delegate))}signInWithCredential(O){return Vt(this._delegate,P._(this._delegate,O))}signInWithCustomToken(O){return Vt(this._delegate,P.a1(this._delegate,O))}signInWithEmailAndPassword(O,Y){return Vt(this._delegate,P.a8(this._delegate,O,Y))}signInWithEmailLink(O,Y){return Vt(this._delegate,P.ab(this._delegate,O,Y))}signInWithPhoneNumber(O,Y){return mi(this._delegate,P.s(this._delegate,O,Y))}signInWithPopup(O){var Y=this;return(0,c.Z)(function*(){return Ue(kn(),Y._delegate,"operation-not-supported-in-this-environment"),Vt(Y._delegate,P.c(Y._delegate,O,En))})()}signInWithRedirect(O){var Y=this;return(0,c.Z)(function*(){return Ue(kn(),Y._delegate,"operation-not-supported-in-this-environment"),yield Fn(Y._delegate),P.f(Y._delegate,O,En)})()}updateCurrentUser(O){return this._delegate.updateCurrentUser(O)}verifyPasswordResetCode(O){return P.a6(this._delegate,O)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return R.Persistence=rt,R})();function tt(R,F,O){let Y=R;"function"!=typeof R&&({next:Y,error:F,complete:O}=R);const ae=Y;return{next:wt=>ae(wt&&Ln.getOrCreate(wt)),error:F,complete:O}}function yt(R,F){const O=function xt(R,F){const O=dt();if(!O)return[];const Y=P.aC(hr,R,F);switch(O.getItem(Y)){case rt.NONE:return[P.M];case rt.LOCAL:return[P.i,P.a];case rt.SESSION:return[P.a];default:return[]}}(R,F);if(typeof self<"u"&&!O.includes(P.i)&&O.push(P.i),typeof window<"u")for(const Y of[P.b,P.a])O.includes(Y)||O.push(Y);return O.includes(P.M)||O.push(P.M),O}class At{constructor(){this.providerId="phone",this._delegate=new P.P(Sn(B.Z.auth()))}static credential(F,O){return P.P.credential(F,O)}verifyPhoneNumber(F,O){return this._delegate.verifyPhoneNumber(F,O)}unwrap(){return this._delegate}}At.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,At.PROVIDER_ID=P.P.PROVIDER_ID;const Yt=P.az;class Vn{constructor(F,O,Y=B.Z.app()){var ae;Yt(null===(ae=Y.options)||void 0===ae?void 0:ae.apiKey,"invalid-api-key",{appName:Y.name}),this._delegate=new P.R(F,O,Y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function j(R){R.INTERNAL.registerComponent(new fe.wA("auth-compat",F=>{const O=F.getProvider("app-compat").getImmediate(),Y=F.getProvider("auth");return new _e(O,Y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.N,FacebookAuthProvider:P.Q,GithubAuthProvider:P.V,GoogleAuthProvider:P.U,OAuthProvider:P.W,SAMLAuthProvider:P.X,PhoneAuthProvider:At,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:Vn,TwitterAuthProvider:P.Y,Auth:_e,AuthCredential:P.I,Error:te.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),R.registerVersion("@firebase/auth-compat","0.3.7")}(B.Z)},8766:(ht,Ce,L)=>{L.d(Ce,{Lj:()=>Ae,X3:()=>Pe});var c=L(5861);const B=(oe,ge)=>ge.some(Ge=>oe instanceof Ge);let P,te;const fe=new WeakMap,ce=new WeakMap,he=new WeakMap,H=new WeakMap,z=new WeakMap;let De={get(oe,ge,Ge){if(oe instanceof IDBTransaction){if("done"===ge)return ce.get(oe);if("objectStoreNames"===ge)return oe.objectStoreNames||he.get(oe);if("store"===ge)return Ge.objectStoreNames[1]?void 0:Ge.objectStore(Ge.objectStoreNames[0])}return Ie(oe[ge])},set:(oe,ge,Ge)=>(oe[ge]=Ge,!0),has:(oe,ge)=>oe instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in oe};function pe(oe){return"function"==typeof oe?function st(oe){return oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function se(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(oe)?function(...ge){return oe.apply(we(this),ge),Ie(fe.get(this))}:function(...ge){return Ie(oe.apply(we(this),ge))}:function(ge,...Ge){const je=oe.call(we(this),ge,...Ge);return he.set(je,ge.sort?ge.sort():[ge]),Ie(je)}}(oe):(oe instanceof IDBTransaction&&function Ve(oe){if(ce.has(oe))return;const ge=new Promise((Ge,je)=>{const Et=()=>{oe.removeEventListener("complete",Xe),oe.removeEventListener("error",ie),oe.removeEventListener("abort",ie)},Xe=()=>{Ge(),Et()},ie=()=>{je(oe.error||new DOMException("AbortError","AbortError")),Et()};oe.addEventListener("complete",Xe),oe.addEventListener("error",ie),oe.addEventListener("abort",ie)});ce.set(oe,ge)}(oe),B(oe,function re(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(oe,De):oe)}function Ie(oe){if(oe instanceof IDBRequest)return function q(oe){const ge=new Promise((Ge,je)=>{const Et=()=>{oe.removeEventListener("success",Xe),oe.removeEventListener("error",ie)},Xe=()=>{Ge(Ie(oe.result)),Et()},ie=()=>{je(oe.error),Et()};oe.addEventListener("success",Xe),oe.addEventListener("error",ie)});return ge.then(Ge=>{Ge instanceof IDBCursor&&fe.set(Ge,oe)}).catch(()=>{}),z.set(ge,oe),ge}(oe);if(H.has(oe))return H.get(oe);const ge=pe(oe);return ge!==oe&&(H.set(oe,ge),z.set(ge,oe)),ge}const we=oe=>z.get(oe);function Pe(oe,ge,{blocked:Ge,upgrade:je,blocking:Et,terminated:Xe}={}){const ie=indexedDB.open(oe,ge),de=Ie(ie);return je&&ie.addEventListener("upgradeneeded",ve=>{je(Ie(ie.result),ve.oldVersion,ve.newVersion,Ie(ie.transaction))}),Ge&&ie.addEventListener("blocked",()=>Ge()),de.then(ve=>{Xe&&ve.addEventListener("close",()=>Xe()),Et&&ve.addEventListener("versionchange",()=>Et())}).catch(()=>{}),de}function Ae(oe,{blocked:ge}={}){const Ge=indexedDB.deleteDatabase(oe);return ge&&Ge.addEventListener("blocked",()=>ge()),Ie(Ge).then(()=>{})}const xe=["get","getKey","getAll","getAllKeys","count"],be=["put","add","delete","clear"],$e=new Map;function K(oe,ge){if(!(oe instanceof IDBDatabase)||ge in oe||"string"!=typeof ge)return;if($e.get(ge))return $e.get(ge);const Ge=ge.replace(/FromIndex$/,""),je=ge!==Ge,Et=be.includes(Ge);if(!(Ge in(je?IDBIndex:IDBObjectStore).prototype)||!Et&&!xe.includes(Ge))return;const Xe=function(){var ie=(0,c.Z)(function*(de,...ve){const Se=this.transaction(de,Et?"readwrite":"readonly");let ke=Se.store;return je&&(ke=ke.index(ve.shift())),(yield Promise.all([ke[Ge](...ve),Et&&Se.done]))[0]});return function(ve){return ie.apply(this,arguments)}}();return $e.set(ge,Xe),Xe}!function ze(oe){De=oe(De)}(oe=>({...oe,get:(ge,Ge,je)=>K(ge,Ge)||oe.get(ge,Ge,je),has:(ge,Ge)=>!!K(ge,Ge)||oe.has(ge,Ge)}))},5861:(ht,Ce,L)=>{function c(P,te,re,se,fe,ce,he){try{var H=P[ce](he),z=H.value}catch(q){return void re(q)}H.done?te(z):Promise.resolve(z).then(se,fe)}function B(P){return function(){var te=this,re=arguments;return new Promise(function(se,fe){var ce=P.apply(te,re);function he(z){c(ce,se,fe,he,H,"next",z)}function H(z){c(ce,se,fe,he,H,"throw",z)}he(void 0)})}}L.d(Ce,{Z:()=>B})}},ht=>{ht(ht.s=9135)}]);