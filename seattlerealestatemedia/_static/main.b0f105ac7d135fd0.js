"use strict";(self.webpackChunkseattlerealestatemedia=self.webpackChunkseattlerealestatemedia||[]).push([[179],{2011:(ft,De,L)=>{L.d(De,{Dh:()=>le,GT:()=>se,cc:()=>Ae,hO:()=>Ue,on:()=>H,pX:()=>ne,xv:()=>de});var c=L(4650),B=L(9260),P=L(2122);ft=L.hmd(ft);const ee=["ngOnDestroy"],ne=(Ie,we,Pe,Te={})=>new Proxy(Ie,{get:(xe,be)=>Pe.runOutsideAngular(()=>{var He;if(Ie[be])return!(null===(He=Te?.spy)||void 0===He)&&He.get&&Te.spy.get(be,Ie[be]),Ie[be];if(ee.indexOf(be)>-1)return()=>{};const K=we.toPromise().then(oe=>{const pe=oe&&oe[be];return"function"==typeof pe?pe.bind(oe):pe&&pe.then?pe.then(Ze=>Pe.run(()=>Ze)):Pe.run(()=>pe)});return new Proxy(()=>{},{get:(oe,pe)=>K[pe],apply:(oe,pe,Ze)=>K.then($e=>{var Ct;const Je=$e&&$e(...Ze);return!(null===(Ct=Te?.spy)||void 0===Ct)&&Ct.apply&&Te.spy.apply(be,Ze,Je),Je})})})}),se=(Ie,we)=>{we.forEach(Pe=>{Object.getOwnPropertyNames(Pe.prototype||Pe).forEach(Te=>{Object.defineProperty(Ie.prototype,Te,Object.getOwnPropertyDescriptor(Pe.prototype||Pe,Te))})})};class he{constructor(we){return we}}const le=new c.OlP("angularfire2.app.options"),de=new c.OlP("angularfire2.app.name");function H(Ie,we,Pe){const xe="object"==typeof Pe&&Pe||{};xe.name=xe.name||"string"==typeof Pe&&Pe||"[DEFAULT]";const He=B.Z.apps.filter(K=>K&&K.name===xe.name)[0]||we.runOutsideAngular(()=>B.Z.initializeApp(Ie,xe));try{JSON.stringify(Ie)!==JSON.stringify(He.options)&&z("error",`${He.name} Firebase App already initialized with different options${ft.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new he(He)}const z=(Ie,...we)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ie](...we)},q={provide:he,useFactory:H,deps:[le,c.R0b,[new c.FiY,de]]};let Ue=(()=>{class Ie{constructor(Pe){B.Z.registerVersion("angularfire",P.q4.full,"core"),B.Z.registerVersion("angularfire",P.q4.full,"app-compat"),B.Z.registerVersion("angular",c.q4F.full,Pe.toString())}static initializeApp(Pe,Te){return{ngModule:Ie,providers:[{provide:le,useValue:Pe},{provide:de,useValue:Te}]}}}return Ie.\u0275fac=function(Pe){return new(Pe||Ie)(c.LFG(c.Lbi))},Ie.\u0275mod=c.oAB({type:Ie}),Ie.\u0275inj=c.cJS({providers:[q]}),Ie})();function Ae(Ie,we,Pe,Te,xe){const[,be,He]=globalThis.\u0275AngularfireInstanceCache.find(K=>K[0]===Ie)||[];if(be)return function Ge(Ie,we){try{return Ie.toString()===we.toString()}catch{return Ie===we}}(xe,He)||(fe("error",`${we} was already initialized on the ${Pe} Firebase App with different settings.${ot?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:xe,was:He})),be;{const K=Te();return globalThis.\u0275AngularfireInstanceCache.push([Ie,K,xe]),K}}const ot=!!ft.hot,fe=(Ie,...we)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Ie](...we)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(ft,De,L)=>{L.d(De,{q4:()=>Di,iC:()=>ha,HU:()=>ts,vb:()=>es,JM:()=>lt,u3:()=>fa});var c=L(4650),B=L(259),P=L(5861),ee=L(9681),ne=L(2090),se=L(4859),he=L(1877),le=L(8766);const de="@firebase/installations",H="0.6.4",z=1e4,q=`w:${H}`,Ue="FIS_v2",Ae="https://firebaseinstallations.googleapis.com/v1",Ge=36e5,we=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Pe(E){return E instanceof ne.ZR&&E.code.includes("request-failed")}function Te({projectId:E}){return`${Ae}/projects/${E}/installations`}function xe(E){return{token:E.token,requestStatus:2,expiresIn:$e(E.expiresIn),creationTime:Date.now()}}function be(E,D){return He.apply(this,arguments)}function He(){return(He=(0,P.Z)(function*(E,D){const V=(yield D.json()).error;return we.create("request-failed",{requestName:E,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function K({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function pe(E){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,P.Z)(function*(E){const D=yield E();return D.status>=500&&D.status<600?E():D})).apply(this,arguments)}function $e(E){return Number(E.replace("s","000"))}function re(){return(re=(0,P.Z)(function*({appConfig:E,heartbeatServiceProvider:D},{fid:M}){const V=Te(E),W=K(E),te=D.getImmediate({optional:!0});if(te){const vt=yield te.getHeartbeatsHeader();vt&&W.append("x-firebase-client",vt)}const rt={method:"POST",headers:W,body:JSON.stringify({fid:M,authVersion:Ue,appId:E.appId,sdkVersion:q})},at=yield pe(()=>fetch(V,rt));if(at.ok){const vt=yield at.json();return{fid:vt.fid||M,registrationStatus:2,refreshToken:vt.refreshToken,authToken:xe(vt.authToken)}}throw yield be("Create Installation",at)})).apply(this,arguments)}function ce(E){return new Promise(D=>{setTimeout(D,E)})}const Me=/^[cdef][\w-]{21}$/,ke="";function Ve(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const M=function et(E){return function ye(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Me.test(M)?M:ke}catch{return ke}}function Ke(E){return`${E.appName}!${E.appId}`}const rn=new Map;function mt(E,D){const M=Ke(E);tn(M,D),function Ln(E,D){const M=function sn(){return!cn&&"BroadcastChannel"in self&&(cn=new BroadcastChannel("[Firebase] FID Change"),cn.onmessage=E=>{tn(E.data.key,E.data.fid)}),cn}();M&&M.postMessage({key:E,fid:D}),function Jn(){0===rn.size&&cn&&(cn.close(),cn=null)}()}(M,D)}function tn(E,D){const M=rn.get(E);if(M)for(const V of M)V(D)}let cn=null;const Ur="firebase-installations-database",xi=1,Vn="firebase-installations-store";let oi=null;function ai(){return oi||(oi=(0,le.X3)(Ur,xi,{upgrade:(E,D)=>{0===D&&E.createObjectStore(Vn)}})),oi}function mn(E,D){return or.apply(this,arguments)}function or(){return(or=(0,P.Z)(function*(E,D){const M=Ke(E),W=(yield ai()).transaction(Vn,"readwrite"),te=W.objectStore(Vn),Oe=yield te.get(M);return yield te.put(D,M),yield W.done,(!Oe||Oe.fid!==D.fid)&&mt(E,D.fid),D})).apply(this,arguments)}function it(E){return pr.apply(this,arguments)}function pr(){return(pr=(0,P.Z)(function*(E){const D=Ke(E),V=(yield ai()).transaction(Vn,"readwrite");yield V.objectStore(Vn).delete(D),yield V.done})).apply(this,arguments)}function gr(E,D){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,P.Z)(function*(E,D){const M=Ke(E),W=(yield ai()).transaction(Vn,"readwrite"),te=W.objectStore(Vn),Oe=yield te.get(M),rt=D(Oe);return void 0===rt?yield te.delete(M):yield te.put(rt,M),yield W.done,rt&&(!Oe||Oe.fid!==rt.fid)&&mt(E,rt.fid),rt})).apply(this,arguments)}function Un(E){return Qr.apply(this,arguments)}function Qr(){return Qr=(0,P.Z)(function*(E){let D;const M=yield gr(E.appConfig,V=>{const W=function xt(E){return er(E||{fid:Ve(),registrationStatus:0})}(V),te=function ht(E,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(we.create("app-offline"))};const M={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},V=function Mt(E,D){return wn.apply(this,arguments)}(E,M);return{installationEntry:M,registrationPromise:V}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Mn(E)}:{installationEntry:D}}(E,W);return D=te.registrationPromise,te.installationEntry});return M.fid===ke?{installationEntry:yield D}:{installationEntry:M,registrationPromise:D}}),Qr.apply(this,arguments)}function wn(){return wn=(0,P.Z)(function*(E,D){try{const M=yield function Je(E,D){return re.apply(this,arguments)}(E,D);return mn(E.appConfig,M)}catch(M){throw Pe(M)&&409===M.customData.serverCode?yield it(E.appConfig):yield mn(E.appConfig,{fid:D.fid,registrationStatus:0}),M}}),wn.apply(this,arguments)}function Mn(E){return qn.apply(this,arguments)}function qn(){return(qn=(0,P.Z)(function*(E){let D=yield mr(E.appConfig);for(;1===D.registrationStatus;)yield ce(100),D=yield mr(E.appConfig);if(0===D.registrationStatus){const{installationEntry:M,registrationPromise:V}=yield Un(E);return V||M}return D})).apply(this,arguments)}function mr(E){return gr(E,D=>{if(!D)throw we.create("installation-not-found");return er(D)})}function er(E){return function vi(E){return 1===E.registrationStatus&&E.registrationTime+z<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function _i(){return(_i=(0,P.Z)(function*({appConfig:E,heartbeatServiceProvider:D},M){const V=function Gt(E,{fid:D}){return`${Te(E)}/${D}/authTokens:generate`}(E,M),W=function oe(E,{refreshToken:D}){const M=K(E);return M.append("Authorization",function Ct(E){return`${Ue} ${E}`}(D)),M}(E,M),te=D.getImmediate({optional:!0});if(te){const vt=yield te.getHeartbeatsHeader();vt&&W.append("x-firebase-client",vt)}const rt={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:q,appId:E.appId}})},at=yield pe(()=>fetch(V,rt));if(at.ok)return xe(yield at.json());throw yield be("Generate Auth Token",at)})).apply(this,arguments)}function Br(E){return Bn.apply(this,arguments)}function Bn(){return Bn=(0,P.Z)(function*(E,D=!1){let M;const V=yield gr(E.appConfig,te=>{if(!Yt(te))throw we.create("not-registered");const Oe=te.authToken;if(!D&&function jn(E){return 2===E.requestStatus&&!function $(E){const D=Date.now();return D<E.creationTime||E.creationTime+E.expiresIn<D+Ge}(E)}(Oe))return te;if(1===Oe.requestStatus)return M=function Be(E,D){return _e.apply(this,arguments)}(E,D),te;{if(!navigator.onLine)throw we.create("app-offline");const rt=function j(E){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:D})}(te);return M=function yt(E,D){return Tt.apply(this,arguments)}(E,rt),rt}});return M?yield M:V.authToken}),Bn.apply(this,arguments)}function _e(){return(_e=(0,P.Z)(function*(E,D){let M=yield nt(E.appConfig);for(;1===M.authToken.requestStatus;)yield ce(100),M=yield nt(E.appConfig);const V=M.authToken;return 0===V.requestStatus?Br(E,D):V})).apply(this,arguments)}function nt(E){return gr(E,D=>{if(!Yt(D))throw we.create("not-registered");return function R(E){return 1===E.requestStatus&&E.requestTime+z<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Tt(){return Tt=(0,P.Z)(function*(E,D){try{const M=yield function Ut(E,D){return _i.apply(this,arguments)}(E,D),V=Object.assign(Object.assign({},D),{authToken:M});return yield mn(E.appConfig,V),M}catch(M){if(!Pe(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const V=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield mn(E.appConfig,V)}else yield it(E.appConfig);throw M}}),Tt.apply(this,arguments)}function Yt(E){return void 0!==E&&2===E.registrationStatus}function O(){return(O=(0,P.Z)(function*(E){const D=E,{installationEntry:M,registrationPromise:V}=yield Un(D);return V?V.catch(console.error):Br(D).catch(console.error),M.fid})).apply(this,arguments)}function ae(){return ae=(0,P.Z)(function*(E,D=!1){const M=E;return yield function st(E){return It.apply(this,arguments)}(M),(yield Br(M,D)).token}),ae.apply(this,arguments)}function It(){return(It=(0,P.Z)(function*(E){const{registrationPromise:D}=yield Un(E);D&&(yield D)})).apply(this,arguments)}function ju(E){return we.create("missing-app-config-values",{valueName:E})}const $a="installations",jo=E=>{const D=E.getProvider("app").getImmediate(),M=function ja(E){if(!E||!E.options)throw ju("App Configuration");if(!E.name)throw ju("App Name");const D=["projectId","apiKey","appId"];for(const M of D)if(!E.options[M])throw ju(M);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(D);return{app:D,appConfig:M,heartbeatServiceProvider:(0,ee._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},$u=E=>{const D=E.getProvider("app").getImmediate(),M=(0,ee._getProvider)(D,$a).getImmediate();return{getId:()=>function F(E){return O.apply(this,arguments)}(M),getToken:W=>function Y(E){return ae.apply(this,arguments)}(M,W)}};(function Hu(){(0,ee._registerComponent)(new se.wA($a,jo,"PUBLIC")),(0,ee._registerComponent)(new se.wA("installations-internal",$u,"PRIVATE"))})(),(0,ee.registerVersion)(de,H),(0,ee.registerVersion)(de,H,"esm2017");const nn="@firebase/remote-config",_r=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ws{constructor(D,M,V,W){this.client=D,this.storage=M,this.storageCache=V,this.logger=W}isCachedDataFresh(D,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-M,W=V<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${W}.`),W}fetch(D){var M=this;return(0,P.Z)(function*(){const[V,W]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(W&&M.isCachedDataFresh(D.cacheMaxAgeMillis,V))return W;D.eTag=W&&W.eTag;const te=yield M.client.fetch(D),Oe=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===te.status&&Oe.push(M.storage.setLastSuccessfulFetchResponse(te)),yield Promise.all(Oe),te})()}}function qi(E=navigator){return E.languages&&E.languages[0]||E.language}class ar{constructor(D,M,V,W,te,Oe){this.firebaseInstallations=D,this.sdkVersion=M,this.namespace=V,this.projectId=W,this.apiKey=te,this.appId=Oe}fetch(D){var M=this;return(0,P.Z)(function*(){const[V,W]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Oe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,rt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},at={sdk_version:M.sdkVersion,app_instance_id:V,app_instance_id_token:W,app_id:M.appId,language_code:qi()},vt={method:"POST",headers:rt,body:JSON.stringify(at)},Zt=fetch(Oe,vt),Et=new Promise((xr,bn)=>{D.signal.addEventListener(()=>{const Eo=new Error("The operation was aborted.");Eo.name="AbortError",bn(Eo)})});let Mr;try{yield Promise.race([Zt,Et]),Mr=yield Zt}catch(xr){let bn="fetch-client-network";throw"AbortError"===xr?.name&&(bn="fetch-timeout"),_r.create(bn,{originalErrorMessage:xr?.message})}let wr=Mr.status;const eo=Mr.headers.get("ETag")||void 0;let Ss,ei;if(200===Mr.status){let xr;try{xr=yield Mr.json()}catch(bn){throw _r.create("fetch-client-parse",{originalErrorMessage:bn?.message})}Ss=xr.entries,ei=xr.state}if("INSTANCE_STATE_UNSPECIFIED"===ei?wr=500:"NO_CHANGE"===ei?wr=304:("NO_TEMPLATE"===ei||"EMPTY_CONFIG"===ei)&&(Ss={}),304!==wr&&200!==wr)throw _r.create("fetch-status",{httpStatus:wr});return{status:wr,eTag:eo,config:Ss}})()}}class Pt{constructor(D,M){this.client=D,this.storage=M}fetch(D){var M=this;return(0,P.Z)(function*(){const V=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(D,V)})()}attemptFetch(D,{throttleEndTimeMillis:M,backoffCount:V}){var W=this;return(0,P.Z)(function*(){yield function uo(E,D){return new Promise((M,V)=>{const W=Math.max(D-Date.now(),0),te=setTimeout(M,W);E.addEventListener(()=>{clearTimeout(te),V(_r.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,M);try{const te=yield W.client.fetch(D);return yield W.storage.deleteThrottleMetadata(),te}catch(te){if(!function Vd(E){if(!(E instanceof ne.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}(te))throw te;const Oe={throttleEndTimeMillis:Date.now()+(0,ne.$s)(V),backoffCount:V+1};return yield W.storage.setThrottleMetadata(Oe),W.attemptFetch(D,Oe)}})()}}class hc{constructor(D,M,V,W,te){this.app=D,this._client=M,this._storageCache=V,this._storage=W,this._logger=te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Wi(E,D){const M=E.target.error||void 0;return _r.create(D,{originalErrorMessage:M&&M?.message})}const Pi="app_namespace_store";class Tr{constructor(D,M,V,W=function Gf(){return new Promise((E,D)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=V=>{D(Wi(V,"storage-open"))},M.onsuccess=V=>{E(V.target.result)},M.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(Pi,{keyPath:"compositeKey"})}}catch(M){D(_r.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=D,this.appName=M,this.namespace=V,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var M=this;return(0,P.Z)(function*(){const V=yield M.openDbPromise;return new Promise((W,te)=>{const rt=V.transaction([Pi],"readonly").objectStore(Pi),at=M.createCompositeKey(D);try{const vt=rt.get(at);vt.onerror=Zt=>{te(Wi(Zt,"storage-get"))},vt.onsuccess=Zt=>{const Et=Zt.target.result;W(Et?Et.value:void 0)}}catch(vt){te(_r.create("storage-get",{originalErrorMessage:vt?.message}))}})})()}set(D,M){var V=this;return(0,P.Z)(function*(){const W=yield V.openDbPromise;return new Promise((te,Oe)=>{const at=W.transaction([Pi],"readwrite").objectStore(Pi),vt=V.createCompositeKey(D);try{const Zt=at.put({compositeKey:vt,value:M});Zt.onerror=Et=>{Oe(Wi(Et,"storage-set"))},Zt.onsuccess=()=>{te()}}catch(Zt){Oe(_r.create("storage-set",{originalErrorMessage:Zt?.message}))}})})()}delete(D){var M=this;return(0,P.Z)(function*(){const V=yield M.openDbPromise;return new Promise((W,te)=>{const rt=V.transaction([Pi],"readwrite").objectStore(Pi),at=M.createCompositeKey(D);try{const vt=rt.delete(at);vt.onerror=Zt=>{te(Wi(Zt,"storage-delete"))},vt.onsuccess=()=>{W()}}catch(vt){te(_r.create("storage-delete",{originalErrorMessage:vt?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class ur{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,P.Z)(function*(){const M=D.storage.getLastFetchStatus(),V=D.storage.getLastSuccessfulFetchTimestampMillis(),W=D.storage.getActiveConfig(),te=yield M;te&&(D.lastFetchStatus=te);const Oe=yield V;Oe&&(D.lastSuccessfulFetchTimestampMillis=Oe);const rt=yield W;rt&&(D.activeConfig=rt)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Ni(){return zo.apply(this,arguments)}function zo(){return(zo=(0,P.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}!function Zu(){(0,ee._registerComponent)(new se.wA("remote-config",function E(D,{instanceIdentifier:M}){const V=D.getProvider("app").getImmediate(),W=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw _r.create("registration-window");if(!(0,ne.hl)())throw _r.create("indexed-db-unavailable");const{projectId:te,apiKey:Oe,appId:rt}=V.options;if(!te)throw _r.create("registration-project-id");if(!Oe)throw _r.create("registration-api-key");if(!rt)throw _r.create("registration-app-id");const at=new Tr(rt,V.name,M=M||"firebase"),vt=new ur(at),Zt=new he.Yd(nn);Zt.logLevel=he.in.ERROR;const Et=new ar(W,ee.SDK_VERSION,M,te,Oe,rt),Mr=new Pt(Et,at),wr=new ws(Mr,at,vt,Zt),eo=new hc(V,wr,vt,at,Zt);return function Zi(E){const D=(0,ne.m9)(E);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(eo),eo},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(nn,"0.4.4"),(0,ee.registerVersion)(nn,"0.4.4","esm2017")}();const bs="/firebase-messaging-sw.js",lo="/firebase-cloud-messaging-push-scope",co="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Zf="https://fcmregistrations.googleapis.com/v1",fc="google.c.a.c_id",qf="google.c.a.c_l",Wf="google.c.a.ts",Go="google.c.a.e";var ki=(()=>{return(E=ki||(ki={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",ki;var E})();function Bs(E){const D=new Uint8Array(E);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Kf(E){const M=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(M),W=new Uint8Array(V.length);for(let te=0;te<V.length;++te)W[te]=V.charCodeAt(te);return W}const Ga="fcm_token_details_db",ui=5,pc="fcm_token_object_Store";function ho(){return ho=(0,P.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(te=>te.name).includes(Ga))return null;let D=null;return(yield(0,le.X3)(Ga,ui,{upgrade:(V=(0,P.Z)(function*(W,te,Oe,rt){var at;if(te<2||!W.objectStoreNames.contains(pc))return;const vt=rt.objectStore(pc),Zt=yield vt.index("fcmSenderId").get(E);if(yield vt.clear(),Zt)if(2===te){const Et=Zt;if(!Et.auth||!Et.p256dh||!Et.endpoint)return;D={token:Et.fcmToken,createTime:null!==(at=Et.createTime)&&void 0!==at?at:Date.now(),subscriptionOptions:{auth:Et.auth,p256dh:Et.p256dh,endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:"string"==typeof Et.vapidKey?Et.vapidKey:Bs(Et.vapidKey)}}}else if(3===te){const Et=Zt;D={token:Et.fcmToken,createTime:Et.createTime,subscriptionOptions:{auth:Bs(Et.auth),p256dh:Bs(Et.p256dh),endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:Bs(Et.vapidKey)}}}else if(4===te){const Et=Zt;D={token:Et.fcmToken,createTime:Et.createTime,subscriptionOptions:{auth:Bs(Et.auth),p256dh:Bs(Et.p256dh),endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:Bs(Et.vapidKey)}}}}),function(te,Oe,rt,at){return V.apply(this,arguments)})})).close(),yield(0,le.Lj)(Ga),yield(0,le.Lj)("fcm_vapid_details_db"),yield(0,le.Lj)("undefined"),function mc(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:D}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var V}),ho.apply(this,arguments)}const yc="firebase-messaging-database",Yf=1,li="firebase-messaging-store";let Za=null;function js(){return Za||(Za=(0,le.X3)(yc,Yf,{upgrade:(E,D)=>{0===D&&E.createObjectStore(li)}})),Za}function Zo(E){return $s.apply(this,arguments)}function $s(){return $s=(0,P.Z)(function*(E){const D=Ki(E),V=yield(yield js()).transaction(li).objectStore(li).get(D);if(V)return V;{const W=yield function gc(E){return ho.apply(this,arguments)}(E.appConfig.senderId);if(W)return yield qo(E,W),W}}),$s.apply(this,arguments)}function qo(E,D){return qa.apply(this,arguments)}function qa(){return(qa=(0,P.Z)(function*(E,D){const M=Ki(E),W=(yield js()).transaction(li,"readwrite");return yield W.objectStore(li).put(D,M),yield W.done,D})).apply(this,arguments)}function qu(){return(qu=(0,P.Z)(function*(E){const D=Ki(E),V=(yield js()).transaction(li,"readwrite");yield V.objectStore(li).delete(D),yield V.done})).apply(this,arguments)}function Ki({appConfig:E}){return E.appId}const un=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ku(E,D){return fo.apply(this,arguments)}function fo(){return(fo=(0,P.Z)(function*(E,D){const M=yield Ko(E),V=cr(D),W={method:"POST",headers:M,body:JSON.stringify(V)};let te;try{te=yield(yield fetch(Yu(E.appConfig),W)).json()}catch(Oe){throw un.create("token-subscribe-failed",{errorInfo:Oe?.toString()})}if(te.error)throw un.create("token-subscribe-failed",{errorInfo:te.error.message});if(!te.token)throw un.create("token-subscribe-no-token");return te.token})).apply(this,arguments)}function Wo(){return(Wo=(0,P.Z)(function*(E,D){const M=yield Ko(E),V=cr(D.subscriptionOptions),W={method:"PATCH",headers:M,body:JSON.stringify(V)};let te;try{te=yield(yield fetch(`${Yu(E.appConfig)}/${D.token}`,W)).json()}catch(Oe){throw un.create("token-update-failed",{errorInfo:Oe?.toString()})}if(te.error)throw un.create("token-update-failed",{errorInfo:te.error.message});if(!te.token)throw un.create("token-update-no-token");return te.token})).apply(this,arguments)}function Es(E,D){return lr.apply(this,arguments)}function lr(){return(lr=(0,P.Z)(function*(E,D){const V={method:"DELETE",headers:yield Ko(E)};try{const te=yield(yield fetch(`${Yu(E.appConfig)}/${D}`,V)).json();if(te.error)throw un.create("token-unsubscribe-failed",{errorInfo:te.error.message})}catch(W){throw un.create("token-unsubscribe-failed",{errorInfo:W?.toString()})}})).apply(this,arguments)}function Yu({projectId:E}){return`${Zf}/projects/${E}/registrations`}function Ko(E){return ci.apply(this,arguments)}function ci(){return(ci=(0,P.Z)(function*({appConfig:E,installations:D}){const M=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function cr({p256dh:E,auth:D,endpoint:M,vapidKey:V}){const W={web:{endpoint:M,auth:D,p256dh:E}};return V!==co&&(W.web.applicationPubKey=V),W}const Qu=6048e5;function vc(){return vc=(0,P.Z)(function*(E){const D=yield function Ju(E,D){return el.apply(this,arguments)}(E.swRegistration,E.vapidKey),M={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:D.endpoint,auth:Bs(D.getKey("auth")),p256dh:Bs(D.getKey("p256dh"))},V=yield Zo(E.firebaseDependencies);if(V){if(function tl(E,D){return D.vapidKey===E.vapidKey&&D.endpoint===E.endpoint&&D.auth===E.auth&&D.p256dh===E.p256dh}(V.subscriptionOptions,M))return Date.now()>=V.createTime+Qu?function Yo(E,D){return Ot.apply(this,arguments)}(E,{token:V.token,createTime:Date.now(),subscriptionOptions:M}):V.token;try{yield Es(E.firebaseDependencies,V.token)}catch(W){console.warn(W)}return Ya(E.firebaseDependencies,M)}return Ya(E.firebaseDependencies,M)}),vc.apply(this,arguments)}function Ka(){return Ka=(0,P.Z)(function*(E){const D=yield Zo(E.firebaseDependencies);D&&(yield Es(E.firebaseDependencies,D.token),yield function Wa(E){return qu.apply(this,arguments)}(E.firebaseDependencies));const M=yield E.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),Ka.apply(this,arguments)}function Ot(){return Ot=(0,P.Z)(function*(E,D){try{const M=yield function On(E,D){return Wo.apply(this,arguments)}(E.firebaseDependencies,D),V=Object.assign(Object.assign({},D),{token:M,createTime:Date.now()});return yield qo(E.firebaseDependencies,V),M}catch(M){throw yield function wi(E){return Ka.apply(this,arguments)}(E),M}}),Ot.apply(this,arguments)}function Ya(E,D){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,P.Z)(function*(E,D){const V={token:yield Ku(E,D),createTime:Date.now(),subscriptionOptions:D};return yield qo(E,V),V.token})).apply(this,arguments)}function el(){return(el=(0,P.Z)(function*(E,D){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Kf(D)})})).apply(this,arguments)}function _c(E){const D={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function nl(E,D){if(!D.notification)return;E.notification={};const M=D.notification.title;M&&(E.notification.title=M);const V=D.notification.body;V&&(E.notification.body=V);const W=D.notification.image;W&&(E.notification.image=W);const te=D.notification.icon;te&&(E.notification.icon=te)}(D,E),function Pn(E,D){D.data&&(E.data=D.data)}(D,E),function Se(E,D){var M,V,W,te,Oe;if(!(D.fcmOptions||null!==(M=D.notification)&&void 0!==M&&M.click_action))return;E.fcmOptions={};const rt=null!==(W=null===(V=D.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==W?W:null===(te=D.notification)||void 0===te?void 0:te.click_action;rt&&(E.fcmOptions.link=rt);const at=null===(Oe=D.fcmOptions)||void 0===Oe?void 0:Oe.analytics_label;at&&(E.fcmOptions.analyticsLabel=at)}(D,E),D}function wc(E,D){const M=[];for(let V=0;V<E.length;V++)M.push(E.charAt(V)),V<D.length&&M.push(D.charAt(V));return M.join("")}function Hn(E){return un.create("missing-app-config-values",{valueName:E})}wc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),wc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class jd{constructor(D,M,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function Bd(E){if(!E||!E.options)throw Hn("App Configuration Object");if(!E.name)throw Hn("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:M}=E;for(const V of D)if(!M[V])throw Hn(V);return{appName:E.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:W,installations:M,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Cs(E){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,P.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(bs,{scope:lo}),E.swRegistration.update().catch(()=>{})}catch(D){throw un.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function Xa(){return(Xa=(0,P.Z)(function*(E,D){if(!D&&!E.swRegistration&&(yield Cs(E)),D||!E.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw un.create("invalid-sw-registration");E.swRegistration=D}})).apply(this,arguments)}function Ic(){return(Ic=(0,P.Z)(function*(E,D){D?E.vapidKey=D:E.vapidKey||(E.vapidKey=co)})).apply(this,arguments)}function Wn(){return Wn=(0,P.Z)(function*(E,D){if(!navigator)throw un.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw un.create("permission-blocked");return yield function Ja(E,D){return Ic.apply(this,arguments)}(E,D?.vapidKey),yield function Qa(E,D){return Xa.apply(this,arguments)}(E,D?.serviceWorkerRegistration),function Hs(E){return vc.apply(this,arguments)}(E)}),Wn.apply(this,arguments)}function rl(){return(rl=(0,P.Z)(function*(E,D,M){const V=function zs(E){switch(E){case ki.NOTIFICATION_CLICKED:return"notification_open";case ki.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:M[fc],message_name:M[qf],message_time:M[Wf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function eu(){return eu=(0,P.Z)(function*(E,D){const M=D.data;if(!M.isFirebaseMessaging)return;E.onMessageHandler&&M.messageType===ki.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(_c(M)):E.onMessageHandler.next(_c(M)));const V=M.data;(function Xt(E){return"object"==typeof E&&!!E&&fc in E})(V)&&"1"===V[Go]&&(yield function Sr(E,D,M){return rl.apply(this,arguments)}(E,M.messageType,V))}),eu.apply(this,arguments)}const il="@firebase/messaging",$d=E=>{const D=new jd(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Fi(E,D){return eu.apply(this,arguments)}(D,M)),D},Yi=E=>{const D=E.getProvider("messaging").getImmediate();return{getToken:V=>function Qo(E,D){return Wn.apply(this,arguments)}(D,V)}};function bc(){return tu.apply(this,arguments)}function tu(){return(tu=(0,P.Z)(function*(){try{yield(0,ne.eu)()}catch{return!1}return typeof window<"u"&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ol(){(0,ee._registerComponent)(new se.wA("messaging",$d,"PUBLIC")),(0,ee._registerComponent)(new se.wA("messaging-internal",Yi,"PRIVATE")),(0,ee.registerVersion)(il,"0.12.4"),(0,ee.registerVersion)(il,"0.12.4","esm2017")}();const Cc="analytics",Jf="firebase_id",zr="origin",Ds=6e4,hn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nu="https://www.googletagmanager.com/gtag/js",dr=new he.Yd("@firebase/analytics"),Jr=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function mm(E){if(!E.startsWith(nu)){const D=Jr.create("invalid-gtag-resource",{gtagURL:E});return dr.warn(D.message),""}return E}function zd(E){return Promise.all(E.map(D=>D.catch(M=>M)))}function bi(){return(bi=(0,P.Z)(function*(E,D,M,V,W,te){const Oe=V[W];try{if(Oe)yield D[Oe];else{const at=(yield zd(M)).find(vt=>vt.measurementId===W);at&&(yield D[at.appId])}}catch(rt){dr.error(rt)}E("config",W,te)})).apply(this,arguments)}function Ei(){return(Ei=(0,P.Z)(function*(E,D,M,V,W){try{let te=[];if(W&&W.send_to){let Oe=W.send_to;Array.isArray(Oe)||(Oe=[Oe]);const rt=yield zd(M);for(const at of Oe){const vt=rt.find(Et=>Et.measurementId===at),Zt=vt&&D[vt.appId];if(!Zt){te=[];break}te.push(Zt)}}0===te.length&&(te=Object.values(D)),yield Promise.all(te),E("event",V,W||{})}catch(te){dr.error(te)}})).apply(this,arguments)}const ru=30,ta=new class cl{constructor(D={},M=1e3){this.throttleMetadata=D,this.intervalMillis=M}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,M){this.throttleMetadata[D]=M}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function dl(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function go(){return(go=(0,P.Z)(function*(E){var D;const{appId:M,apiKey:V}=E,W={method:"GET",headers:dl(V)},te=hn.replace("{app-id}",M),Oe=yield fetch(te,W);if(200!==Oe.status&&304!==Oe.status){let rt="";try{const at=yield Oe.json();null!==(D=at.error)&&void 0!==D&&D.message&&(rt=at.error.message)}catch{}throw Jr.create("config-fetch-failed",{httpStatus:Oe.status,responseMessage:rt})}return Oe.json()})).apply(this,arguments)}function mo(){return(mo=(0,P.Z)(function*(E,D=ta,M){const{appId:V,apiKey:W,measurementId:te}=E.options;if(!V)throw Jr.create("no-app-id");if(!W){if(te)return{measurementId:te,appId:V};throw Jr.create("no-api-key")}const Oe=D.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},rt=new Gd;return setTimeout((0,P.Z)(function*(){rt.abort()}),void 0!==M?M:Ds),Li({appId:V,apiKey:W,measurementId:te},Oe,rt,D)})).apply(this,arguments)}function Li(E,D,M){return ra.apply(this,arguments)}function ra(){return ra=(0,P.Z)(function*(E,{throttleEndTimeMillis:D,backoffCount:M},V,W=ta){var te;const{appId:Oe,measurementId:rt}=E;try{yield function ia(E,D){return new Promise((M,V)=>{const W=Math.max(D-Date.now(),0),te=setTimeout(M,W);E.addEventListener(()=>{clearTimeout(te),V(Jr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(V,D)}catch(at){if(rt)return dr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${rt} provided in the "measurementId" field in the local Firebase config. [${at?.message}]`),{appId:Oe,measurementId:rt};throw at}try{const at=yield function na(E){return go.apply(this,arguments)}(E);return W.deleteThrottleMetadata(Oe),at}catch(at){const vt=at;if(!function iu(E){if(!(E instanceof ne.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}(vt)){if(W.deleteThrottleMetadata(Oe),rt)return dr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${rt} provided in the "measurementId" field in the local Firebase config. [${vt?.message}]`),{appId:Oe,measurementId:rt};throw at}const Zt=503===Number(null===(te=vt?.customData)||void 0===te?void 0:te.httpStatus)?(0,ne.$s)(M,W.intervalMillis,ru):(0,ne.$s)(M,W.intervalMillis),Et={throttleEndTimeMillis:Date.now()+Zt,backoffCount:M+1};return W.setThrottleMetadata(Oe,Et),dr.debug(`Calling attemptFetch again in ${Zt} millis`),Li(E,Et,V,W)}}),ra.apply(this,arguments)}class Gd{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Gs,_o;function Qi(){return(Qi=(0,P.Z)(function*(E,D,M,V,W){if(W&&W.global)E("event",M,V);else{const te=yield D;E("event",M,Object.assign(Object.assign({},V),{send_to:te}))}})).apply(this,arguments)}function au(){return(au=(0,P.Z)(function*(){if(!(0,ne.hl)())return dr.warn(Jr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(E){return dr.warn(Jr.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function uu(){return uu=(0,P.Z)(function*(E,D,M,V,W,te,Oe){var rt;const at=function In(E){return mo.apply(this,arguments)}(E);at.then(wr=>{M[wr.measurementId]=wr.appId,E.options.measurementId&&wr.measurementId!==E.options.measurementId&&dr.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${wr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(wr=>dr.error(wr)),D.push(at);const vt=function qd(){return au.apply(this,arguments)}().then(wr=>{if(wr)return V.getId()}),[Zt,Et]=yield Promise.all([at,vt]);(function ym(E){const D=window.document.getElementsByTagName("script");for(const M of Object.values(D))if(M.src&&M.src.includes(nu)&&M.src.includes(E))return M;return null})(te)||function Xo(E,D){const M=function ll(E,D){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(E,D)),M}("firebase-js-sdk-policy",{createScriptURL:mm}),V=document.createElement("script"),W=`${nu}?l=${E}&id=${D}`;V.src=M?M?.createScriptURL(W):W,V.async=!0,document.head.appendChild(V)}(te,Zt.measurementId),_o&&(W("consent","default",_o),function qs(E){_o=E}(void 0)),W("js",new Date);const Mr=null!==(rt=Oe?.config)&&void 0!==rt?rt:{};return Mr[zr]="firebase",Mr.update=!0,null!=Et&&(Mr[Jf]=Et),W("config",Zt.measurementId,Mr),Gs&&(W("set",Gs),function oa(E){Gs=E}(void 0)),Zt.measurementId}),uu.apply(this,arguments)}class Tc{constructor(D){this.app=D}_delete(){return delete Ci[this.app.options.appId],Promise.resolve()}}let Ci={},lu=[];const Ji={};let cu,Zr,aa="dataLayer",fl="gtag",pl=!1;function Sc(E,D,M){!function gl(){const E=[];if((0,ne.ru)()&&E.push("This is a browser extension environment."),(0,ne.zI)()||E.push("Cookies are not available."),E.length>0){const D=E.map((V,W)=>`(${W+1}) ${V}`).join(" "),M=Jr.create("invalid-analytics-context",{errorInfo:D});dr.warn(M.message)}}();const V=E.options.appId;if(!V)throw Jr.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Jr.create("no-api-key");dr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ci[V])throw Jr.create("already-exists",{id:V});if(!pl){!function po(E){let D=[];Array.isArray(window[E])?D=window[E]:window[E]=D}(aa);const{wrappedGtag:te,gtagCore:Oe}=function Ac(E,D,M,V,W){let te=function(...Oe){window[V].push(arguments)};return window[W]&&"function"==typeof window[W]&&(te=window[W]),window[W]=function ea(E,D,M,V){function te(){return te=(0,P.Z)(function*(Oe,rt,at){try{"event"===Oe?yield function Dc(E,D,M,V,W){return Ei.apply(this,arguments)}(E,D,M,rt,at):"config"===Oe?yield function Jo(E,D,M,V,W,te){return bi.apply(this,arguments)}(E,D,M,V,rt,at):"consent"===Oe?E("consent","update",at):E("set",rt)}catch(vt){dr.error(vt)}}),te.apply(this,arguments)}return function W(Oe,rt,at){return te.apply(this,arguments)}}(te,E,D,M),{gtagCore:te,wrappedGtag:window[W]}}(Ci,lu,Ji,aa,fl);Zr=te,cu=Oe,pl=!0}return Ci[V]=function hl(E,D,M,V,W,te,Oe){return uu.apply(this,arguments)}(E,lu,Ji,D,cu,aa,M),new Tc(E)}function Io(){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,P.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}const ml="@firebase/analytics";!function vl(){(0,ee._registerComponent)(new se.wA(Cc,(D,{options:M})=>Sc(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ee._registerComponent)(new se.wA("analytics-internal",function E(D){try{const M=D.getProvider(Cc).getImmediate();return{logEvent:(V,W,te)=>function As(E,D,M,V){E=(0,ne.m9)(E),function su(E,D,M,V,W){return Qi.apply(this,arguments)}(Zr,Ci[E.app.options.appId],D,M,V).catch(W=>dr.error(W))}(M,V,W,te)}}catch(M){throw Jr.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ee.registerVersion)(ml,"0.9.5"),(0,ee.registerVersion)(ml,"0.9.5","esm2017")}();var _m=L(4408),wm=L(7565);const Ys=new class Oc extends wm.v{}(class Wd extends _m.o{constructor(D,M){super(D,M),this.scheduler=D,this.work=M}schedule(D,M=0){return M>0?super.schedule(D,M):(this.delay=M,this.state=D,this.scheduler.flush(this),this)}execute(D,M){return M>0||this.closed?super.execute(D,M):this._execute(D,M)}requestAsyncId(D,M,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(D,M,V):(D.flush(this),0)}});var Im=L(4986),Rn=L(9751),Pc=L(8505),di=L(9468),_l=L(5363);const Di=new c.GfV("7.5.0"),Ts="__angularfire_symbol__analyticsIsSupportedValue",wl="__angularfire_symbol__analyticsIsSupported",Qs="__angularfire_symbol__remoteConfigIsSupportedValue",Xs="__angularfire_symbol__remoteConfigIsSupported",Rc="__angularfire_symbol__messagingIsSupportedValue",Kd="__angularfire_symbol__messagingIsSupported";function lt(E,D,M){if(D){if(1===D.length)return D[0];const te=D.filter(Oe=>Oe.app===M);if(1===te.length)return te[0]}return M.container.getProvider(E).getImmediate({optional:!0})}globalThis[wl]||(globalThis[wl]=Io().then(E=>globalThis[Ts]=E).catch(()=>globalThis[Ts]=!1)),globalThis[Kd]||(globalThis[Kd]=bc().then(E=>globalThis[Rc]=E).catch(()=>globalThis[Rc]=!1)),globalThis[Xs]||(globalThis[Xs]=Ni().then(E=>globalThis[Qs]=E).catch(()=>globalThis[Qs]=!1));const es=(E,D)=>{const M=D?[D]:(0,B.C6)(),V=[];return M.forEach(W=>{W.container.getProvider(E).instances.forEach(Oe=>{V.includes(Oe)||V.push(Oe)})}),V};function hr(){}class bo{constructor(D,M=Ys){this.zone=D,this.delegate=M}now(){return this.delegate.now()}schedule(D,M,V){const W=this.zone;return this.delegate.schedule(function(Oe){W.runGuarded(()=>{D.apply(this,[Oe])})},M,V)}}class du{constructor(D){this.zone=D,this.task=null}call(D,M){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hr,{},hr,hr)),M.pipe((0,Pc.b)({next:V,complete:V,error:V})).subscribe(D).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ts=(()=>{class E{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new bo(Zone.current)),this.insideAngular=M.run(()=>new bo(Zone.current,Im.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(M){return new(M||E)(c.LFG(c.R0b))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function ns(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function rs(E){return ns().ngZone.run(()=>E())}function ha(E){return ns(),function Vi(E){return function(M){return(M=M.lift(new du(E.ngZone))).pipe((0,di.R)(E.outsideAngular),(0,_l.Q)(E.insideAngular))}}(ns())(E)}const Dt=(E,D)=>function(){const V=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),rs(()=>E.apply(void 0,V))},fa=(E,D)=>function(){let M;const V=arguments;for(let te=0;te<arguments.length;te++)"function"==typeof V[te]&&(D&&(M||(M=rs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hr,{},hr,hr)))),V[te]=Dt(V[te],M));const W=function Il(E){return ns().ngZone.runOutsideAngular(()=>E())}(()=>E.apply(this,V));if(!D){if(W instanceof Rn.y){const te=ns();return W.pipe((0,di.R)(te.outsideAngular),(0,_l.Q)(te.insideAngular))}return rs(()=>W)}return W instanceof Rn.y?W.pipe(ha):W instanceof Promise?rs(()=>new Promise((te,Oe)=>W.then(rt=>rs(()=>te(rt)),rt=>rs(()=>Oe(rt))))):"function"==typeof W&&M?function(){return setTimeout(()=>{M&&"scheduled"===M.state&&M.invoke()},10),W.apply(this,arguments)}:rs(()=>W)}},3432:(ft,De,L)=>{L.d(De,{$:()=>Ku,A:()=>z,C:()=>Ae,H:()=>$u,I:()=>Xr,K:()=>Pt,M:()=>jn,N:()=>zo,P:()=>Pc,Q:()=>Zf,R:()=>As,U:()=>fc,V:()=>qf,W:()=>co,X:()=>ki,Y:()=>Bs,Z:()=>gc,_:()=>Wu,a:()=>cl,a0:()=>On,a1:()=>Yu,a2:()=>vc,a3:()=>Ka,a4:()=>Ot,a5:()=>Xu,a6:()=>el,a7:()=>_c,a8:()=>Pn,a9:()=>Se,aA:()=>eo,aB:()=>$e,aC:()=>$,aD:()=>vt,aE:()=>da,aF:()=>Nc,aG:()=>yr,aK:()=>na,aN:()=>Go,aa:()=>wc,ab:()=>Bd,ac:()=>Ii,ad:()=>Xa,ae:()=>Ic,ah:()=>rl,ai:()=>Fi,aj:()=>eu,am:()=>li,an:()=>Ec,ap:()=>dr,aq:()=>Jo,ar:()=>pe,as:()=>qt,at:()=>st,au:()=>Pe,av:()=>Lc,aw:()=>bn,ax:()=>bt,ay:()=>Te,az:()=>K,b:()=>ru,c:()=>Kd,d:()=>Js,e:()=>z_,f:()=>Dt,g:()=>W,h:()=>D,i:()=>hl,j:()=>rt,k:()=>to,l:()=>_m,m:()=>th,p:()=>le,r:()=>wm,s:()=>yl,u:()=>Im});var c=L(5861),B=L(2090),P=L(9681),ee=L(1877),ne=L(655),se=L(4859);const le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ae=function q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ge=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ot=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ie=new ee.Yd("@firebase/auth");function we(v,...p){Ie.logLevel<=ee.in.ERROR&&Ie.error(`Auth (${P.SDK_VERSION}): ${v}`,...p)}function Pe(v,...p){throw He(v,...p)}function Te(v,...p){return He(v,...p)}function xe(v,p,g){const I=Object.assign(Object.assign({},Ge()),{[p]:g});return new B.LL("auth","Firebase",I).create(p,{appName:v.name})}function be(v,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Pe(v,"argument-error"),xe(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(v,...p){if("string"!=typeof v){const g=p[0],I=[...p.slice(1)];return I[0]&&(I[0].appName=v.name),v._errorFactory.create(g,...I)}return ot.create(v,...p)}function K(v,p,...g){if(!v)throw He(p,...g)}function oe(v){const p="INTERNAL ASSERTION FAILED: "+v;throw we(p),new Error(p)}function pe(v,p){v||oe(p)}const Ze=new Map;function $e(v){pe(v instanceof Function,"Expected a class definition");let p=Ze.get(v);return p?(pe(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,Ze.set(v,p),p)}function re(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function ce(){return"http:"===ye()||"https:"===ye()}function ye(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Ve{constructor(p,g){this.shortDelay=p,this.longDelay=g,pe(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Me(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ce()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function et(v,p){pe(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Ke{static initialize(p,g,I){this.fetchImpl=p,g&&(this.headersImpl=g),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void oe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void oe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void oe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},mt=new Ve(3e4,6e4);function dt(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function tt(v,p,g,I){return tn.apply(this,arguments)}function tn(){return(tn=(0,c.Z)(function*(v,p,g,I,S={}){return Ln(v,S,(0,c.Z)(function*(){let k={},X={};I&&("GET"===p?X=I:k={body:JSON.stringify(I)});const Ce=(0,B.xO)(Object.assign({key:v.config.apiKey},X)).slice(1),We=yield v._getAdditionalHeaders();return We["Content-Type"]="application/json",v.languageCode&&(We["X-Firebase-Locale"]=v.languageCode),Ke.fetch()(Ur(v,v.config.apiHost,g,Ce),Object.assign({method:p,headers:We,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function Ln(v,p,g){return cn.apply(this,arguments)}function cn(){return(cn=(0,c.Z)(function*(v,p,g){v._canInitEmulator=!1;const I=Object.assign(Object.assign({},rn),p);try{const S=new xi(v),k=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const X=yield k.json();if("needConfirmation"in X)throw Vn(v,"account-exists-with-different-credential",X);if(k.ok&&!("errorMessage"in X))return X;{const Ce=k.ok?X.errorMessage:X.error.message,[We,pt]=Ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===We)throw Vn(v,"credential-already-in-use",X);if("EMAIL_EXISTS"===We)throw Vn(v,"email-already-in-use",X);if("USER_DISABLED"===We)throw Vn(v,"user-disabled",X);const Ht=I[We]||We.toLowerCase().replace(/[_\s]+/g,"-");if(pt)throw xe(v,Ht,pt);Pe(v,Ht)}}catch(S){if(S instanceof B.ZR)throw S;Pe(v,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function sn(v,p,g,I){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,c.Z)(function*(v,p,g,I,S={}){const k=yield tt(v,p,g,I,S);return"mfaPendingCredential"in k&&Pe(v,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function Ur(v,p,g,I){const S=`${p}${g}?${I}`;return v.config.emulator?et(v.config,S):`${v.config.apiScheme}://${S}`}class xi{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,I)=>{this.timer=setTimeout(()=>I(Te(this.auth,"network-request-failed")),mt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vn(v,p,g){const I={appName:v.name};g.email&&(I.email=g.email),g.phoneNumber&&(I.phoneNumber=g.phoneNumber);const S=Te(v,p,I);return S.customData._tokenResponse=g,S}function ai(){return(ai=(0,c.Z)(function*(v,p){return tt(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function or(){return(or=(0,c.Z)(function*(v,p){return tt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function pr(){return(pr=(0,c.Z)(function*(v,p){return tt(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function gr(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Qr(){return(Qr=(0,c.Z)(function*(v,p=!1){const g=(0,B.m9)(v),I=yield g.getIdToken(p),S=ht(I);K(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const k="object"==typeof S.firebase?S.firebase:void 0,X=k?.sign_in_provider;return{claims:S,token:I,authTime:gr(xt(S.auth_time)),issuedAtTime:gr(xt(S.iat)),expirationTime:gr(xt(S.exp)),signInProvider:X||null,signInSecondFactor:k?.sign_in_second_factor||null}})).apply(this,arguments)}function xt(v){return 1e3*Number(v)}function ht(v){const[p,g,I]=v.split(".");if(void 0===p||void 0===g||void 0===I)return we("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,B.tV)(g);return S?JSON.parse(S):(we("Failed to decode base64 JWT payload"),null)}catch(S){return we("Caught error parsing JWT payload as JSON",S?.toString()),null}}function wn(v,p){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,c.Z)(function*(v,p,g=!1){if(g)return p;try{return yield p}catch(I){throw I instanceof B.ZR&&function qn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(I)&&v.auth.currentUser===v&&(yield v.auth.signOut()),I}})).apply(this,arguments)}class mr{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const I=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),I)}iteration(){var p=this;return(0,c.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class er{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=gr(this.lastLoginAt),this.creationTime=gr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function vi(v){return Ut.apply(this,arguments)}function Ut(){return Ut=(0,c.Z)(function*(v){var p;const g=v.auth,I=yield v.getIdToken(),S=yield wn(v,function it(v,p){return pr.apply(this,arguments)}(g,{idToken:I}));K(S?.users.length,g,"internal-error");const k=S.users[0];v._notifyReloadListener(k);const X=null!==(p=k.providerUserInfo)&&void 0!==p&&p.length?function Bn(v){return v.map(p=>{var{providerId:g}=p,I=(0,ne._T)(p,["providerId"]);return{providerId:g,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(k.providerUserInfo):[],Ce=function Br(v,p){return[...v.filter(I=>!p.some(S=>S.providerId===I.providerId)),...p]}(v.providerData,X),Ht=!!v.isAnonymous&&!(v.email&&k.passwordHash||Ce?.length),An={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:Ce,metadata:new er(k.createdAt,k.lastLoginAt),isAnonymous:Ht};Object.assign(v,An)}),Ut.apply(this,arguments)}function Gt(){return(Gt=(0,c.Z)(function*(v){const p=(0,B.m9)(v);yield vi(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function _e(){return(_e=(0,c.Z)(function*(v,p){const g=yield Ln(v,{},(0,c.Z)(function*(){const I=(0,B.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:k}=v.config,X=Ur(v,S,"/v1/token",`key=${k}`),Ce=yield v._getAdditionalHeaders();return Ce["Content-Type"]="application/x-www-form-urlencoded",Ke.fetch()(X,{method:"POST",headers:Ce,body:I})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class nt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){K(p.idToken,"internal-error"),K(typeof p.idToken<"u","internal-error"),K(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Mt(v){const p=ht(v);return K(p,"internal-error"),K(typeof p.exp<"u","internal-error"),K(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var I=this;return(0,c.Z)(function*(){return K(!I.accessToken||I.refreshToken,p,"user-token-expired"),g||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(p,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var I=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:k,expiresIn:X}=yield function Be(v,p){return _e.apply(this,arguments)}(p,g);I.updateTokensAndExpiration(S,k,Number(X))})()}updateTokensAndExpiration(p,g,I){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(p,g){const{refreshToken:I,accessToken:S,expirationTime:k}=g,X=new nt;return I&&(K("string"==typeof I,"internal-error",{appName:p}),X.refreshToken=I),S&&(K("string"==typeof S,"internal-error",{appName:p}),X.accessToken=S),k&&(K("number"==typeof k,"internal-error",{appName:p}),X.expirationTime=k),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new nt,this.toJSON())}_performRefresh(){return oe("not implemented")}}function yt(v,p){K("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class Tt{constructor(p){var{uid:g,auth:I,stsTokenManager:S}=p,k=(0,ne._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=I,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new er(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,c.Z)(function*(){const I=yield wn(g,g.stsTokenManager.getToken(g.auth,p));return K(I,g.auth,"internal-error"),g.accessToken!==I&&(g.accessToken=I,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),I})()}getIdTokenResult(p){return function Un(v){return Qr.apply(this,arguments)}(this,p)}reload(){return function _i(v){return Gt.apply(this,arguments)}(this)}_assign(p){this!==p&&(K(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const g=new Tt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(p){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var I=this;return(0,c.Z)(function*(){let S=!1;p.idToken&&p.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(p),S=!0),g&&(yield vi(I)),yield I.auth._persistUserIfCurrent(I),S&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var p=this;return(0,c.Z)(function*(){const g=yield p.getIdToken();return yield wn(p,function oi(v,p){return ai.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var I,S,k,X,Ce,We,pt,Ht;const An=null!==(I=g.displayName)&&void 0!==I?I:void 0,Bi=null!==(S=g.email)&&void 0!==S?S:void 0,Ao=null!==(k=g.phoneNumber)&&void 0!==k?k:void 0,_a=null!==(X=g.photoURL)&&void 0!==X?X:void 0,lp=null!==(Ce=g.tenantId)&&void 0!==Ce?Ce:void 0,ih=null!==(We=g._redirectEventId)&&void 0!==We?We:void 0,cp=null!==(pt=g.createdAt)&&void 0!==pt?pt:void 0,dp=null!==(Ht=g.lastLoginAt)&&void 0!==Ht?Ht:void 0,{uid:Uc,emailVerified:pu,isAnonymous:gu,providerData:Sl,stsTokenManager:To}=g;K(Uc&&To,p,"internal-error");const sh=nt.fromJSON(this.name,To);K("string"==typeof Uc,p,"internal-error"),yt(An,p.name),yt(Bi,p.name),K("boolean"==typeof pu,p,"internal-error"),K("boolean"==typeof gu,p,"internal-error"),yt(Ao,p.name),yt(_a,p.name),yt(lp,p.name),yt(ih,p.name),yt(cp,p.name),yt(dp,p.name);const oh=new Tt({uid:Uc,auth:p,email:Bi,emailVerified:pu,displayName:An,isAnonymous:gu,photoURL:_a,phoneNumber:Ao,tenantId:lp,stsTokenManager:sh,createdAt:cp,lastLoginAt:dp});return Sl&&Array.isArray(Sl)&&(oh.providerData=Sl.map(ah=>Object.assign({},ah))),ih&&(oh._redirectEventId=ih),oh}static _fromIdTokenResponse(p,g,I=!1){return(0,c.Z)(function*(){const S=new nt;S.updateFromServerResponse(g);const k=new Tt({uid:g.localId,auth:p,stsTokenManager:S,isAnonymous:I});return yield vi(k),k})()}}const jn=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,I){var S=this;return(0,c.Z)(function*(){S.storage[g]=I})()}_get(g){var I=this;return(0,c.Z)(function*(){const S=I.storage[g];return void 0===S?null:S})()}_remove(g){var I=this;return(0,c.Z)(function*(){delete I.storage[g]})()}_addListener(g,I){}_removeListener(g,I){}}return v.type="NONE",v})();function $(v,p,g){return`firebase:${v}:${p}:${g}`}class j{constructor(p,g,I){this.persistence=p,this.auth=g,this.userKey=I;const{config:S,name:k}=this.auth;this.fullUserKey=$(this.userKey,S.apiKey,k),this.fullPersistenceKey=$("persistence",S.apiKey,k),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Tt._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,c.Z)(function*(){if(g.persistence===p)return;const I=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,I?g.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,I="authUser"){return(0,c.Z)(function*(){if(!g.length)return new j($e(jn),p,I);const S=(yield Promise.all(g.map(function(){var pt=(0,c.Z)(function*(Ht){if(yield Ht._isAvailable())return Ht});return function(Ht){return pt.apply(this,arguments)}}()))).filter(pt=>pt);let k=S[0]||$e(jn);const X=$(I,p.config.apiKey,p.name);let Ce=null;for(const pt of g)try{const Ht=yield pt._get(X);if(Ht){const An=Tt._fromJSON(p,Ht);pt!==k&&(Ce=An),k=pt;break}}catch{}const We=S.filter(pt=>pt._shouldAllowMigration);return k._shouldAllowMigration&&We.length?(k=We[0],Ce&&(yield k._set(X,Ce.toJSON())),yield Promise.all(g.map(function(){var pt=(0,c.Z)(function*(Ht){if(Ht!==k)try{yield Ht._remove(X)}catch{}});return function(Ht){return pt.apply(this,arguments)}}())),new j(k,p,I)):new j(k,p,I)})()}}function R(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(ae(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(F(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(It(p))return"Blackberry";if(St(p))return"Webos";if(O(p))return"Safari";if((p.includes("chrome/")||Y(p))&&!p.includes("edge/"))return"Chrome";if(st(p))return"Android";{const I=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function F(v=(0,B.z$)()){return/firefox\//i.test(v)}function O(v=(0,B.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Y(v=(0,B.z$)()){return/crios\//i.test(v)}function ae(v=(0,B.z$)()){return/iemobile/i.test(v)}function st(v=(0,B.z$)()){return/android/i.test(v)}function It(v=(0,B.z$)()){return/blackberry/i.test(v)}function St(v=(0,B.z$)()){return/webos/i.test(v)}function qt(v=(0,B.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function bt(v=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function jr(v=(0,B.z$)()){return qt(v)||st(v)||St(v)||It(v)||/windows phone/i.test(v)||ae(v)}function ja(v,p=[]){let g;switch(v){case"Browser":g=R((0,B.z$)());break;case"Worker":g=`${R((0,B.z$)())}-${v}`;break;default:g=v}const I=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${P.SDK_VERSION}/${I}`}class ju{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const I=k=>new Promise((X,Ce)=>{try{X(p(k))}catch(We){Ce(We)}});I.onAbort=g,this.queue.push(I);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,c.Z)(function*(){if(g.auth.currentUser===p)return;const I=[];try{for(const S of g.queue)yield S(p),S.onAbort&&I.push(S.onAbort)}catch(S){I.reverse();for(const k of I)try{k()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class $a{constructor(p,g,I){this.app=p,this.heartbeatServiceProvider=g,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jo(this),this.idTokenSubscription=new jo(this),this.beforeStateQueue=new ju(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ot,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(p,g){var I=this;return g&&(this._popupRedirectResolver=$e(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S,k;if(!I._deleted&&(I.persistenceManager=yield j.create(I,p),!I._deleted)){if(null!==(S=I._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(g),I.lastNotifiedUid=(null===(k=I.currentUser)||void 0===k?void 0:k.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,c.Z)(function*(){var I;const S=yield g.assertedPersistence.getCurrentUser();let k=S,X=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Ce=null===(I=g.redirectUser)||void 0===I?void 0:I._redirectEventId,We=k?._redirectEventId,pt=yield g.tryRedirectSignIn(p);(!Ce||Ce===We)&&pt?.user&&(k=pt.user,X=!0)}if(!k)return g.directlySetCurrentUser(null);if(!k._redirectEventId){if(X)try{yield g.beforeStateQueue.runMiddleware(k)}catch(Ce){k=S,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Ce))}return k?g.reloadAndSetCurrentUserOrClear(k):g.directlySetCurrentUser(null)}return K(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===k._redirectEventId?g.directlySetCurrentUser(k):g.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(p){var g=this;return(0,c.Z)(function*(){let I=null;try{I=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,c.Z)(function*(){try{yield vi(p)}catch(I){if("auth/network-request-failed"!==I?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ke(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,c.Z)(function*(){const I=p?(0,B.m9)(p):null;return I&&K(I.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(I&&I._clone(g))})()}_updateCurrentUser(p,g=!1){var I=this;return(0,c.Z)(function*(){if(!I._deleted)return p&&K(I.tenantId===p.tenantId,I,"tenant-id-mismatch"),g||(yield I.beforeStateQueue.runMiddleware(p)),I.queue((0,c.Z)(function*(){yield I.directlySetCurrentUser(p),I.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence($e(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.LL("auth","Firebase",p())}onAuthStateChanged(p,g,I){return this.registerStateListener(this.authStateSubscription,p,g,I)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,I){return this.registerStateListener(this.idTokenSubscription,p,g,I)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var I=this;return(0,c.Z)(function*(){const S=yield I.getOrInitRedirectPersistenceManager(g);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const I=p&&$e(p)||g._popupRedirectResolver;K(I,g,"argument-error"),g.redirectPersistenceManager=yield j.create(g,[$e(I._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,c.Z)(function*(){var I,S;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(I=g._currentUser)||void 0===I?void 0:I._redirectEventId)===p?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,c.Z)(function*(){if(p===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,I,S){if(this._deleted)return()=>{};const k="function"==typeof g?g:g.next.bind(g),X=this._isInitialized?Promise.resolve():this._initializationPromise;return K(X,this,"internal-error"),X.then(()=>k(this.currentUser)),"function"==typeof g?p.addObserver(g,I,S):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=ja(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){var g;const I={"X-Client-Version":p.clientVersion};p.app.options.appId&&(I["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return S&&(I["X-Firebase-Client"]=S),I})()}}function yr(v){return(0,B.m9)(v)}class jo{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.ne)(g=>this.observer=g)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function $u(v,p,g){const I=yr(v);K(I._canInitEmulator,I,"emulator-config-failed"),K(/^https?:\/\//.test(p),I,"invalid-emulator-scheme");const S=!!g?.disableWarnings,k=Hu(p),{host:X,port:Ce}=function nn(v){const p=Hu(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!g)return{host:"",port:null};const I=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(I);if(S){const k=S[1];return{host:k,port:$n(I.substr(k.length+1))}}{const[k,X]=I.split(":");return{host:k,port:$n(X)}}}(p);I.config.emulator={url:`${k}//${X}${null===Ce?"":`:${Ce}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:X,port:Ce,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function vr(){function v(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Hu(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function $n(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Xr{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return oe("not implemented")}_getIdTokenResponse(p){return oe("not implemented")}_linkToIdToken(p,g){return oe("not implemented")}_getReauthenticationResolver(p){return oe("not implemented")}}function $r(v,p){return _r.apply(this,arguments)}function _r(){return(_r=(0,c.Z)(function*(v,p){return tt(v,"POST","/v1/accounts:resetPassword",dt(v,p))})).apply(this,arguments)}function zu(v,p){return ys.apply(this,arguments)}function ys(){return(ys=(0,c.Z)(function*(v,p){return tt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Xe(){return(Xe=(0,c.Z)(function*(v,p){return tt(v,"POST","/v1/accounts:update",dt(v,p))})).apply(this,arguments)}function gn(){return(gn=(0,c.Z)(function*(v,p){return sn(v,"POST","/v1/accounts:signInWithPassword",dt(v,p))})).apply(this,arguments)}function Hr(v,p){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,c.Z)(function*(v,p){return tt(v,"POST","/v1/accounts:sendOobCode",dt(v,p))})).apply(this,arguments)}function Zi(){return(Zi=(0,c.Z)(function*(v,p){return Hr(v,p)})).apply(this,arguments)}function vs(){return(vs=(0,c.Z)(function*(v,p){return Hr(v,p)})).apply(this,arguments)}function kt(){return(kt=(0,c.Z)(function*(v,p){return Hr(v,p)})).apply(this,arguments)}function _s(){return(_s=(0,c.Z)(function*(v,p){return Hr(v,p)})).apply(this,arguments)}function Us(){return(Us=(0,c.Z)(function*(v,p){return sn(v,"POST","/v1/accounts:signInWithEmailLink",dt(v,p))})).apply(this,arguments)}function ws(){return(ws=(0,c.Z)(function*(v,p){return sn(v,"POST","/v1/accounts:signInWithEmailLink",dt(v,p))})).apply(this,arguments)}class qi extends Xr{constructor(p,g,I,S=null){super("password",I),this._email=p,this._password=g,this._tenantId=S}static _fromEmailAndPassword(p,g){return new qi(p,g,"password")}static _fromEmailAndCode(p,g,I=null){return new qi(p,g,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function jt(v,p){return gn.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function $o(v,p){return Us.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Pe(p,"internal-error")}})()}_linkToIdToken(p,g){var I=this;return(0,c.Z)(function*(){switch(I.signInMethod){case"password":return zu(p,{idToken:g,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function Dr(v,p){return ws.apply(this,arguments)}(p,{idToken:g,email:I._email,oobCode:I._password});default:Pe(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ar(v,p){return uo.apply(this,arguments)}function uo(){return(uo=(0,c.Z)(function*(v,p){return sn(v,"POST","/v1/accounts:signInWithIdp",dt(v,p))})).apply(this,arguments)}class Pt extends Xr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Pt(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Pe("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:S}=g,k=(0,ne._T)(g,["providerId","signInMethod"]);if(!I||!S)return null;const X=new Pt(I,S);return X.idToken=k.idToken||void 0,X.accessToken=k.accessToken||void 0,X.secret=k.secret,X.nonce=k.nonce,X.pendingToken=k.pendingToken||null,X}_getIdTokenResponse(p){return ar(p,this.buildRequest())}_linkToIdToken(p,g){const I=this.buildRequest();return I.idToken=g,ar(p,I)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,ar(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,B.xO)(g)}return p}}function Ho(){return(Ho=(0,c.Z)(function*(v,p){return tt(v,"POST","/v1/accounts:sendVerificationCode",dt(v,p))})).apply(this,arguments)}function Wi(){return(Wi=(0,c.Z)(function*(v,p){return sn(v,"POST","/v1/accounts:signInWithPhoneNumber",dt(v,p))})).apply(this,arguments)}function Is(){return(Is=(0,c.Z)(function*(v,p){const g=yield sn(v,"POST","/v1/accounts:signInWithPhoneNumber",dt(v,p));if(g.temporaryProof)throw Vn(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Ar={USER_NOT_FOUND:"user-not-found"};function Tr(){return(Tr=(0,c.Z)(function*(v,p){return sn(v,"POST","/v1/accounts:signInWithPhoneNumber",dt(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Ar)})).apply(this,arguments)}class ur extends Xr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new ur({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new ur({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function hc(v,p){return Wi.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Pi(v,p){return Is.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Gf(v,p){return Tr.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:I,verificationCode:S}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:I,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:I,phoneNumber:S,temporaryProof:k}=p;return I||g||S||k?new ur({verificationId:g,verificationCode:I,phoneNumber:S,temporaryProof:k}):null}}class Ri{constructor(p){var g,I,S,k,X,Ce;const We=(0,B.zd)((0,B.pd)(p)),pt=null!==(g=We.apiKey)&&void 0!==g?g:null,Ht=null!==(I=We.oobCode)&&void 0!==I?I:null,An=function Zu(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=We.mode)&&void 0!==S?S:null);K(pt&&Ht&&An,"argument-error"),this.apiKey=pt,this.operation=An,this.code=Ht,this.continueUrl=null!==(k=We.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(X=We.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(Ce=We.tenantId)&&void 0!==Ce?Ce:null}static parseLink(p){const g=function za(v){const p=(0,B.zd)((0,B.pd)(v)).link,g=p?(0,B.zd)((0,B.pd)(p)).deep_link_id:null,I=(0,B.zd)((0,B.pd)(v)).deep_link_id;return(I?(0,B.zd)((0,B.pd)(I)).link:null)||I||g||p||v}(p);try{return new Ri(g)}catch{return null}}}let zo=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,I){return qi._fromEmailAndPassword(g,I)}static credentialWithLink(g,I){const S=Ri.parseLink(I);return K(S,"argument-error"),qi._fromEmailAndCode(g,S.code,S.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class bs{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class lo extends bs{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class co extends lo{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return K("providerId"in g&&"signInMethod"in g,"argument-error"),Pt._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return K(p.idToken||p.accessToken,"argument-error"),Pt._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return co.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return co.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:I,oauthTokenSecret:S,pendingToken:k,nonce:X,providerId:Ce}=p;if(!I&&!S&&!g&&!k||!Ce)return null;try{return new co(Ce)._credential({idToken:g,accessToken:I,nonce:X,pendingToken:k})}catch{return null}}}let Zf=(()=>{class v extends lo{constructor(){super("facebook.com")}static credential(g){return Pt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),fc=(()=>{class v extends lo{constructor(){super("google.com"),this.addScope("profile")}static credential(g,I){return Pt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:I})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:I,oauthAccessToken:S}=g;if(!I&&!S)return null;try{return v.credential(I,S)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),qf=(()=>{class v extends lo{constructor(){super("github.com")}static credential(g){return Pt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Go extends Xr{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return ar(p,this.buildRequest())}_linkToIdToken(p,g){const I=this.buildRequest();return I.idToken=g,ar(p,I)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,ar(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:S,pendingToken:k}=g;return I&&S&&k&&I===S?new Go(I,k):null}static _create(p,g){return new Go(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ki extends bs{constructor(p){K(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return ki.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return ki.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Go.fromJSON(p);return K(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:I}=p;if(!g||!I)return null;try{return Go._create(I,g)}catch{return null}}}let Bs=(()=>{class v extends lo{constructor(){super("twitter.com")}static credential(g,I){return Pt._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:I})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:I,oauthTokenSecret:S}=g;if(!I||!S)return null;try{return v.credential(I,S)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Kf(v,p){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,c.Z)(function*(v,p){return sn(v,"POST","/v1/accounts:signUp",dt(v,p))})).apply(this,arguments)}class ui{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,I,S=!1){return(0,c.Z)(function*(){const k=yield Tt._fromIdTokenResponse(p,I,S),X=pc(I);return new ui({user:k,providerId:X,_tokenResponse:I,operationType:g})})()}static _forOperation(p,g,I){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(I,!0);const S=pc(I);return new ui({user:p,providerId:S,_tokenResponse:I,operationType:g})})()}}function pc(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function gc(v){return ho.apply(this,arguments)}function ho(){return(ho=(0,c.Z)(function*(v){var p;const g=yr(v);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new ui({user:g.currentUser,providerId:null,operationType:"signIn"});const I=yield Kf(g,{returnSecureToken:!0}),S=yield ui._fromIdTokenResponse(g,"signIn",I,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class mc extends B.ZR{constructor(p,g,I,S){var k;super(g.code,g.message),this.operationType=I,this.user=S,Object.setPrototypeOf(this,mc.prototype),this.customData={appName:p.name,tenantId:null!==(k=p.tenantId)&&void 0!==k?k:void 0,_serverResponse:g.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(p,g,I,S){return new mc(p,g,I,S)}}function yc(v,p,g,I){return("reauthenticate"===p?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?mc._fromErrorAndOperation(v,k,p,I):k})}function Yf(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function li(v,p){return Za.apply(this,arguments)}function Za(){return Za=(0,c.Z)(function*(v,p){const g=(0,B.m9)(v);yield $s(!0,g,p);const{providerUserInfo:I}=yield function mn(v,p){return or.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),S=Yf(I||[]);return g.providerData=g.providerData.filter(k=>S.has(k.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Za.apply(this,arguments)}function js(v,p){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,c.Z)(function*(v,p,g=!1){const I=yield wn(v,p._linkToIdToken(v.auth,yield v.getIdToken()),g);return ui._forOperation(v,"link",I)})).apply(this,arguments)}function $s(v,p,g){return qo.apply(this,arguments)}function qo(){return(qo=(0,c.Z)(function*(v,p,g){yield vi(p);const S=!1===v?"provider-already-linked":"no-such-provider";K(Yf(p.providerData).has(g)===v,p.auth,S)})).apply(this,arguments)}function qa(v,p){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,c.Z)(function*(v,p,g=!1){const{auth:I}=v,S="reauthenticate";try{const k=yield wn(v,yc(I,S,p,v),g);K(k.idToken,I,"internal-error");const X=ht(k.idToken);K(X,I,"internal-error");const{sub:Ce}=X;return K(v.uid===Ce,I,"user-mismatch"),ui._forOperation(v,S,k)}catch(k){throw"auth/user-not-found"===k?.code&&Pe(I,"user-mismatch"),k}})).apply(this,arguments)}function qu(v,p){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,c.Z)(function*(v,p,g=!1){const I="signIn",S=yield yc(v,I,p),k=yield ui._fromIdTokenResponse(v,I,S);return g||(yield v._updateCurrentUser(k.user)),k})).apply(this,arguments)}function Wu(v,p){return un.apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(v,p){return qu(yr(v),p)})).apply(this,arguments)}function Ku(v,p){return fo.apply(this,arguments)}function fo(){return(fo=(0,c.Z)(function*(v,p){const g=(0,B.m9)(v);return yield $s(!1,g,p.providerId),js(g,p)})).apply(this,arguments)}function On(v,p){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,c.Z)(function*(v,p){return qa((0,B.m9)(v),p)})).apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(v,p){return sn(v,"POST","/v1/accounts:signInWithCustomToken",dt(v,p))})).apply(this,arguments)}function Yu(v,p){return Ko.apply(this,arguments)}function Ko(){return Ko=(0,c.Z)(function*(v,p){const g=yr(v),I=yield function Es(v,p){return lr.apply(this,arguments)}(g,{token:p,returnSecureToken:!0}),S=yield ui._fromIdTokenResponse(g,"signIn",I);return yield g._updateCurrentUser(S.user),S}),Ko.apply(this,arguments)}class ci{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?cr._fromServerResponse(p,g):"totpInfo"in g?Qu._fromServerResponse(p,g):Pe(p,"internal-error")}}class cr extends ci{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new cr(g)}}class Qu extends ci{constructor(p){super("totp",p)}static _fromServerResponse(p,g){return new Qu(g)}}function Hs(v,p,g){var I;K((null===(I=g.url)||void 0===I?void 0:I.length)>0,v,"invalid-continue-uri"),K(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(K(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(K(g.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function vc(v,p,g){return wi.apply(this,arguments)}function wi(){return wi=(0,c.Z)(function*(v,p,g){const I=(0,B.m9)(v),S={requestType:"PASSWORD_RESET",email:p};g&&Hs(I,S,g),yield function xn(v,p){return vs.apply(this,arguments)}(I,S)}),wi.apply(this,arguments)}function Ka(v,p,g){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,c.Z)(function*(v,p,g){yield $r((0,B.m9)(v),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Ot(v,p){return Ya.apply(this,arguments)}function Ya(){return Ya=(0,c.Z)(function*(v,p){yield function Oi(v,p){return Xe.apply(this,arguments)}((0,B.m9)(v),{oobCode:p})}),Ya.apply(this,arguments)}function Xu(v,p){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,c.Z)(function*(v,p){const g=(0,B.m9)(v),I=yield $r(g,{oobCode:p}),S=I.requestType;switch(K(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":K(I.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":K(I.mfaInfo,g,"internal-error");default:K(I.email,g,"internal-error")}let k=null;return I.mfaInfo&&(k=ci._fromServerResponse(yr(g),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:k},operation:S}})).apply(this,arguments)}function el(v,p){return tl.apply(this,arguments)}function tl(){return(tl=(0,c.Z)(function*(v,p){const{data:g}=yield Xu((0,B.m9)(v),p);return g.email})).apply(this,arguments)}function _c(v,p,g){return nl.apply(this,arguments)}function nl(){return(nl=(0,c.Z)(function*(v,p,g){const I=yr(v),S=yield Kf(I,{returnSecureToken:!0,email:p,password:g}),k=yield ui._fromIdTokenResponse(I,"signIn",S);return yield I._updateCurrentUser(k.user),k})).apply(this,arguments)}function Pn(v,p,g){return Wu((0,B.m9)(v),zo.credential(p,g))}function Se(v,p,g){return Xt.apply(this,arguments)}function Xt(){return Xt=(0,c.Z)(function*(v,p,g){const I=(0,B.m9)(v),S={requestType:"EMAIL_SIGNIN",email:p};K(g.handleCodeInApp,I,"argument-error"),g&&Hs(I,S,g),yield function Gu(v,p){return kt.apply(this,arguments)}(I,S)}),Xt.apply(this,arguments)}function wc(v,p){return"EMAIL_SIGNIN"===Ri.parseLink(p)?.operation}function Bd(v,p,g){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,c.Z)(function*(v,p,g){const I=(0,B.m9)(v),S=zo.credentialWithLink(p,g||re());return K(S._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Wu(I,S)})).apply(this,arguments)}function Cs(){return(Cs=(0,c.Z)(function*(v,p){return tt(v,"POST","/v1/accounts:createAuthUri",dt(v,p))})).apply(this,arguments)}function Ii(v,p){return Qa.apply(this,arguments)}function Qa(){return Qa=(0,c.Z)(function*(v,p){const I={identifier:p,continueUri:ce()?re():"http://localhost"},{signinMethods:S}=yield function jd(v,p){return Cs.apply(this,arguments)}((0,B.m9)(v),I);return S||[]}),Qa.apply(this,arguments)}function Xa(v,p){return Ja.apply(this,arguments)}function Ja(){return Ja=(0,c.Z)(function*(v,p){const g=(0,B.m9)(v),S={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Hs(g.auth,S,p);const{email:k}=yield function Dn(v,p){return Zi.apply(this,arguments)}(g.auth,S);k!==v.email&&(yield v.reload())}),Ja.apply(this,arguments)}function Ic(v,p,g){return Qo.apply(this,arguments)}function Qo(){return Qo=(0,c.Z)(function*(v,p,g){const I=(0,B.m9)(v),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};g&&Hs(I.auth,k,g);const{email:X}=yield function Ha(v,p){return _s.apply(this,arguments)}(I.auth,k);X!==v.email&&(yield v.reload())}),Qo.apply(this,arguments)}function Sr(){return(Sr=(0,c.Z)(function*(v,p){return tt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function rl(v,p){return zs.apply(this,arguments)}function zs(){return zs=(0,c.Z)(function*(v,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const I=(0,B.m9)(v),k={idToken:yield I.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},X=yield wn(I,function Wn(v,p){return Sr.apply(this,arguments)}(I.auth,k));I.displayName=X.displayName||null,I.photoURL=X.photoUrl||null;const Ce=I.providerData.find(({providerId:We})=>"password"===We);Ce&&(Ce.displayName=I.displayName,Ce.photoURL=I.photoURL),yield I._updateTokensIfNecessary(X)}),zs.apply(this,arguments)}function Fi(v,p){return il((0,B.m9)(v),p,null)}function eu(v,p){return il((0,B.m9)(v),null,p)}function il(v,p,g){return sl.apply(this,arguments)}function sl(){return(sl=(0,c.Z)(function*(v,p,g){const{auth:I}=v,k={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(k.email=p),g&&(k.password=g);const X=yield wn(v,zu(I,k));yield v._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class Yi{constructor(p,g,I={}){this.isNewUser=p,this.providerId=g,this.profile=I}}class ol extends Yi{constructor(p,g,I,S){super(p,g,I),this.username=S}}class bc extends Yi{constructor(p,g){super(p,"facebook.com",g)}}class tu extends ol{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Qf extends Yi{constructor(p,g){super(p,"google.com",g)}}class al extends ol{constructor(p,g,I){super(p,"twitter.com",g,I)}}function Ec(v){const{user:p,_tokenResponse:g}=v;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function $d(v){var p,g;if(!v)return null;const{providerId:I}=v,S=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},k=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!I&&v?.idToken){const X=null===(g=null===(p=ht(v.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(X)return new Yi(k,"anonymous"!==X&&"custom"!==X?X:null)}if(!I)return null;switch(I){case"facebook.com":return new bc(k,S);case"github.com":return new tu(k,S);case"google.com":return new Qf(k,S);case"twitter.com":return new al(k,S,v.screenName||null);case"custom":case"anonymous":return new Yi(k,null);default:return new Yi(k,I,S)}}(g)}class hn{constructor(p,g,I){this.type=p,this.credential=g,this.auth=I}static _fromIdtoken(p,g){return new hn("enroll",p,g)}static _fromMfaPendingCredential(p){return new hn("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,I;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return hn._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(I=p.multiFactorSession)&&void 0!==I&&I.idToken)return hn._fromIdtoken(p.multiFactorSession.idToken)}return null}}class nu{constructor(p,g,I){this.session=p,this.hints=g,this.signInResolver=I}static _fromError(p,g){const I=yr(p),S=g.customData._serverResponse,k=(S.mfaInfo||[]).map(Ce=>ci._fromServerResponse(I,Ce));K(S.mfaPendingCredential,I,"internal-error");const X=hn._fromMfaPendingCredential(S.mfaPendingCredential);return new nu(X,k,function(){var Ce=(0,c.Z)(function*(We){const pt=yield We._process(I,X);delete S.mfaInfo,delete S.mfaPendingCredential;const Ht=Object.assign(Object.assign({},S),{idToken:pt.idToken,refreshToken:pt.refreshToken});switch(g.operationType){case"signIn":const An=yield ui._fromIdTokenResponse(I,g.operationType,Ht);return yield I._updateCurrentUser(An.user),An;case"reauthenticate":return K(g.user,I,"internal-error"),ui._forOperation(g.user,g.operationType,Ht);default:Pe(I,"internal-error")}});return function(We){return Ce.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,c.Z)(function*(){return g.signInResolver(p)})()}}function dr(v,p){var g;const I=(0,B.m9)(v),S=p;return K(p.customData.operationType,I,"argument-error"),K(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,I,"argument-error"),nu._fromError(I,S)}class Xo{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(I=>ci._fromServerResponse(p.auth,I)))})}static _fromUser(p){return new Xo(p)}getSession(){var p=this;return(0,c.Z)(function*(){return hn._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var I=this;return(0,c.Z)(function*(){const S=p,k=yield I.getSession(),X=yield wn(I.user,S._process(I.user.auth,k,g));return yield I.user._updateTokensIfNecessary(X),I.user.reload()})()}unenroll(p){var g=this;return(0,c.Z)(function*(){const I="string"==typeof p?p:p.uid,S=yield g.user.getIdToken();try{const k=yield wn(g.user,function ll(v,p){return tt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",dt(v,p))}(g.user.auth,{idToken:S,mfaEnrollmentId:I}));g.enrolledFactors=g.enrolledFactors.filter(({uid:X})=>X!==I),yield g.user._updateTokensIfNecessary(k),yield g.user.reload()}catch(k){throw k}})()}}const po=new WeakMap;function Jo(v){const p=(0,B.m9)(v);return po.has(p)||po.set(p,Xo._fromUser(p)),po.get(p)}const bi="__sak";class Dc{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(bi,"1"),this.storage.removeItem(bi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const ru=(()=>{class v extends Dc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,I)=>this.onStorageEvent(g,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ei(){const v=(0,B.z$)();return O(v)||qt(v)}()&&function Bu(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=jr(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const I of Object.keys(this.listeners)){const S=this.storage.getItem(I),k=this.localCache[I];S!==k&&g(I,k,S)}}onStorageEvent(g,I=!1){if(!g.key)return void this.forAllChangedKeys((Ce,We,pt)=>{this.notifyListeners(Ce,pt)});const S=g.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ce=this.storage.getItem(S);if(g.newValue!==Ce)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!I)return}const k=()=>{const Ce=this.storage.getItem(S);!I&&this.localCache[S]===Ce||this.notifyListeners(S,Ce)},X=this.storage.getItem(S);!function Bt(){return(0,B.w1)()&&10===document.documentMode}()||X===g.newValue||g.newValue===g.oldValue?k():setTimeout(k,10)}notifyListeners(g,I){this.localCache[g]=I;const S=this.listeners[g];if(S)for(const k of Array.from(S))k(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,I,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:I,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(I)}_removeListener(g,I){this.listeners[g]&&(this.listeners[g].delete(I),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,I){var S=()=>super._set,k=this;return(0,c.Z)(function*(){yield S().call(k,g,I),k.localCache[g]=JSON.stringify(I)})()}_get(g){var I=()=>super._get,S=this;return(0,c.Z)(function*(){const k=yield I().call(S,g);return S.localCache[g]=JSON.stringify(k),k})()}_remove(g){var I=()=>super._remove,S=this;return(0,c.Z)(function*(){yield I().call(S,g),delete S.localCache[g]})()}}return v.type="LOCAL",v})(),cl=(()=>{class v extends Dc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,I){}_removeListener(g,I){}}return v.type="SESSION",v})();let dl=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const I=this.receivers.find(k=>k.isListeningto(g));if(I)return I;const S=new v(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var I=this;return(0,c.Z)(function*(){const S=g,{eventId:k,eventType:X,data:Ce}=S.data,We=I.handlersMap[X];if(!We?.size)return;S.ports[0].postMessage({status:"ack",eventId:k,eventType:X});const pt=Array.from(We).map(function(){var An=(0,c.Z)(function*(Bi){return Bi(S.origin,Ce)});return function(Bi){return An.apply(this,arguments)}}()),Ht=yield function ta(v){return Promise.all(v.map(function(){var p=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(I){return{fulfilled:!1,reason:I}}});return function(g){return p.apply(this,arguments)}}()))}(pt);S.ports[0].postMessage({status:"done",eventId:k,eventType:X,response:Ht})})()}_subscribe(g,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(I)}_unsubscribe(g,I){this.handlersMap[g]&&I&&this.handlersMap[g].delete(I),(!I||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function na(v="",p=10){let g="";for(let I=0;I<p;I++)g+=Math.floor(10*Math.random());return v+g}class go{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,I=50){var S=this;return(0,c.Z)(function*(){const k=typeof MessageChannel<"u"?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let X,Ce;return new Promise((We,pt)=>{const Ht=na("",20);k.port1.start();const An=setTimeout(()=>{pt(new Error("unsupported_event"))},I);Ce={messageChannel:k,onMessage(Bi){const Ao=Bi;if(Ao.data.eventId===Ht)switch(Ao.data.status){case"ack":clearTimeout(An),X=setTimeout(()=>{pt(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),We(Ao.data.response);break;default:clearTimeout(An),clearTimeout(X),pt(new Error("invalid_response"))}}},S.handlers.add(Ce),k.port1.addEventListener("message",Ce.onMessage),S.target.postMessage({eventType:p,eventId:Ht,data:g},[k.port2])}).finally(()=>{Ce&&S.removeMessageHandler(Ce)})})()}}function In(){return window}function Li(){return typeof In().WorkerGlobalScope<"u"&&"function"==typeof In().importScripts}function ia(){return(ia=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Gs="firebaseLocalStorageDb",su=1,Qi="firebaseLocalStorage",Zd="fbase_key";class Xi{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function yo(v,p){return v.transaction([Qi],p?"readwrite":"readonly").objectStore(Qi)}function Gr(){const v=indexedDB.open(Gs,su);return new Promise((p,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const I=v.result;try{I.createObjectStore(Qi,{keyPath:Zd})}catch(S){g(S)}}),v.addEventListener("success",(0,c.Z)(function*(){const I=v.result;I.objectStoreNames.contains(Qi)?p(I):(I.close(),yield function sa(){const v=indexedDB.deleteDatabase(Gs);return new Xi(v).toPromise()}(),p(yield Gr()))}))})}function ou(v,p,g){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,c.Z)(function*(v,p,g){const I=yo(v,!0).put({[Zd]:p,value:g});return new Xi(I).toPromise()})).apply(this,arguments)}function _o(){return(_o=(0,c.Z)(function*(v,p){const g=yo(v,!1).get(p),I=yield new Xi(g).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function qs(v,p){const g=yo(v,!0).delete(p);return new Xi(g).toPromise()}const hl=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield Gr()),g.db})()}_withRetries(g){var I=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const k=yield I._openDb();return yield g(k)}catch(k){if(S++>3)throw k;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return Li()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=dl._getInstance(function Gd(){return Li()?self:null}()),g.receiver._subscribe("keyChanged",function(){var I=(0,c.Z)(function*(S,k){return{keyProcessed:(yield g._poll()).includes(k.key)}});return function(S,k){return I.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var I=(0,c.Z)(function*(S,k){return["keyChanged"]});return function(S,k){return I.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var I,S;if(g.activeServiceWorker=yield function ra(){return ia.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new go(g.activeServiceWorker);const k=yield g.sender._send("ping",{},800);k&&null!==(I=k[0])&&void 0!==I&&I.fulfilled&&null!==(S=k[0])&&void 0!==S&&S.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var I=this;return(0,c.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function iu(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:g},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Gr();return yield ou(g,bi,"1"),yield qs(g,bi),!0}catch{}return!1})()}_withPendingWrite(g){var I=this;return(0,c.Z)(function*(){I.pendingWrites++;try{yield g()}finally{I.pendingWrites--}})()}_set(g,I){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(k=>ou(k,g,I)),S.localCache[g]=I,S.notifyServiceWorker(g)}))})()}_get(g){var I=this;return(0,c.Z)(function*(){const S=yield I._withRetries(k=>function vo(v,p){return _o.apply(this,arguments)}(k,g));return I.localCache[g]=S,S})()}_remove(g){var I=this;return(0,c.Z)(function*(){return I._withPendingWrite((0,c.Z)(function*(){return yield I._withRetries(S=>qs(S,g)),delete I.localCache[g],I.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const I=yield g._withRetries(X=>{const Ce=yo(X,!1).getAll();return new Xi(Ce).toPromise()});if(!I)return[];if(0!==g.pendingWrites)return[];const S=[],k=new Set;for(const{fbase_key:X,value:Ce}of I)k.add(X),JSON.stringify(g.localCache[X])!==JSON.stringify(Ce)&&(g.notifyListeners(X,Ce),S.push(X));for(const X of Object.keys(g.localCache))g.localCache[X]&&!k.has(X)&&(g.notifyListeners(X,null),S.push(X));return S})()}notifyListeners(g,I){this.localCache[g]=I;const S=this.listeners[g];if(S)for(const k of Array.from(S))k(I)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(I)}_removeListener(g,I){this.listeners[g]&&(this.listeners[g].delete(I),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Ji(){return(Ji=(0,c.Z)(function*(v){return(yield tt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function fl(v){return new Promise((p,g)=>{const I=document.createElement("script");I.setAttribute("src",v),I.onload=p,I.onerror=S=>{const k=Te("internal-error");k.customData=S,g(k)},I.type="text/javascript",I.charset="UTF-8",function aa(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(I)})}function cu(v){return`__${v}${Math.floor(1e6*Math.random())}`}const ua=1e12;class gl{constructor(p){this.auth=p,this.counter=ua,this._widgets=new Map}render(p,g){const I=this.counter;return this._widgets.set(I,new Sc(p,this.auth.name,g||{})),this.counter++,I}reset(p){var g;const I=p||ua;null===(g=this._widgets.get(I))||void 0===g||g.delete(),this._widgets.delete(I)}getResponse(p){var g;return(null===(g=this._widgets.get(p||ua))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,c.Z)(function*(){var I;return null===(I=g._widgets.get(p||ua))||void 0===I||I.execute(),""})()}}class Sc{constructor(p,g,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;K(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Mc(v){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<v;I++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wo=cu("rcb"),Io=new Ve(3e4,6e4);class la{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=In().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return K(function tp(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(In().grecaptcha):new Promise((I,S)=>{const k=In().setTimeout(()=>{S(Te(p,"network-request-failed"))},Io.get());In()[wo]=()=>{In().clearTimeout(k),delete In()[wo];const Ce=In().grecaptcha;if(!Ce)return void S(Te(p,"internal-error"));const We=Ce.render;Ce.render=(pt,Ht)=>{const An=We(pt,Ht);return this.counter++,An},this.hostLanguage=g,I(Ce)},fl(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:wo,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(k),S(Te(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=In().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class xc{load(p){return(0,c.Z)(function*(){return new gl(p)})()}clearedOneInstance(){}}const Ks="recaptcha",np={theme:"light",type:"image"};class As{constructor(p,g=Object.assign({},np),I){this.parameters=g,this.type=Ks,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yr(I),this.isInvisible="invisible"===this.parameters.size,K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;K(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xc:new la,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),I=p.getAssertedRecaptcha();return I.getResponse(g)||new Promise(k=>{const X=Ce=>{Ce&&(p.tokenChangeListeners.delete(X),k(Ce))};p.tokenChangeListeners.add(X),p.isInvisible&&I.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){K(!this.parameters.sitekey,this.auth,"argument-error"),K(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(I=>I(g)),"function"==typeof p)p(g);else if("string"==typeof p){const I=In()[p];"function"==typeof I&&I(g)}}}assertNotDestroyed(){K(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const I=document.createElement("div");g.appendChild(I),g=I}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){K(ce()&&!Li(),p.auth,"internal-error"),yield function vn(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function lu(v){return Ji.apply(this,arguments)}(p.auth);K(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return K(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ml{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=ur._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function yl(v,p,g){return vl.apply(this,arguments)}function vl(){return(vl=(0,c.Z)(function*(v,p,g){const I=yr(v),S=yield Ys(I,p,(0,B.m9)(g));return new ml(S,k=>Wu(I,k))})).apply(this,arguments)}function _m(v,p,g){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,c.Z)(function*(v,p,g){const I=(0,B.m9)(v);yield $s(!1,I,"phone");const S=yield Ys(I.auth,p,(0,B.m9)(g));return new ml(S,k=>Ku(I,k))})).apply(this,arguments)}function wm(v,p,g){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,c.Z)(function*(v,p,g){const I=(0,B.m9)(v),S=yield Ys(I.auth,p,(0,B.m9)(g));return new ml(S,k=>On(I,k))})).apply(this,arguments)}function Ys(v,p,g){return rp.apply(this,arguments)}function rp(){return rp=(0,c.Z)(function*(v,p,g){var I;const S=yield g.verify();try{let k;if(K("string"==typeof S,v,"argument-error"),K(g.type===Ks,v,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const X=k.session;if("phoneNumber"in k)return K("enroll"===X.type,v,"internal-error"),(yield function ep(v,p){return tt(v,"POST","/v2/accounts/mfaEnrollment:start",dt(v,p))}(v,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{K("signin"===X.type,v,"internal-error");const Ce=(null===(I=k.multiFactorHint)||void 0===I?void 0:I.uid)||k.multiFactorUid;return K(Ce,v,"missing-multi-factor-info"),(yield function uu(v,p){return tt(v,"POST","/v2/accounts/mfaSignIn:start",dt(v,p))}(v,{mfaPendingCredential:X.credential,mfaEnrollmentId:Ce,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield function zf(v,p){return Ho.apply(this,arguments)}(v,{phoneNumber:k.phoneNumber,recaptchaToken:S});return X}}finally{g._reset()}}),rp.apply(this,arguments)}function Im(v,p){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,c.Z)(function*(v,p){yield js((0,B.m9)(v),p)})).apply(this,arguments)}let Pc=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=yr(g)}verifyPhoneNumber(g,I){return Ys(this.auth,g,(0,B.m9)(I))}static credential(g,I){return ur._fromVerification(g,I)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:I,temporaryProof:S}=g;return I&&S?ur._fromTokenResponse(I,S):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function di(v,p){return p?$e(p):(K(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class _l extends Xr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ar(p,this._buildIdpRequest())}_linkToIdToken(p,g){return ar(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return ar(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Di(v){return qu(v.auth,new _l(v),v.bypassAuthState)}function Ts(v){const{auth:p,user:g}=v;return K(g,p,"internal-error"),qa(g,new _l(v),v.bypassAuthState)}function wl(v){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,c.Z)(function*(v){const{auth:p,user:g}=v;return K(g,p,"internal-error"),js(g,new _l(v),v.bypassAuthState)})).apply(this,arguments)}class Xs{constructor(p,g,I,S,k=!1){this.auth=p,this.resolver=I,this.user=S,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,c.Z)(function*(I,S){p.pendingPromise={resolve:I,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(I,S){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,c.Z)(function*(){const{urlResponse:I,sessionId:S,postBody:k,tenantId:X,error:Ce,type:We}=p;if(Ce)return void g.reject(Ce);const pt={auth:g.auth,requestUri:I,sessionId:S,tenantId:X||void 0,postBody:k||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(We)(pt))}catch(Ht){g.reject(Ht)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Di;case"linkViaPopup":case"linkViaRedirect":return wl;case"reauthViaPopup":case"reauthViaRedirect":return Ts;default:Pe(this.auth,"internal-error")}}resolve(p){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rc=new Ve(2e3,1e4);function Kd(v,p,g){return ca.apply(this,arguments)}function ca(){return(ca=(0,c.Z)(function*(v,p,g){const I=yr(v);be(v,p,bs);const S=di(I,g);return new es(I,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function z_(v,p,g){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,c.Z)(function*(v,p,g){const I=(0,B.m9)(v);be(I.auth,p,bs);const S=di(I.auth,g);return new es(I.auth,"reauthViaPopup",p,S,I).executeNotNull()})).apply(this,arguments)}function Js(v,p,g){return lt.apply(this,arguments)}function lt(){return(lt=(0,c.Z)(function*(v,p,g){const I=(0,B.m9)(v);be(I.auth,p,bs);const S=di(I.auth,g);return new es(I.auth,"linkViaPopup",p,S,I).executeNotNull()})).apply(this,arguments)}let es=(()=>{class v extends Xs{constructor(g,I,S,k,X){super(g,I,k,X),this.provider=S,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const I=yield g.execute();return K(I,g.auth,"internal-error"),I})()}onExecution(){var g=this;return(0,c.Z)(function*(){pe(1===g.filter.length,"Popup operations only handle one event");const I=na();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],I),g.authWindow.associatedEvent=I,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(Te(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var I,S;this.pollId=null!==(S=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Te(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Rc.get())};g()}}return v.currentPopupAction=null,v})();const hr="pendingRedirect",bo=new Map;class du extends Xs{constructor(p,g,I=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,I),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,c.Z)(function*(){let I=bo.get(g.auth._key());if(!I){try{const k=(yield function ts(v,p){return ns.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;I=()=>Promise.resolve(k)}catch(S){I=()=>Promise.reject(S)}bo.set(g.auth._key(),I)}return g.bypassAuthState||bo.set(g.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,I=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(I,p);if("unknown"!==p.type){if(p.eventId){const S=yield I.auth._redirectUserForId(p.eventId);if(S)return I.user=S,g().call(I,p);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function ns(){return(ns=(0,c.Z)(function*(v,p){const g=Vi(p),I=ha(v);if(!(yield I._isAvailable()))return!1;const S="true"===(yield I._get(g));return yield I._remove(g),S})).apply(this,arguments)}function Il(v,p){return rs.apply(this,arguments)}function rs(){return(rs=(0,c.Z)(function*(v,p){return ha(v)._set(Vi(p),"true")})).apply(this,arguments)}function Nc(){bo.clear()}function da(v,p){bo.set(v._key(),p)}function ha(v){return $e(v._redirectPersistence)}function Vi(v){return $(hr,v.config.apiKey,v.name)}function Dt(v,p,g){return function fa(v,p,g){return E.apply(this,arguments)}(v,p,g)}function E(){return(E=(0,c.Z)(function*(v,p,g){const I=yr(v);be(v,p,bs),yield I._initializationPromise;const S=di(I,g);return yield Il(S,I),S._openRedirect(I,p,"signInViaRedirect")})).apply(this,arguments)}function D(v,p,g){return function M(v,p,g){return V.apply(this,arguments)}(v,p,g)}function V(){return(V=(0,c.Z)(function*(v,p,g){const I=(0,B.m9)(v);be(I.auth,p,bs),yield I.auth._initializationPromise;const S=di(I.auth,g);yield Il(S,I.auth);const k=yield Et(I);return S._openRedirect(I.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function W(v,p,g){return function te(v,p,g){return Oe.apply(this,arguments)}(v,p,g)}function Oe(){return(Oe=(0,c.Z)(function*(v,p,g){const I=(0,B.m9)(v);be(I.auth,p,bs),yield I.auth._initializationPromise;const S=di(I.auth,g);yield $s(!1,I,p.providerId),yield Il(S,I.auth);const k=yield Et(I);return S._openRedirect(I.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function rt(v,p){return at.apply(this,arguments)}function at(){return(at=(0,c.Z)(function*(v,p){return yield yr(v)._initializationPromise,vt(v,p,!1)})).apply(this,arguments)}function vt(v,p){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,c.Z)(function*(v,p,g=!1){const I=yr(v),S=di(I,p),X=yield new du(I,S,g).execute();return X&&!g&&(delete X.user._redirectEventId,yield I._persistUserIfCurrent(X.user),yield I._setRedirectUser(null,p)),X})).apply(this,arguments)}function Et(v){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,c.Z)(function*(v){const p=na(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class eo{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(p,I)&&(g=!0,this.sendToConsumer(p,I),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function xr(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ei(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var I;if(p.error&&!ei(p)){const S=(null===(I=p.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";g.onError(Te(this.auth,S))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const I=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&I}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ss(p))}saveEventToCache(p){this.cachedEventUids.add(Ss(p)),this.lastProcessedEventTime=Date.now()}}function Ss(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function ei({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function bn(v){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,c.Z)(function*(v,p={}){return tt(v,"GET","/v1/projects",p)})).apply(this,arguments)}const Yd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Or=/^https?/;function bl(){return(bl=(0,c.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield bn(v);for(const g of p)try{if(is(g))return}catch{}Pe(v,"unauthorized-domain")})).apply(this,arguments)}function is(v){const p=re(),{protocol:g,hostname:I}=new URL(p);if(v.startsWith("chrome-extension://")){const X=new URL(v);return""===X.hostname&&""===I?"chrome-extension:"===g&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&X.hostname===I}if(!Or.test(g))return!1;if(Yd.test(v))return I===v;const S=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(I)}const ti=new Ve(3e4,6e4);function ga(){const v=In().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let Qd=null;const hu=new Ve(5e3,15e3),ni="__/auth/iframe",ma="emulator/auth/iframe",G_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xd(v){const p=v.config;K(p.authDomain,v,"auth-domain-config-required");const g=p.emulator?et(p,ma):`https://${v.config.authDomain}/${ni}`,I={apiKey:p.apiKey,appName:v.name,v:P.SDK_VERSION},S=kc.get(v.config.apiHost);S&&(I.eid=S);const k=v._getFrameworks();return k.length&&(I.fw=k.join(",")),`${g}?${(0,B.xO)(I).slice(1)}`}function El(){return El=(0,c.Z)(function*(v){const p=yield function ss(v){return Qd=Qd||function bm(v){return new Promise((p,g)=>{var I,S,k;function X(){ga(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ga(),g(Te(v,"network-request-failed"))},timeout:ti.get()})}if(null!==(S=null===(I=In().gapi)||void 0===I?void 0:I.iframes)&&void 0!==S&&S.Iframe)p(gapi.iframes.getContext());else{if(null===(k=In().gapi)||void 0===k||!k.load){const Ce=cu("iframefcb");return In()[Ce]=()=>{gapi.load?X():g(Te(v,"network-request-failed"))},fl(`https://apis.google.com/js/api.js?onload=${Ce}`).catch(We=>g(We))}X()}}).catch(p=>{throw Qd=null,p})}(v),Qd}(v),g=In().gapi;return K(g,v,"internal-error"),p.open({where:document.body,url:Xd(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:G_,dontclear:!0},I=>new Promise(function(){var S=(0,c.Z)(function*(k,X){yield I.restyle({setHideOnLeave:!1});const Ce=Te(v,"network-request-failed"),We=In().setTimeout(()=>{X(Ce)},hu.get());function pt(){In().clearTimeout(We),k(I)}I.ping(pt).then(pt,()=>{X(Ce)})});return function(k,X){return S.apply(this,arguments)}}()))}),El.apply(this,arguments)}const ip={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fc=500,Ft=600,hi="_blank",Em="http://localhost";class ya{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ui="__/auth/handler",op="emulator/auth/handler";function Lc(v,p,g,I,S,k){K(v.config.authDomain,v,"auth-domain-config-required"),K(v.config.apiKey,v,"invalid-api-key");const X={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:I,v:P.SDK_VERSION,eventId:S};if(p instanceof bs){p.setDefaultLanguage(v.languageCode),X.providerId=p.providerId||"",(0,B.xb)(p.getCustomParameters())||(X.customParameters=JSON.stringify(p.getCustomParameters()));for(const[We,pt]of Object.entries(k||{}))X[We]=pt}if(p instanceof lo){const We=p.getScopes().filter(pt=>""!==pt);We.length>0&&(X.scopes=We.join(","))}v.tenantId&&(X.tid=v.tenantId);const Ce=X;for(const We of Object.keys(Ce))void 0===Ce[We]&&delete Ce[We];return`${function ap({config:v}){return v.emulator?et(v,op):`https://${v.authDomain}/${Ui}`}(v)}?${(0,B.xO)(Ce).slice(1)}`}const eh="webStorageSupport",to=class Pr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cl,this._completeRedirectFn=vt,this._overrideRedirectResult=da}_openPopup(p,g,I,S){var k=this;return(0,c.Z)(function*(){var X;pe(null===(X=k.eventManagers[p._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const Ce=Lc(p,g,I,re(),S);return function Cm(v,p,g,I=Fc,S=Ft){const k=Math.max((window.screen.availHeight-S)/2,0).toString(),X=Math.max((window.screen.availWidth-I)/2,0).toString();let Ce="";const We=Object.assign(Object.assign({},ip),{width:I.toString(),height:S.toString(),top:k,left:X}),pt=(0,B.z$)().toLowerCase();g&&(Ce=Y(pt)?hi:g),F(pt)&&(p=p||Em,We.scrollbars="yes");const Ht=Object.entries(We).reduce((Bi,[Ao,_a])=>`${Bi}${Ao}=${_a},`,"");if(function yn(v=(0,B.z$)()){var p;return qt(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(pt)&&"_self"!==Ce)return function sp(v,p){const g=document.createElement("a");g.href=v,g.target=p;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(I)}(p||"",Ce),new ya(null);const An=window.open(p||"",Ce,Ht);K(An,v,"popup-blocked");try{An.focus()}catch{}return new ya(An)}(p,Ce,na())})()}_openRedirect(p,g,I,S){var k=this;return(0,c.Z)(function*(){return yield k._originValidation(p),function mo(v){In().location.href=v}(Lc(p,g,I,re(),S)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:S,promise:k}=this.eventManagers[g];return S?Promise.resolve(S):(pe(k,"If manager is not set, promise should be"),k)}const I=this.initAndGetManager(p);return this.eventManagers[g]={promise:I},I.catch(()=>{delete this.eventManagers[g]}),I}initAndGetManager(p){var g=this;return(0,c.Z)(function*(){const I=yield function Jd(v){return El.apply(this,arguments)}(p),S=new eo(p);return I.register("authEvent",k=>(K(k?.authEvent,p,"invalid-auth-event"),{status:S.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:S},g.iframes[p._key()]=I,S})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(eh,{type:eh},S=>{var k;const X=null===(k=S?.[0])||void 0===k?void 0:k[eh];void 0!==X&&g(!!X),Pe(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function pa(v){return bl.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return jr()||O()||qt()}};class Rr{constructor(p){this.factorId=p}_process(p,g,I){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,I);case"signin":return this._finalizeSignIn(p,g.credential);default:return oe("unexpected MultiFactorSessionType")}}}class Cl extends Rr{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Cl(p)}_finalizeEnroll(p,g,I){return function Jr(v,p){return tt(v,"POST","/v2/accounts/mfaEnrollment:finalize",dt(v,p))}(p,{idToken:g,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function Tc(v,p){return tt(v,"POST","/v2/accounts/mfaSignIn:finalize",dt(v,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let th=(()=>{class v{constructor(){}static assertion(g){return Cl._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var Vc="@firebase/auth";class Al{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(I=>{p(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);g&&(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,B.Pz)("authIdTokenMaxAge"),function Kt(v){(0,P._registerComponent)(new se.wA("auth",(p,{options:g})=>{const I=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),{apiKey:k,authDomain:X}=I.options;return((Ce,We)=>{K(k&&!k.includes(":"),"invalid-api-key",{appName:Ce.name}),K(!X?.includes(":"),"argument-error",{appName:Ce.name});const pt={apiKey:k,authDomain:X,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ja(v)},Ht=new $a(Ce,We,pt);return function Je(v,p){const g=p?.persistence||[],I=(Array.isArray(g)?g:[g]).map($e);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(I,p?.popupRedirectResolver)}(Ht,g),Ht})(I,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,I)=>{p.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new se.wA("auth-internal",p=>{const g=yr(p.getProvider("auth").getImmediate());return new Al(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(Vc,"0.22.0",function Co(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,P.registerVersion)(Vc,"0.22.0","esm2017")}("Browser")},2090:(ft,De,L)=>{L.d(De,{$s:()=>yt,BH:()=>be,G6:()=>Me,L:()=>de,LL:()=>mt,P0:()=>Pe,Pz:()=>xe,Sg:()=>He,UG:()=>pe,US:()=>se,ZB:()=>q,ZR:()=>rn,aH:()=>Te,b$:()=>Ct,eu:()=>Ve,hl:()=>ke,jU:()=>Ze,m9:()=>jn,ne:()=>xt,pd:()=>Un,r3:()=>Vn,ru:()=>$e,tV:()=>H,uI:()=>oe,vZ:()=>or,w1:()=>re,xO:()=>gr,xb:()=>ai,z$:()=>K,zI:()=>et,zd:()=>Zn});const ee=function($){const j=[];let R=0;for(let F=0;F<$.length;F++){let O=$.charCodeAt(F);O<128?j[R++]=O:O<2048?(j[R++]=O>>6|192,j[R++]=63&O|128):55296==(64512&O)&&F+1<$.length&&56320==(64512&$.charCodeAt(F+1))?(O=65536+((1023&O)<<10)+(1023&$.charCodeAt(++F)),j[R++]=O>>18|240,j[R++]=O>>12&63|128,j[R++]=O>>6&63|128,j[R++]=63&O|128):(j[R++]=O>>12|224,j[R++]=O>>6&63|128,j[R++]=63&O|128)}return j},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,j){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const R=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let O=0;O<$.length;O+=3){const Y=$[O],ae=O+1<$.length,st=ae?$[O+1]:0,It=O+2<$.length,St=It?$[O+2]:0;let yn=(15&st)<<2|St>>6,Bt=63&St;It||(Bt=64,ae||(yn=64)),F.push(R[Y>>2],R[(3&Y)<<4|st>>4],R[yn],R[Bt])}return F.join("")},encodeString($,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa($):this.encodeByteArray(ee($),j)},decodeString($,j){return this.HAS_NATIVE_SUPPORT&&!j?atob($):function($){const j=[];let R=0,F=0;for(;R<$.length;){const O=$[R++];if(O<128)j[F++]=String.fromCharCode(O);else if(O>191&&O<224){const Y=$[R++];j[F++]=String.fromCharCode((31&O)<<6|63&Y)}else if(O>239&&O<365){const It=((7&O)<<18|(63&$[R++])<<12|(63&$[R++])<<6|63&$[R++])-65536;j[F++]=String.fromCharCode(55296+(It>>10)),j[F++]=String.fromCharCode(56320+(1023&It))}else{const Y=$[R++],ae=$[R++];j[F++]=String.fromCharCode((15&O)<<12|(63&Y)<<6|63&ae)}}return j.join("")}(this.decodeStringToByteArray($,j))},decodeStringToByteArray($,j){this.init_();const R=j?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let O=0;O<$.length;){const Y=R[$.charAt(O++)],st=O<$.length?R[$.charAt(O)]:0;++O;const St=O<$.length?R[$.charAt(O)]:64;++O;const bt=O<$.length?R[$.charAt(O)]:64;if(++O,null==Y||null==st||null==St||null==bt)throw new he;F.push(Y<<2|st>>4),64!==St&&(F.push(st<<4&240|St>>2),64!==bt&&F.push(St<<6&192|bt))}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class he extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const de=function($){return function($){const j=ee($);return se.encodeByteArray(j,!0)}($).replace(/\./g,"")},H=function($){try{return se.decodeString($,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function q($,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return j}for(const R in j)!j.hasOwnProperty(R)||!Ue(R)||($[R]=q($[R],j[R]));return $}function Ue($){return"__proto__"!==$}const Ie=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=$&&H($[1]);return j&&JSON.parse(j)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},Pe=$=>{const j=($=>{var j,R;return null===(R=null===(j=Ie())||void 0===j?void 0:j.emulatorHosts)||void 0===R?void 0:R[$]})($);if(!j)return;const R=j.lastIndexOf(":");if(R<=0||R+1===j.length)throw new Error(`Invalid host ${j} with no separate hostname and port!`);const F=parseInt(j.substring(R+1),10);return"["===j[0]?[j.substring(1,R-1),F]:[j.substring(0,R),F]},Te=()=>{var $;return null===($=Ie())||void 0===$?void 0:$.config},xe=$=>{var j;return null===(j=Ie())||void 0===j?void 0:j[`_${$}`]};class be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,R)=>{this.resolve=j,this.reject=R})}wrapCallback(j){return(R,F)=>{R?this.reject(R):this.resolve(F),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(R):j(R,F))}}}function He($,j){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const F=j||"demo-project",O=$.iat||0,Y=$.sub||$.user_id;if(!Y)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ae=Object.assign({iss:`https://securetoken.google.com/${F}`,aud:F,iat:O,exp:O+3600,auth_time:O,sub:Y,user_id:Y,firebase:{sign_in_provider:"custom",identities:{}}},$);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(ae)),""].join(".")}function K(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(K())}function pe(){var $;const j=null===($=Ie())||void 0===$?void 0:$.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ze(){return"object"==typeof self&&self.self===self}function $e(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function Ct(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function re(){const $=K();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Me(){return!pe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ke(){try{return"object"==typeof indexedDB}catch{return!1}}function Ve(){return new Promise(($,j)=>{try{let R=!0;const F="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(F);O.onsuccess=()=>{O.result.close(),R||self.indexedDB.deleteDatabase(F),$(!0)},O.onupgradeneeded=()=>{R=!1},O.onerror=()=>{var Y;j((null===(Y=O.error)||void 0===Y?void 0:Y.message)||"")}}catch(R){j(R)}})}function et(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class rn extends Error{constructor(j,R,F){super(R),this.code=j,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,rn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mt.prototype.create)}}class mt{constructor(j,R,F){this.service=j,this.serviceName=R,this.errors=F}create(j,...R){const F=R[0]||{},O=`${this.service}/${j}`,Y=this.errors[j],ae=Y?function dt($,j){return $.replace(tt,(R,F)=>{const O=j[F];return null!=O?String(O):`<${F}?>`})}(Y,F):"Error";return new rn(O,`${this.serviceName}: ${ae} (${O}).`,F)}}const tt=/\{\$([^}]+)}/g;function Vn($,j){return Object.prototype.hasOwnProperty.call($,j)}function ai($){for(const j in $)if(Object.prototype.hasOwnProperty.call($,j))return!1;return!0}function or($,j){if($===j)return!0;const R=Object.keys($),F=Object.keys(j);for(const O of R){if(!F.includes(O))return!1;const Y=$[O],ae=j[O];if(it(Y)&&it(ae)){if(!or(Y,ae))return!1}else if(Y!==ae)return!1}for(const O of F)if(!R.includes(O))return!1;return!0}function it($){return null!==$&&"object"==typeof $}function gr($){const j=[];for(const[R,F]of Object.entries($))Array.isArray(F)?F.forEach(O=>{j.push(encodeURIComponent(R)+"="+encodeURIComponent(O))}):j.push(encodeURIComponent(R)+"="+encodeURIComponent(F));return j.length?"&"+j.join("&"):""}function Zn($){const j={};return $.replace(/^\?/,"").split("&").forEach(F=>{if(F){const[O,Y]=F.split("=");j[decodeURIComponent(O)]=decodeURIComponent(Y)}}),j}function Un($){const j=$.indexOf("?");if(!j)return"";const R=$.indexOf("#",j);return $.substring(j,R>0?R:void 0)}function xt($,j){const R=new ht($,j);return R.subscribe.bind(R)}class ht{constructor(j,R){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=R,this.task.then(()=>{j(this)}).catch(F=>{this.error(F)})}next(j){this.forEachObserver(R=>{R.next(j)})}error(j){this.forEachObserver(R=>{R.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,R,F){let O;if(void 0===j&&void 0===R&&void 0===F)throw new Error("Missing Observer.");O=function wn($,j){if("object"!=typeof $||null===$)return!1;for(const R of j)if(R in $&&"function"==typeof $[R])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:R,complete:F},void 0===O.next&&(O.next=Mn),void 0===O.error&&(O.error=Mn),void 0===O.complete&&(O.complete=Mn);const Y=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),Y}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let R=0;R<this.observers.length;R++)this.sendOne(R,j)}sendOne(j,R){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{R(this.observers[j])}catch(F){typeof console<"u"&&console.error&&console.error(F)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mn(){}const Bn=1e3,Be=2,_e=144e5,nt=.5;function yt($,j=Bn,R=Be){const F=j*Math.pow(R,$),O=Math.round(nt*F*(Math.random()-.5)*2);return Math.min(_e,F+O)}function jn($){return $&&$._delegate?$._delegate:$}},7915:(ft,De,L)=>{var c=L(4650);let B=null;function P(){return B}class ne{}const se=new c.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function le(){return(0,c.LFG)(H)}()},providedIn:"platform"}),n})();const de=new c.OlP("Location Initialized");let H=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){z()?this._history.pushState(t,r,o):this._location.hash=o}replaceState(t,r,o){z()?this._history.replaceState(t,r,o):this._location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function q(){return new H((0,c.LFG)(se))}()},providedIn:"platform"}),n})();function z(){return!!window.history.pushState}function Ue(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ae(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ge(n){return n&&"?"!==n[0]?"?"+n:n}let ot=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Ie)},providedIn:"root"}),n})();const fe=new c.OlP("appBaseHref");let Ie=(()=>{class n extends ot{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ue(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ge(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const d=this.prepareExternalUrl(o+Ge(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){const d=this.prepareExternalUrl(o+Ge(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he),c.LFG(fe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),we=(()=>{class n extends ot{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ue(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let d=this.prepareExternalUrl(o+Ge(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){let d=this.prepareExternalUrl(o+Ge(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(he),c.LFG(fe,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function He(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ae(be(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ge(r))}normalize(t){return n.stripTrailingSlash(function xe(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,be(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ge(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ge(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Ge,n.joinWithSlash=Ue,n.stripTrailingSlash=Ae,n.\u0275fac=function(t){return new(t||n)(c.LFG(ot))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Te(){return new Pe((0,c.LFG)(ot))}()},providedIn:"root"}),n})();function be(n){return n.replace(/\/index.html$/,"")}const ys=/\s+/,Oi=[];let Xe=(()=>{class n{constructor(t,r,o,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=u,this.initialClasses=Oi,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(ys):Oi}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(ys):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const o=this.stateMap.get(t);void 0!==o?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],o=t[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(ys).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Gi{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dn=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,d)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Gi(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,d),Zi(m,o)}});for(let o=0,u=r.length;o<u;o++){const m=r.get(o).context;m.index=o,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Zi(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Zi(n,e){n.context.$implicit=e.item}let Ga=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const pc="server";function yc(n){return n===pc}let js=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Zo((0,c.LFG)(se),window)}),n})();class Zo{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function qo(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=$s(this.window.history)||$s(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $s(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class po extends ne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Jo extends po{static makeCurrent(){!function ee(n){B||(B=n)}(new Jo)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Dc(){return bi=bi||document.querySelector("base"),bi?bi.getAttribute("href"):null}();return null==t?null:function ea(n){Ei=Ei||document.createElement("a"),Ei.setAttribute("href",n);const e=Ei.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){bi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function zu(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Ei,bi=null;const Ac=new c.OlP("TRANSITION_ID"),ru=[{provide:c.ip1,useFactory:function ym(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=P(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[Ac,se,c.zs3],multi:!0}];let cl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ta=new c.OlP("EventManagerPlugins");let dl=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const d=o[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ta),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class na{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=P().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let go=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const o=this.usageCount;let u=o.get(t)??0;return u+=r,u>0?o.set(t,u):o.delete(t),u}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),In=(()=>{class n extends go{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(u=>u.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const o=this.doc.createElement("style");o.textContent=r,t.appendChild(o);const u=this.styleRef.get(r);u?u.push(o):this.styleRef.set(r,[o])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const mo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Li=/%COMP%/g,su=new c.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Xi(n,e){return e.flat(100).map(t=>t.replace(Li,n))}function yo(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let sa=(()=>{class n{constructor(t,r,o,u){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestory=u,this.rendererByCompId=new Map,this.defaultRenderer=new Gr(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const o=this.getOrCreateRenderer(t,r);return o instanceof oa?o.applyToHost(t):o instanceof qs&&o.applyStyles(),o}getOrCreateRenderer(t,r){const o=this.rendererByCompId;let u=o.get(r.id);if(!u){const d=this.eventManager,m=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(r.encapsulation){case c.ifc.Emulated:u=new oa(d,m,r,this.appId,_);break;case c.ifc.ShadowDom:return new _o(d,m,t,r);default:u=new qs(d,m,r,_)}u.onDestroy=()=>o.delete(r.id),o.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(dl),c.LFG(In),c.LFG(c.AFp),c.LFG(su))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Gr{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(mo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(vo(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(vo(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=mo[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=mo[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,o&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,yo(r)):this.eventManager.addEventListener(e,t,yo(r))}}function vo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class _o extends Gr{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Xi(o.id,o.styles);for(const d of u){const m=document.createElement("style");m.textContent=d,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class qs extends Gr{constructor(e,t,r,o,u=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=o,this.rendererUsageCount=0,this.styles=Xi(u,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class oa extends qs{constructor(e,t,r,o,u){const d=o+"-"+r.id;super(e,t,r,u,d),this.contentAttr=function Qi(n){return"_ngcontent-%COMP%".replace(Li,n)}(d),this.hostAttr=function Zd(n){return"_nghost-%COMP%".replace(Li,n)}(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let qd=(()=>{class n extends na{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const au=["alt","control","meta","shift"],hl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},uu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Tc=(()=>{class n extends na{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let d="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),d="code."),au.forEach(C=>{const T=r.indexOf(C);T>-1&&(r.splice(T,1),d+=C+".")}),d+=u,0!=r.length||0===u.length)return null;const _={};return _.domEventName=o,_.fullKey=d,_}static matchEventFullKeyCode(t,r){let o=hl[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(o=t.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),au.forEach(d=>{d!==o&&(0,uu[d])(t)&&(u+=d+".")}),u+=o,u===r)}static eventCallback(t,r,o){return u=>{n.matchEventFullKeyCode(u,t)&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const gl=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function cu(){Jo.makeCurrent()},multi:!0},{provide:se,useFactory:function pl(){return(0,c.RDi)(document),document},deps:[]}]),Sc=new c.OlP(""),Mc=[{provide:c.rWj,useClass:class vm{addToWindow(e){c.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const o=c.dqk.getAllAngularTestabilities();let u=o.length,d=!1;const m=function(_){d=d||_,u--,0==u&&r(d)};o.forEach(function(_){_.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],wo=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Zr(){return new c.qLn},deps:[]},{provide:ta,useClass:qd,multi:!0,deps:[se,c.R0b,c.Lbi]},{provide:ta,useClass:Tc,multi:!0,deps:[se]},{provide:sa,useClass:sa,deps:[dl,In,c.AFp,su]},{provide:c.FYo,useExisting:sa},{provide:go,useExisting:In},{provide:In,useClass:In,deps:[se]},{provide:dl,useClass:dl,deps:[ta,c.R0b]},{provide:class Wa{},useClass:cl,deps:[]},[]];let Io=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Ac,useExisting:c.AFp},ru]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Sc,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...wo,...Mc],imports:[Ga,c.hGG]}),n})(),Ks=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function xc(){return new Ks((0,c.LFG)(se))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Wt=L(8996),Js=L(7669);function lt(...n){const e=(0,Js.yG)(n);return(0,Wt.D)(n,e)}var es=L(7579);class hr extends es.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const du=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ts=L(9751);const{isArray:ns}=Array,{getPrototypeOf:Il,prototype:rs,keys:Nc}=Object;function da(n){if(1===n.length){const e=n[0];if(ns(e))return{args:e,keys:null};if(function ha(n){return n&&"object"==typeof n&&Il(n)===rs}(e)){const t=Nc(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Vi=L(4671),Dt=L(4004);const{isArray:fa}=Array;function D(n){return(0,Dt.U)(e=>function E(n,e){return fa(e)?n(...e):n(e)}(n,e))}function M(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var V=L(5403),W=L(9672);function te(...n){const e=(0,Js.yG)(n),t=(0,Js.jO)(n),{args:r,keys:o}=da(n);if(0===r.length)return(0,Wt.D)([],e);const u=new ts.y(function Oe(n,e,t=Vi.y){return r=>{rt(e,()=>{const{length:o}=n,u=new Array(o);let d=o,m=o;for(let _=0;_<o;_++)rt(e,()=>{const C=(0,Wt.D)(n[_],e);let T=!1;C.subscribe((0,V.x)(r,N=>{u[_]=N,T||(T=!0,m--),m||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>M(o,d):Vi.y));return t?u.pipe(D(t)):u}function rt(n,e,t){n?(0,W.f)(t,n,e):e()}var at=L(8189);function Zt(...n){return function vt(){return(0,at.J)(1)}()((0,Wt.D)(n,(0,Js.yG)(n)))}var Et=L(8421);function Mr(n){return new ts.y(e=>{(0,Et.Xf)(n()).subscribe(e)})}var wr=L(9635),eo=L(576);function Ss(n,e){const t=(0,eo.m)(n)?n:()=>n,r=o=>o.error(t());return new ts.y(e?o=>e.schedule(r,0,o):r)}var ei=L(515),xr=L(727),bn=L(4482);function Eo(){return(0,bn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,V.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Yd extends ts.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,bn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xr.w0;const t=this.getSubject();e.add(this.source.subscribe((0,V.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xr.w0.EMPTY)}return e}refCount(){return Eo()(this)}}function Or(n,e){return(0,bn.e)((t,r)=>{let o=null,u=0,d=!1;const m=()=>d&&!o&&r.complete();t.subscribe((0,V.x)(r,_=>{o?.unsubscribe();let C=0;const T=u++;(0,Et.Xf)(n(_,T)).subscribe(o=(0,V.x)(r,N=>r.next(e?e(_,N,T,C++):N),()=>{o=null,m()}))},()=>{d=!0,m()}))})}function pa(n){return n<=0?()=>ei.E:(0,bn.e)((e,t)=>{let r=0;e.subscribe((0,V.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function bl(...n){const e=(0,Js.yG)(n);return(0,bn.e)((t,r)=>{(e?Zt(n,t,e):Zt(n,t)).subscribe(r)})}function is(n,e){return(0,bn.e)((t,r)=>{let o=0;t.subscribe((0,V.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}var ti=L(5577);function ga(n){return(0,bn.e)((e,t)=>{let r=!1;e.subscribe((0,V.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function bm(n=Qd){return(0,bn.e)((e,t)=>{let r=!1;e.subscribe((0,V.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Qd(){return new du}function ss(n,e){const t=arguments.length>=2;return r=>r.pipe(n?is((o,u)=>n(o,u,r)):Vi.y,pa(1),t?ga(e):bm(()=>new du))}function hu(n,e){return(0,eo.m)(e)?(0,ti.z)(n,e,1):(0,ti.z)(n,1)}var ni=L(8505);function ma(n){return(0,bn.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,V.x)(t,void 0,void 0,d=>{u=(0,Et.Xf)(n(d,ma(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}function kc(n,e){return(0,bn.e)(function G_(n,e,t,r,o){return(u,d)=>{let m=t,_=e,C=0;u.subscribe((0,V.x)(d,T=>{const N=C++;_=m?n(_,T,N):(m=!0,T),r&&d.next(_)},o&&(()=>{m&&d.next(_),d.complete()})))}}(n,e,arguments.length>=2,!0))}function Xd(n){return n<=0?()=>ei.E:(0,bn.e)((e,t)=>{let r=[];e.subscribe((0,V.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Jd(n,e){const t=arguments.length>=2;return r=>r.pipe(n?is((o,u)=>n(o,u,r)):Vi.y,Xd(1),t?ga(e):bm(()=>new du))}function Fc(n){return(0,bn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ft="primary",hi=Symbol("RouteTitle");class Em{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ya(n){return new Em(n)}function Cm(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const d=r[u],m=n[u];if(d.startsWith(":"))o[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Ui(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!op(n[o],e[o]))return!1;return!0}function op(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function Lc(n){return Array.prototype.concat.apply([],n)}function ap(n){return n.length>0?n[n.length-1]:null}function Pr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function to(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Wt.D)(Promise.resolve(n)):lt(n)}const Rr=!1,Cl={exact:function va(n,e,t){if(!Do(n.segments,e.segments)||!Al(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!va(n.children[r],e.children[r],t))return!1;return!0},subset:Vc},th={exact:function Ir(n,e){return Ui(n,e)},subset:function Dl(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>op(n[t],e[t]))},ignored:()=>!0};function nh(n,e,t){return Cl[t.paths](n.root,e.root,t.matrixParams)&&th[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Vc(n,e,t){return rh(n,e,e.segments,t)}function rh(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Do(o,t)||e.hasChildren()||!Al(o,t,r))}if(n.segments.length===t.length){if(!Do(n.segments,t)||!Al(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Vc(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Do(n.segments,o)&&Al(n.segments,o,r)&&n.children[Ft])&&rh(n.children[Ft],e,u,r)}}function Al(n,e,t){return e.every((r,o)=>th[t](n[o].parameters,r.parameters))}class Co{constructor(e=new Kt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ya(this.queryParams)),this._queryParamMap}toString(){return p.serialize(this)}}class Kt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Pr(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return g(this)}}class Tl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ya(this.parameters)),this._parameterMap}toString(){return Ht(this)}}function Do(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let fu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new v},providedIn:"root"}),n})();class v{parse(e){const t=new Uc(e);return new Co(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${I(e.root,!0)}`,r=function Bi(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${k(t)}=${k(o)}`).join("&"):`${k(t)}=${k(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function X(n){return encodeURI(n)}(e.fragment)}`:""}`}}const p=new v;function g(n){return n.segments.map(e=>Ht(e)).join("/")}function I(n,e){if(!n.hasChildren())return g(n);if(e){const t=n.children[Ft]?I(n.children[Ft],!1):"",r=[];return Pr(n.children,(o,u)=>{u!==Ft&&r.push(`${u}:${I(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Dm(n,e){let t=[];return Pr(n.children,(r,o)=>{o===Ft&&(t=t.concat(e(r,o)))}),Pr(n.children,(r,o)=>{o!==Ft&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Ft?[I(n.children[Ft],!1)]:[`${o}:${I(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ft]?`${g(n)}/${t[0]}`:`${g(n)}/(${t.join("//")})`}}function S(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function k(n){return S(n).replace(/%3B/gi,";")}function Ce(n){return S(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function We(n){return decodeURIComponent(n)}function pt(n){return We(n.replace(/\+/g,"%20"))}function Ht(n){return`${Ce(n.path)}${function An(n){return Object.keys(n).map(e=>`;${Ce(e)}=${Ce(n[e])}`).join("")}(n.parameters)}`}const Ao=/^[^\/()?;=#]+/;function _a(n){const e=n.match(Ao);return e?e[0]:""}const lp=/^[^=?&#]+/,cp=/^[^&#]+/;class Uc{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kt([],{}):new Kt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ft]=new Kt(e,t)),r}parseSegment(){const e=_a(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,Rr);return this.capture(e),new Tl(We(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=_a(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=_a(this.remaining);o&&(r=o,this.capture(r))}e[We(t)]=We(r)}parseQueryParam(e){const t=function ih(n){const e=n.match(lp);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function dp(n){const e=n.match(cp);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=pt(t),u=pt(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=_a(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new c.vHH(4010,Rr);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Ft);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[Ft]:new Kt([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,Rr)}}function pu(n){return n.segments.length>0?new Kt([],{[Ft]:n}):n}function gu(n){const e={};for(const r of Object.keys(n.children)){const u=gu(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Sl(n){if(1===n.numberOfChildren&&n.children[Ft]){const e=n.children[Ft];return new Kt(n.segments.concat(e.segments),e.children)}return n}(new Kt(n.segments,e))}function To(n){return n instanceof Co}const sh=!1;function Z_(n,e,t,r,o){if(0===t.length)return lh(e.root,e.root,e.root,r,o);const u=function Am(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new q_(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Pr(u.outlets,(_,C)=>{m[C]="string"==typeof _?_.split("/"):_}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===d?(u.split("/").forEach((m,_)=>{0==_&&"."===m||(0==_&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new q_(t,e,r)}(t);return u.toRoot()?lh(e.root,e.root,new Kt([],{}),r,o):function d(_){const C=function Tm(n,e,t,r){if(n.isAbsolute)return new Ml(e.root,!0,0);if(-1===r)return new Ml(t,t===e.root,0);return function Sm(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new c.vHH(4005,sh&&"Invalid number of '../'");o=r.segments.length}return new Ml(r,!1,o-u)}(t,r+(Bc(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,_),T=C.processChildren?xl(C.segmentGroup,C.index,u.commands):jc(C.segmentGroup,C.index,u.commands);return lh(e.root,C.segmentGroup,T,r,o)}(n.snapshot?._lastPathIndex)}function Bc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function uh(n){return"object"==typeof n&&null!=n&&n.outlets}function lh(n,e,t,r,o){let d,u={};r&&Pr(r,(_,C)=>{u[C]=Array.isArray(_)?_.map(T=>`${T}`):`${_}`}),d=n===e?t:ch(n,e,t);const m=pu(gu(d));return new Co(m,u,o)}function ch(n,e,t){const r={};return Pr(n.children,(o,u)=>{r[u]=o===e?t:ch(o,e,t)}),new Kt(n.segments,r)}class q_{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Bc(r[0]))throw new c.vHH(4003,sh&&"Root segment cannot have matrix parameters");const o=r.find(uh);if(o&&o!==ap(r))throw new c.vHH(4004,sh&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ml{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function jc(n,e,t){if(n||(n=new Kt([],{})),0===n.segments.length&&n.hasChildren())return xl(n,e,t);const r=function Mm(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const d=n.segments[o],m=t[r];if(uh(m))break;const _=`${m}`,C=r<t.length-1?t[r+1]:null;if(o>0&&void 0===_)break;if(_&&C&&"object"==typeof C&&void 0===C.outlets){if(!K_(_,C,d))return u;r+=2}else{if(!K_(_,{},d))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Kt(n.segments.slice(0,r.pathIndex),{});return u.children[Ft]=new Kt(n.segments.slice(r.pathIndex),n.children),xl(u,0,o)}return r.match&&0===o.length?new Kt(n.segments,{}):r.match&&!n.hasChildren()?dh(n,e,t):r.match?xl(n,0,o):dh(n,e,t)}function xl(n,e,t){if(0===t.length)return new Kt(n.segments,{});{const r=function hp(n){return uh(n[0])?n[0].outlets:{[Ft]:n}}(t),o={};if(!r[Ft]&&n.children[Ft]&&1===n.numberOfChildren&&0===n.children[Ft].segments.length){const u=xl(n.children[Ft],e,t);return new Kt(n.segments,u.children)}return Pr(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[d]=jc(n.children[d],e,u))}),Pr(n.children,(u,d)=>{void 0===r[d]&&(o[d]=u)}),new Kt(n.segments,o)}}function dh(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(uh(u)){const _=xm(u.outlets);return new Kt(r,_)}if(0===o&&Bc(t[0])){r.push(new Tl(n.segments[e].path,$c(t[0]))),o++;continue}const d=uh(u)?u.outlets[Ft]:`${u}`,m=o<t.length-1?t[o+1]:null;d&&m&&Bc(m)?(r.push(new Tl(d,$c(m))),o+=2):(r.push(new Tl(d,{})),o++)}return new Kt(r,{})}function xm(n){const e={};return Pr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=dh(new Kt([],{}),0,t))}),e}function $c(n){const e={};return Pr(n,(t,r)=>e[r]=`${t}`),e}function K_(n,e,t){return n==t.path&&Ui(e,t.parameters)}const Hc="imperative";class So{constructor(e,t){this.id=e,this.url=t}}class Om extends So{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ol extends So{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hh extends So{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fh extends So{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class zc extends So{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Pm extends So{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gc extends So{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yE extends So{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vE extends So{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DS extends So{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _E{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rm{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wE{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Y_{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fp{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nm{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class km{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let J_=(()=>{class n{createUrlTree(t,r,o,u,d,m){return Z_(t||r.root,o,u,d,m)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),bE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){return J_.\u0275fac(e)},providedIn:"root"}),n})();class e0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Fm(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Fm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Lm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Lm(e,this._root).map(t=>t.value)}}function Fm(n,e){if(n===e.value)return e;for(const t of e.children){const r=Fm(n,t);if(r)return r}return null}function Lm(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Lm(n,t);if(r.length)return r.unshift(e),r}return[]}class fi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Mo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class t0 extends e0{constructor(e,t){super(e),this.snapshot=t,Vm(this,e)}toString(){return this.snapshot.toString()}}function EE(n,e){const t=function AS(n,e){const d=new gh([],{},{},"",{},Ft,e,null,n.root,-1,{});return new n0("",new fi(d,[]))}(n,e),r=new hr([new Tl("",{})]),o=new hr({}),u=new hr({}),d=new hr({}),m=new hr(""),_=new ph(r,o,d,m,u,Ft,e,t.root);return _.snapshot=t.root,new t0(new fi(_,[]),t)}class ph{constructor(e,t,r,o,u,d,m,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=m,this.title=this.data?.pipe((0,Dt.U)(C=>C[hi]))??lt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Dt.U)(e=>ya(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Dt.U)(e=>ya(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function CE(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function TS(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class gh{get title(){return this.data?.[hi]}constructor(e,t,r,o,u,d,m,_,C,T,N){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=m,this.routeConfig=_,this._urlSegment=C,this._lastPathIndex=T,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ya(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ya(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class n0 extends e0{constructor(e,t){super(t),this.url=e,Vm(this,t)}toString(){return r0(this._root)}}function Vm(n,e){e.value._routerState=n,e.children.forEach(t=>Vm(n,t))}function r0(n){const e=n.children.length>0?` { ${n.children.map(r0).join(", ")} } `:"";return`${n.value}${e}`}function Um(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ui(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ui(e.params,t.params)||n.params.next(t.params),function sp(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ui(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ui(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function mh(n,e){const t=Ui(n.params,e.params)&&function up(n,e){return Do(n,e)&&n.every((t,r)=>Ui(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||mh(n.parent,e.parent))}function Ia(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function s0(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Ia(n,r,o);return Ia(n,r)})}(n,e,t);return new fi(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>Ia(n,m)),d}}const r=function o0(n){return new ph(new hr(n.url),new hr(n.params),new hr(n.queryParams),new hr(n.fragment),new hr(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>Ia(n,u));return new fi(r,o)}}const pp="ngNavigationCancelingError";function DE(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=To(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=AE(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function AE(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[pp]=!0,r.cancellationCode=e,t&&(r.url=t),r}function TE(n){return gp(n)&&To(n.url)}function gp(n){return n&&n[pp]}class Bm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new mp,this.attachRef=null}}let mp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Bm,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jm=!1;let $m=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ft,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(mp),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,jm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,jm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,jm);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new c.vHH(4013,jm);this._activatedRoute=t;const o=this.location,d=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,_=new SE(t,m,o.injector);if(r&&function ME(n){return!!n.resolveComponentFactory}(r)){const C=r.resolveComponentFactory(d);this.activated=o.createComponent(C,o.length,_)}else this.activated=o.createComponent(d,{index:o.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),n})();class SE{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ph?this.route:e===mp?this.childContexts:this.parent.get(e,t)}}let Hm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[$m],encapsulation:2}),n})();function a0(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function yh(n){const e=n.children&&n.children.map(yh),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ft&&(t.component=Hm),t}function os(n){return n.outlet||Ft}function c0(n,e){const t=n.filter(r=>os(r)===e);return t.push(...n.filter(r=>os(r)!==e)),t}function vh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class RE{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Um(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Mo(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,o[d],r),delete o[d]}),Pr(o,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Mo(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Mo(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Mo(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new Nm(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Y_(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(Um(o),o===u)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),Um(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=vh(o.snapshot),_=m?.get(c._Vd)??null;d.attachRef=null,d.route=o,d.resolver=_,d.injector=m,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Zm{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class qm{constructor(e,t){this.component=e,this.route=t}}function MS(n,e,t){const r=n._root;return Zc(r,e?e._root:null,t,[r.value])}function yu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:r}function Zc(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Mo(e);return n.children.forEach(d=>{(function d0(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const _=function h0(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Do(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Do(n.url,e.url)||!Ui(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mh(n,e)||!Ui(n.queryParams,e.queryParams);default:return!mh(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);_?o.canActivateChecks.push(new Zm(r)):(u.data=d.data,u._resolvedData=d._resolvedData),Zc(n,e,u.component?m?m.children:null:t,r,o),_&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new qm(m.outlet.component,d))}else d&&yp(e,m,o),o.canActivateChecks.push(new Zm(r)),Zc(n,null,u.component?m?m.children:null:t,r,o)})(d,u[d.value.outlet],t,r.concat([d.value]),o),delete u[d.value.outlet]}),Pr(u,(d,m)=>yp(d,t.getContext(m),o)),o}function yp(n,e,t){const r=Mo(n),o=n.value;Pr(r,(u,d)=>{yp(u,o.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new qm(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function wh(n){return"function"==typeof n}function vp(n){return n instanceof du||"EmptyError"===n?.name}const xo=Symbol("INITIAL_VALUE");function qc(){return Or(n=>te(n.map(e=>e.pipe(pa(1),bl(xo)))).pipe((0,Dt.U)(e=>{for(const t of e)if(!0!==t){if(t===xo)return xo;if(!1===t||t instanceof Co)return t}return!0}),is(e=>e!==xo),pa(1)))}function v0(n){return(0,wr.z)((0,ni.b)(e=>{if(To(e))throw DE(0,e)}),(0,Dt.U)(e=>!0===e))}const vu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function w0(n,e,t,r,o){const u=Jm(n,e,t);return u.matched?function _0(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?lt(o.map(d=>{const m=yu(d,n);return to(function NE(n){return n&&wh(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))})).pipe(qc(),v0()):lt(!0)}(r=a0(e,r),e,t).pipe((0,Dt.U)(d=>!0===d?u:{...vu})):lt(u)}function Jm(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...vu}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||Cm)(t,n,e);if(!o)return{...vu};const u={};Pr(o.posParams,(m,_)=>{u[_]=m.path});const d=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function Ip(n,e,t,r){if(t.length>0&&function I0(n,e,t){return t.some(r=>Ih(n,e,r)&&os(r)!==Ft)}(n,t,r)){const u=new Kt(e,function LE(n,e,t,r){const o={};o[Ft]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&os(u)!==Ft){const d=new Kt([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,o[os(u)]=d}return o}(n,e,r,new Kt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function VE(n,e,t){return t.some(r=>Ih(n,e,r))}(n,t,r)){const u=new Kt(n.segments,function ey(n,e,t,r,o){const u={};for(const d of r)if(Ih(n,t,d)&&!o[os(d)]){const m=new Kt([],{});m._sourceSegment=n,m._segmentIndexShift=e.length,u[os(d)]=m}return{...o,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const o=new Kt(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function Ih(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function UE(n,e,t,r){return!!(os(n)===r||r!==Ft&&Ih(e,t,n))&&("**"===n.path||Jm(e,n,t).matched)}function b0(n,e,t){return 0===e.length&&!n.children[t]}const _u=!1;class bp{constructor(e){this.segmentGroup=e||null}}class Rl{constructor(e){this.urlTree=e}}function ba(n){return Ss(new bp(n))}function E0(n){return Ss(new Rl(n))}class $E{constructor(e,t,r,o,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0}apply(){const e=Ip(this.urlTree.root,[],[],this.config).segmentGroup,t=new Kt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ft).pipe((0,Dt.U)(u=>this.createUrlTree(gu(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ma(u=>{if(u instanceof Rl)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof bp?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ft).pipe((0,Dt.U)(o=>this.createUrlTree(gu(o),e.queryParams,e.fragment))).pipe(ma(o=>{throw o instanceof bp?this.noMatchError(o):o}))}noMatchError(e){return new c.vHH(4002,_u)}createUrlTree(e,t,r){const o=pu(e);return new Co(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Dt.U)(u=>new Kt([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,Wt.D)(o).pipe(hu(u=>{const d=r.children[u],m=c0(t,u);return this.expandSegmentGroup(e,m,d,u).pipe((0,Dt.U)(_=>({segment:_,outlet:u})))}),kc((u,d)=>(u[d.outlet]=d.segment,u),{}),Jd())}expandSegment(e,t,r,o,u,d){return(0,Wt.D)(r).pipe(hu(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,u,d).pipe(ma(C=>{if(C instanceof bp)return lt(null);throw C}))),ss(m=>!!m),ma((m,_)=>{if(vp(m))return b0(t,o,u)?lt(new Kt([],{})):ba(t);throw m}))}expandSegmentAgainstRoute(e,t,r,o,u,d,m){return UE(o,t,u,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d):ba(t):ba(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?E0(u):this.lineralizeSegments(r,u).pipe((0,ti.z)(d=>{const m=new Kt(d,{});return this.expandSegment(e,m,t,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){const{matched:m,consumedSegments:_,remainingSegments:C,positionalParamSegments:T}=Jm(t,o,u);if(!m)return ba(t);const N=this.applyRedirectCommands(_,o.redirectTo,T);return o.redirectTo.startsWith("/")?E0(N):this.lineralizeSegments(o,N).pipe((0,ti.z)(G=>this.expandSegment(e,t,r,G.concat(C),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){return"**"===r.path?(e=a0(r,e),r.loadChildren?(r._loadedRoutes?lt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Dt.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new Kt(o,{})))):lt(new Kt(o,{}))):w0(t,r,o,e).pipe(Or(({matched:d,consumedSegments:m,remainingSegments:_})=>d?this.getChildConfig(e=r._injector??e,r,o).pipe((0,ti.z)(T=>{const N=T.injector??e,G=T.routes,{segmentGroup:J,slicedSegments:ge}=Ip(t,m,_,G),Le=new Kt(J.segments,J.children);if(0===ge.length&&Le.hasChildren())return this.expandChildren(N,G,Le).pipe((0,Dt.U)(Nt=>new Kt(m,Nt)));if(0===G.length&&0===ge.length)return lt(new Kt(m,{}));const ze=os(r)===u;return this.expandSegment(N,Le,G,ge,ze?Ft:u,!0).pipe((0,Dt.U)(Qt=>new Kt(m.concat(Qt.segments),Qt.children)))})):ba(t)))}getChildConfig(e,t,r){return t.children?lt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?lt({routes:t._loadedRoutes,injector:t._loadedInjector}):function FE(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?lt(!0):lt(o.map(d=>{const m=yu(d,n);return to(function p0(n){return n&&wh(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))})).pipe(qc(),v0())}(e,t,r).pipe((0,ti.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,ni.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function BE(n){return Ss(AE(_u,3))}())):lt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return lt(r);if(o.numberOfChildren>1||!o.children[Ft])return e.redirectTo,Ss(new c.vHH(4e3,_u));o=o.children[Ft]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new Co(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Pr(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[u]=t[m]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let d={};return Pr(t.children,(m,_)=>{d[_]=this.createSegmentGroup(e,m,r,o)}),new Kt(u,d)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new c.vHH(4001,_u);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class ny{}class iy{constructor(e,t,r,o,u,d,m){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=d,this.urlSerializer=m}recognize(){const e=Ip(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ft).pipe((0,Dt.U)(t=>{if(null===t)return null;const r=new gh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new fi(r,t),u=new n0(this.url,o);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=CE(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return(0,Wt.D)(Object.keys(r.children)).pipe(hu(o=>{const u=r.children[o],d=c0(t,o);return this.processSegmentGroup(e,d,u,o)}),kc((o,u)=>o&&u?(o.push(...u),o):null),function El(n,e=!1){return(0,bn.e)((t,r)=>{let o=0;t.subscribe((0,V.x)(r,u=>{const d=n(u,o++);(d||e)&&r.next(u),!d&&r.complete()}))})}(o=>null!==o),ga(null),Jd(),(0,Dt.U)(o=>{if(null===o)return null;const u=A0(o);return function bh(n){n.sort((e,t)=>e.value.outlet===Ft?-1:t.value.outlet===Ft?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,o,u){return(0,Wt.D)(t).pipe(hu(d=>this.processSegmentAgainstRoute(d._injector??e,d,r,o,u)),ss(d=>!!d),ma(d=>{if(vp(d))return b0(r,o,u)?lt([]):lt(null);throw d}))}processSegmentAgainstRoute(e,t,r,o,u){if(t.redirectTo||!UE(t,r,o,u))return lt(null);let d;if("**"===t.path){const m=o.length>0?ap(o).parameters:{},_=S0(r)+o.length;d=lt({snapshot:new gh(o,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Nl(t),os(t),t.component??t._loadedComponent??null,t,T0(r),_,Oo(t)),consumedSegments:[],remainingSegments:[]})}else d=w0(r,t,o,e).pipe((0,Dt.U)(({matched:m,consumedSegments:_,remainingSegments:C,parameters:T})=>{if(!m)return null;const N=S0(r)+_.length;return{snapshot:new gh(_,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Nl(t),os(t),t.component??t._loadedComponent??null,t,T0(r),N,Oo(t)),consumedSegments:_,remainingSegments:C}}));return d.pipe(Or(m=>{if(null===m)return lt(null);const{snapshot:_,consumedSegments:C,remainingSegments:T}=m;e=t._injector??e;const N=t._loadedInjector??e,G=function zE(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:J,slicedSegments:ge}=Ip(r,C,T,G.filter(ze=>void 0===ze.redirectTo));if(0===ge.length&&J.hasChildren())return this.processChildren(N,G,J).pipe((0,Dt.U)(ze=>null===ze?null:[new fi(_,ze)]));if(0===G.length&&0===ge.length)return lt([new fi(_,[])]);const Le=os(t)===u;return this.processSegment(N,G,J,ge,Le?Ft:u).pipe((0,Dt.U)(ze=>null===ze?null:[new fi(_,ze)]))}))}}function GE(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function A0(n){const e=[],t=new Set;for(const r of n){if(!GE(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=A0(r.children);e.push(new fi(r.value,o))}return e.filter(r=>!t.has(r))}function T0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function S0(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Nl(n){return n.data||{}}function Oo(n){return n.resolve||{}}function sy(n){return"string"==typeof n.title||null===n.title}function Ep(n){return Or(e=>{const t=n(e);return t?(0,Wt.D)(t).pipe((0,Dt.U)(()=>e)):lt(e)})}const kl=new c.OlP("ROUTES");let oy=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return lt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=to(t.loadComponent()).pipe((0,Dt.U)(Ms),(0,ni.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Fc(()=>{this.componentLoaders.delete(t)})),o=new Yd(r,()=>new es.x).pipe(Eo());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return lt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Dt.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,C,T=!1;Array.isArray(m)?C=m:(_=m.create(t).injector,C=Lc(_.get(kl,[],c.XFs.Self|c.XFs.Optional)));return{routes:C.map(yh),injector:_}}),Fc(()=>{this.childrenLoaders.delete(r)})),d=new Yd(u,()=>new es.x).pipe(Eo());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return to(t()).pipe((0,Dt.U)(Ms),(0,ti.z)(r=>r instanceof c.YKP||Array.isArray(r)?lt(r):(0,Wt.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ms(n){return function KE(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Eh=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new es.x,this.configLoader=(0,c.f3M)(oy),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(fu),this.rootContexts=(0,c.f3M)(mp),this.navigationId=0,this.afterPreactivation=()=>lt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new Rm(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new _E(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new hr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Hc,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(is(r=>0!==r.id),(0,Dt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Or(r=>{let o=!1,u=!1;return lt(r).pipe((0,ni.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Or(d=>{const m=t.browserUrlTree.toString(),_=!t.navigated||d.extractedUrl.toString()!==m||m!==t.currentUrlTree.toString();if(!_&&"reload"!==(d.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const T="";return this.events.next(new fh(d.id,t.serializeUrl(r.rawUrl),T,0)),t.rawUrlTree=d.rawUrl,d.resolve(null),ei.E}if(t.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return O0(d.source)&&(t.browserUrlTree=d.extractedUrl),lt(d).pipe(Or(T=>{const N=this.transitions?.getValue();return this.events.next(new Om(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),N!==this.transitions?.getValue()?ei.E:Promise.resolve(T)}),function D0(n,e,t,r){return Or(o=>function jE(n,e,t,r,o){return new $E(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,Dt.U)(u=>({...o,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,ni.b)(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},r.urlAfterRedirects=T.urlAfterRedirects}),function qE(n,e,t,r,o){return(0,ti.z)(u=>function HE(n,e,t,r,o,u,d="emptyOnly"){return new iy(n,e,t,r,o,d,u).recognize().pipe(Or(m=>null===m?function ry(n){return new ts.y(e=>e.error(n))}(new ny):lt(m)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,o).pipe((0,Dt.U)(d=>({...u,targetSnapshot:d}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,ni.b)(T=>{if(r.targetSnapshot=T.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!T.extras.skipLocationChange){const G=t.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);t.setBrowserUrl(G,T)}t.browserUrlTree=T.urlAfterRedirects}const N=new Pm(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(N)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:T,extractedUrl:N,source:G,restoredState:J,extras:ge}=d,Le=new Om(T,this.urlSerializer.serialize(N),G,J);this.events.next(Le);const ze=EE(N,this.rootComponentType).snapshot;return lt(r={...d,targetSnapshot:ze,urlAfterRedirects:N,extras:{...ge,skipLocationChange:!1,replaceUrl:!1}})}{const T="";return this.events.next(new fh(d.id,t.serializeUrl(r.extractedUrl),T,1)),t.rawUrlTree=d.rawUrl,d.resolve(null),ei.E}}),(0,ni.b)(d=>{const m=new Gc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}),(0,Dt.U)(d=>r={...d,guards:MS(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function Ym(n,e){return(0,ti.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?lt({...t,guardsResult:!0}):function _p(n,e,t,r){return(0,Wt.D)(n).pipe((0,ti.z)(o=>function Xm(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?lt(u.map(m=>{const _=vh(e)??o,C=yu(m,_);return to(function Km(n){return n&&wh(n.canDeactivate)}(C)?C.canDeactivate(n,e,t,r):_.runInContext(()=>C(n,e,t,r))).pipe(ss())})).pipe(qc()):lt(!0)}(o.component,o.route,t,e,r)),ss(o=>!0!==o,!0))}(d,r,o,n).pipe((0,ti.z)(m=>m&&function f0(n){return"boolean"==typeof n}(m)?function kE(n,e,t,r){return(0,Wt.D)(e).pipe(hu(o=>Zt(function wp(n,e){return null!==n&&e&&e(new wE(n)),lt(!0)}(o.route.parent,r),function Qm(n,e){return null!==n&&e&&e(new fp(n)),lt(!0)}(o.route,r),function y0(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function _h(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Mr(()=>lt(d.guards.map(_=>{const C=vh(d.node)??t,T=yu(_,C);return to(function xS(n){return n&&wh(n.canActivateChild)}(T)?T.canActivateChild(r,n):C.runInContext(()=>T(r,n))).pipe(ss())})).pipe(qc())));return lt(u).pipe(qc())}(n,o.path,t),function Pl(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return lt(!0);const o=r.map(u=>Mr(()=>{const d=vh(e)??t,m=yu(u,d);return to(function Wm(n){return n&&wh(n.canActivate)}(m)?m.canActivate(e,n):d.runInContext(()=>m(e,n))).pipe(ss())}));return lt(o).pipe(qc())}(n,o.route,t))),ss(o=>!0!==o,!0))}(r,u,n,e):lt(m)),(0,Dt.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,d=>this.events.next(d)),(0,ni.b)(d=>{if(r.guardsResult=d.guardsResult,To(d.guardsResult))throw DE(0,d.guardsResult);const m=new yE(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(m)}),is(d=>!!d.guardsResult||(t.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),Ep(d=>{if(d.guards.canActivateChecks.length)return lt(d).pipe((0,ni.b)(m=>{const _=new vE(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}),Or(m=>{let _=!1;return lt(m).pipe(function WE(n,e){return(0,ti.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return lt(t);let u=0;return(0,Wt.D)(o).pipe(hu(d=>function PS(n,e,t,r){const o=n.routeConfig,u=n._resolve;return void 0!==o?.title&&!sy(o)&&(u[hi]=o.title),function RS(n,e,t,r){const o=function M0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return lt({});const u={};return(0,Wt.D)(o).pipe((0,ti.z)(d=>function NS(n,e,t,r){const o=vh(e)??r,u=yu(n,o);return to(u.resolve?u.resolve(e,t):o.runInContext(()=>u(e,t)))}(n[d],e,t,r).pipe(ss(),(0,ni.b)(m=>{u[d]=m}))),Xd(1),function ip(n){return(0,Dt.U)(()=>n)}(u),ma(d=>vp(d)?ei.E:Ss(d)))}(u,n,e,r).pipe((0,Dt.U)(d=>(n._resolvedData=d,n.data=CE(n,t).resolve,o&&sy(o)&&(n.data[hi]=o.title),null)))}(d.route,r,n,e)),(0,ni.b)(()=>u++),Xd(1),(0,ti.z)(d=>u===o.length?lt(t):ei.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,ni.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,ni.b)(m=>{const _=new DS(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}))}),Ep(d=>{const m=_=>{const C=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&C.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,ni.b)(T=>{_.component=T}),(0,Dt.U)(()=>{})));for(const T of _.children)C.push(...m(T));return C};return te(m(d.targetSnapshot.root)).pipe(ga(),pa(1))}),Ep(()=>this.afterPreactivation()),(0,Dt.U)(d=>{const m=function wa(n,e,t){const r=Ia(n,e._root,t?t._root:void 0);return new t0(r,e)}(t.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:m}}),(0,ni.b)(d=>{t.currentUrlTree=d.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),t.routerState=d.targetRouterState,"deferred"===t.urlUpdateStrategy&&(d.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,d),t.browserUrlTree=d.urlAfterRedirects)}),((n,e,t)=>(0,Dt.U)(r=>(new RE(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,d=>this.events.next(d)),pa(1),(0,ni.b)({next:d=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ol(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{o=!0}}),Fc(()=>{o||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ma(d=>{if(u=!0,gp(d)){TE(d)||(t.navigated=!0,t.restoreHistory(r,!0));const m=new hh(r.id,this.urlSerializer.serialize(r.extractedUrl),d.message,d.cancellationCode);if(this.events.next(m),TE(d)){const _=t.urlHandlingStrategy.merge(d.url,t.rawUrlTree),C={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||O0(r.source)};t.scheduleNavigation(_,Hc,null,C,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const m=new zc(r.id,this.urlSerializer.serialize(r.extractedUrl),d,r.targetSnapshot??void 0);this.events.next(m);try{r.resolve(t.errorHandler(d))}catch(_){r.reject(_)}}return ei.E}))}))}cancelNavigationTransition(t,r,o){const u=new hh(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function O0(n){return n!==Hc}let P0=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===Ft);return r}getResolvedTitleForRoute(t){return t.data[hi]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(YE)},providedIn:"root"}),n})(),YE=(()=>{class n extends P0{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ks))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(XE)},providedIn:"root"}),n})();class R0{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let XE=(()=>{class n extends R0{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dp=new c.OlP("",{providedIn:"root",factory:()=>({})});let zt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(N0)},providedIn:"root"}),n})(),N0=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function k0(n){throw n}function eC(n,e,t){return e.parse("/")}const tC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},F0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let as=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(Dp,{optional:!0})||{},this.errorHandler=this.options.errorHandler||k0,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||eC,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(zt),this.routeReuseStrategy=(0,c.f3M)(QE),this.urlCreationStrategy=(0,c.f3M)(bE),this.titleStrategy=(0,c.f3M)(P0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Lc((0,c.f3M)(kl,{optional:!0})??[]),this.navigationTransitions=(0,c.f3M)(Eh),this.urlSerializer=(0,c.f3M)(fu),this.location=(0,c.f3M)(Pe),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Co,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=EE(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Hc,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const u={replaceUrl:!0},d=o?.navigationId?o:null;if(o){const _={...o};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(u.state=_)}const m=this.parseUrl(t);this.scheduleNavigation(m,r,d,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(yh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:d,queryParamsHandling:m,preserveFragment:_}=r,C=_?this.currentUrlTree.fragment:d;let T=null;switch(m){case"merge":T={...this.currentUrlTree.queryParams,...u};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=u||null}return null!==T&&(T=this.removeEmptyProps(T)),this.urlCreationStrategy.createUrlTree(o,this.routerState,this.currentUrlTree,t,T,C??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=To(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,Hc,null,r)}navigate(t,r={skipLocationChange:!1}){return function L0(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new c.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...tC}:!1===r?{...F0}:r,To(t))return nh(this.currentUrlTree,t,o);const u=this.parseUrl(t);return nh(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}scheduleNavigation(t,r,o,u,d){if(this.disposed)return Promise.resolve(!1);let m,_,C,T;return d?(m=d.resolve,_=d.reject,C=d.promise):C=new Promise((N,G)=>{m=N,_=G}),T="computed"===this.canceledNavigationResolution?o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:T,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:m,reject:_,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(N=>Promise.reject(N))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===o?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class uy{}let iC=(()=>{class n{constructor(t,r,o,u,d){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(is(t=>t instanceof Ol),hu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,c.MMx)(u.providers,t,`Route: ${u.path}`));const d=u._injector??t,m=u._loadedInjector??d;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(d,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,Wt.D)(o).pipe((0,at.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):lt(null);const u=o.pipe((0,ti.z)(d=>null===d?lt(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,Wt.D)([u,d]).pipe((0,at.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(as),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(uy),c.LFG(oy))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ch=new c.OlP("");let Tp=(()=>{class n{constructor(t,r,o,u,d={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=u,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Om?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ol&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof km&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new km(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();var us=(()=>((us=us||{})[us.COMPLETE=0]="COMPLETE",us[us.FAILED=1]="FAILED",us[us.REDIRECTING=2]="REDIRECTING",us))();const Dh=!1;function Ea(n,e){return{\u0275kind:n,\u0275providers:e}}const U0=new c.OlP("",{providedIn:"root",factory:()=>!1});function ly(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const r=n.get(as),o=n.get(Th);1===n.get(cy)&&r.initialNavigation(),n.get(j0,null,c.XFs.Optional)?.setUpPreloading(),n.get(Ch,null,c.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const Th=new c.OlP(Dh?"bootstrap done indicator":"",{factory:()=>new es.x}),cy=new c.OlP(Dh?"initial navigation":"",{providedIn:"root",factory:()=>1});function aC(){let n=[];return n=Dh?[{provide:c.Xts,multi:!0,useFactory:()=>{const e=(0,c.f3M)(as);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Q_(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Ea(1,n)}const j0=new c.OlP(Dh?"router preloader":"");function uC(n){return Ea(0,[{provide:j0,useExisting:iC},{provide:uy,useExisting:n}])}const Kc=!1,Sp=new c.OlP(Kc?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),BS=[Pe,{provide:fu,useClass:v},as,mp,{provide:ph,useFactory:function V0(n){return n.routerState.root},deps:[as]},oy,Kc?{provide:U0,useValue:!0}:[]];function dy(){return new c.PXZ("Router",as)}let $0=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[BS,Kc&&r?.enableTracing?aC().\u0275providers:[],{provide:kl,multi:!0,useValue:t},{provide:Sp,useFactory:dC,deps:[[as,new c.FiY,new c.tp0]]},{provide:Dp,useValue:r||{}},r?.useHash?{provide:ot,useClass:we}:{provide:ot,useClass:Ie},{provide:Ch,useFactory:()=>{const n=(0,c.f3M)(js),e=(0,c.f3M)(c.R0b),t=(0,c.f3M)(Dp),r=(0,c.f3M)(Eh),o=(0,c.f3M)(fu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Tp(o,r,n,e,t)}},r?.preloadingStrategy?uC(r.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:dy},r?.initialNavigation?z0(r):[],[{provide:G0,useFactory:ly},{provide:c.tb,multi:!0,useExisting:G0}]]}}static forChild(t){return{ngModule:n,providers:[{provide:kl,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Sp,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Hm]}),n})();function dC(n){if(Kc&&n)throw new c.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function z0(n){return["disabled"===n.initialNavigation?Ea(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(as);return()=>{e.setUpLocationChangeListener()}}},{provide:cy,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ea(2,[{provide:cy,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(de,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=e.get(as),u=e.get(Th);(function FS(n,e){n.events.pipe(is(t=>t instanceof Ol||t instanceof hh||t instanceof zc||t instanceof fh),(0,Dt.U)(t=>t instanceof Ol||t instanceof fh?us.COMPLETE:t instanceof hh&&(0===t.code||1===t.code)?us.REDIRECTING:us.FAILED),is(t=>t!==us.REDIRECTING),pa(1)).subscribe(()=>{e()})})(o,()=>{r(!0)}),e.get(Eh).afterPreactivation=()=>(r(!0),u.closed?lt(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const G0=new c.OlP(Kc?"Router Initializer":""),Qc=[];let fy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[$0.forRoot(Qc),$0]}),n})(),Sh=(()=>{class n{ngOnInit(){const t=document.querySelector(".primary-navigation"),r=document.querySelector(".mobile-nav-toggle");console.log(t),r.addEventListener("click",()=>{const o=t.getAttribute("data-visible");console.log("visibility: "+o),"false"===o?(t.setAttribute("data-visible","true"),r.setAttribute("aria-expanded","true")):(t.setAttribute("data-visible","false"),r.setAttribute("aria-expanded","false"))})}scrollTo(t){document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-navbar"]],decls:63,vars:0,consts:[[1,"primary-header"],["href","#",1,"logo"],["src","./../../../../assets/srep_logo2.svg"],[1,"primary-naviation-container"],["aria-controls","primary-navigation",1,"mobile-nav-toggle"],["aria-expanded","false",1,"sr-only"],["id","primary-navigation",1,"primary-navigation"],[1,"navbar_item"],[1,"nav-link","internal",3,"click"],["data-target",".bd-FAQ-modal-lg","data-toggle","modal","href","#",1,"nav-link","internal"],["data-target",".bd-example-modal-lg","data-toggle","modal",1,"nav-link","internal"],[1,"mobileMediaText"],["href","mailto:seattlerealestatephoto@gmail.com",1,"nav-link",2,"color","#000000"],["src","../../assets/email.svg"],["href","http://www.instagram.com/seattlerealestatephoto",1,"nav-link",2,"color","#000000"],["src","../../assets/ig.svg"],["href","http://www.facebook.com/monkifoto",1,"nav-link",2,"color","#000000"],["src","../../assets/fb.svg"],["href","https://www.youtube.com/channel/UCqT0likujRE4LjRimlbhxfg",1,"nav-link",2,"color","#000000"],["src","../../assets/youtube.svg"]],template:function(t,r){1&t&&(c.TgZ(0,"header",0)(1,"a",1),c._UZ(2,"img",2),c.qZA(),c.TgZ(3,"div",3)(4,"nav")(5,"button",4)(6,"span",5),c._uU(7,"Menu"),c.qZA()(),c.TgZ(8,"ul",6)(9,"li",7)(10,"a",8),c.NdJ("click",function(){return r.scrollTo("about")}),c._uU(11,"HOME"),c.qZA()(),c.TgZ(12,"li",7)(13,"a",8),c.NdJ("click",function(){return r.scrollTo("portfolio")}),c._uU(14,"PHOTOS"),c.qZA()(),c.TgZ(15,"li",7)(16,"a",8),c.NdJ("click",function(){return r.scrollTo("matterport")}),c._uU(17,"3D TOURS"),c.qZA()(),c.TgZ(18,"li",7)(19,"a",8),c.NdJ("click",function(){return r.scrollTo("aerial")}),c._uU(20,"AERIAL"),c.qZA()(),c.TgZ(21,"li",7)(22,"a",8),c.NdJ("click",function(){return r.scrollTo("video")}),c._uU(23,"VIDEO"),c.qZA()(),c.TgZ(24,"li",7)(25,"a",8),c.NdJ("click",function(){return r.scrollTo("floorplan")}),c._uU(26,"FLOOR PLAN"),c.qZA()(),c.TgZ(27,"li",7)(28,"a",8),c.NdJ("click",function(){return r.scrollTo("staging")}),c._uU(29,"VIRTUAL STAGING"),c.qZA()(),c.TgZ(30,"li",7)(31,"a",8),c.NdJ("click",function(){return r.scrollTo("estimator")}),c._uU(32,"BOOK NOW"),c.qZA()(),c.TgZ(33,"li",7)(34,"a",8),c.NdJ("click",function(){return r.scrollTo("contact")}),c._uU(35,"CONTACT"),c.qZA()(),c.TgZ(36,"li",7)(37,"a",9),c._uU(38,"FAQ"),c.qZA()(),c.TgZ(39,"li",7)(40,"a",10)(41,"span",11),c._uU(42,"HDR vs Flambient"),c.qZA()()(),c.TgZ(43,"li",7)(44,"a",12),c._UZ(45,"img",13),c.TgZ(46,"span",11),c._uU(47,"EMAIL"),c.qZA()()(),c.TgZ(48,"li",7)(49,"a",14),c._UZ(50,"img",15),c.TgZ(51,"span",11),c._uU(52,"INSTAGRAM"),c.qZA()()(),c.TgZ(53,"li",7)(54,"a",16),c._UZ(55,"img",17),c.TgZ(56,"span",11),c._uU(57,"FACEBOOK"),c.qZA()()(),c.TgZ(58,"li",7)(59,"a",18),c._UZ(60,"img",19),c.TgZ(61,"span",11),c._uU(62,"YOUTUBE"),c.qZA()()()()()()())},styles:[".logo[_ngcontent-%COMP%]{padding-left:2rem;margin:1.5rem clamp(2.5rem,4vw,3.5rem);width:300px}.active[_ngcontent-%COMP%]{cursor:pointer;padding:var(--underline-gap, .5rem) 0;border:0;border-bottom:.2rem solid hsl(var(--clr-dark)/.5)}.primary-header[_ngcontent-%COMP%]{position:fixed;background-color:hsl(var(--clr-light));display:flex;flex:1;justify-content:space-between;align-items:center;width:100%;box-shadow:5px 5px 3px #333;z-index:3000}nav[_ngcontent-%COMP%]{padding-inline:3rem;font-family:var(--ff-Montserrat)}.primary-navigation[_ngcontent-%COMP%]{display:flex;font-weight:700;--gap: clamp(.5rem, 1vw, 1rem);gap:var(--gap);width:100%;height:3.5rem;align-items:center;list-style:none;padding:0;margin:0;z-index:1000}.primary-navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:var(--ff-Montserrat);text-decoration:none;text-transform:uppercase;color:hsl(var(--clr-dark));font-weight:700;cursor:pointer}li[_ngcontent-%COMP%]{margin-left:8px;margin-right:8px}.buttons[_ngcontent-%COMP%]{padding:5px 10px!important;font-size:15px;max-width:250px!important;font-weight:700!important}.page-padding[_ngcontent-%COMP%]{height:40px;width:100%}a[_ngcontent-%COMP%]{color:#000;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.mobileMediaText[_ngcontent-%COMP%]{display:none}.nav-link[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.5rem}.mobile-nav-toggle[_ngcontent-%COMP%]{display:none}@media (max-width: 35rem){.primary-navigation[_ngcontent-%COMP%]{--underline-gap: .5rem;position:fixed;align-items:unset;z-index:1000;inset:0 0 0 30%;padding:min(20rem,15vh) 2rem;margin:0;flex-direction:column;transform:translate(100%);transition:transform .5s ease-in-out;border-radius:0;background:hsl(var(--clr-white)/.25);-webkit-backdrop-filter:blur(1.5rem);backdrop-filter:blur(1.5rem);height:100%}.navigationprimary-[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:hsl(var(--clr-dark));text-decoration:none}.primary-navigation[data-visible=true][_ngcontent-%COMP%]{transform:translate(0)}.mobile-nav-toggle[_ngcontent-%COMP%]{display:block;position:absolute;z-index:2000;right:1rem;top:1.5rem;color:var(--foreground);background:transparent;background-image:url(icon-hamburger.ef2b7749eccd4304.svg);background-repeat:no-repeat;width:1.5rem;aspect-ratio:1;border:0}.mobile-nav-toggle[aria-expanded=true][_ngcontent-%COMP%]{background-image:url(icon-close.c3442543958d2f04.svg)}.mobile-nav-toggle[_ngcontent-%COMP%]:focus-visible{outline:5px solid red;outline-offset:5px}.primary-navigation.underline-indicators[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%]{border:0}nav[_ngcontent-%COMP%]{border-radius:0;background-color:#fff;padding-inline:0;display:flex;flex-wrap:wrap}.primary-header[_ngcontent-%COMP%]{display:flex;justify-content:left}.logo[_ngcontent-%COMP%]{all:unset;padding:.5rem;width:200px}li[_ngcontent-%COMP%]{margin-top:.5rem}.mobileMediaText[_ngcontent-%COMP%]{display:inline}}"]}),n})(),py=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-footer"]],decls:75,vars:0,consts:[["id","contact"],[1,"container-fluid","container-padding"],[1,"row","d-flex","flex-wrap","align-items-center"],[1,"col-md-5","align-top",2,"color","#0f1626"],[1,"pageHeader"],[1,"quote"],["href","mailto:seattlerealestatephoto@gmail.com",2,"color","#0f1626"],["href","tel:4253904204",2,"color","#0f1626"],[1,"col-md-2","align-middle","text-center"],["alt","Alex Bucse","src","https://1.bp.blogspot.com/-mkT1lxjA3cA/X39u-wvRTYI/AAAAAAADpkg/gcFZGp2HzAEep2Htc859m2UZezn4GCwkACLcBGAsYHQ/s160/DSC00376-Edit.jpg",2,"border-radius","50%","padding-bottom","30px","padding-top","50"],[1,"col-md-4","align-top",2,"display","table-cell","vertical-align","top","text-align","left !important","color","#0f1626"],["id","wrapper"],["id","footer-wrapper"],[1,"row"],[1,"col-md-12"],["href","mailto:seattlerealestatephoto@gmail.com",2,"padding","10px","color","#0f1626","line-height","35px"],["href","tel:4253904204",2,"padding","10px","color","#0f1626","line-height","35px"],["href","http://www.instagram.com/seattlerealestatephoto","target","_blank",2,"padding","10px","color","#0f1626","line-height","35px"],["href","http://www.facebook.com/monkifoto","target","_blank",2,"padding","10px","color","#0f1626","line-height","35px"],["href","https://www.youtube.com/channel/UCqT0likujRE4LjRimlbhxfg","target","_blank",2,"padding","10px","color","#0f1626","line-height","35px"],["href","https://www.yelp.com/biz/monkifoto-renton","target","_blank",2,"padding","10px","color","#0f1626","line-height","35px"],["data-id","about","href","#about",1,"nav-link","internal",2,"display","inline","padding","10px","color","#0f1626","line-height","35px"],["data-id","portfolio","href","#portfolio",1,"nav-link","internal",2,"display","inline","padding","10px","color","#0f1626","line-height","35px"],["data-id","video","href","#video",1,"nav-link","internal",2,"display","inline","padding","10px","color","#0f1626","line-height","35px"],["data-id","aerial","href","#aerial",1,"nav-link","internal",2,"display","inline","padding","10px","color","#0f1626","line-height","35px"],["data-id","matterport","href","#matterport",1,"nav-link","internal",2,"display","inline","padding","10px","color","#0f1626","line-height","35px"],["data-id","pricing","href","#booknow",1,"nav-link","internal",2,"display","inline","padding","10px","color","#0f1626","line-height","35px"],["href","https://seattlerealestatephoto.pixieset.com/",1,"nav-link",2,"display","inline","padding","10px","color","#0f1626","line-height","35px"],[2,"text-align","center"]],template:function(t,r){1&t&&(c.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),c._uU(5,"About Me"),c.qZA(),c.TgZ(6,"div",5),c._UZ(7,"br"),c.TgZ(8,"p"),c._uU(9,"While attending Sammamish Highschool, I began my photography career. I was offered a sales position at Kit's Camera. It wasn't long before I found myself working in the 1-hour photo booth due to my passion for developing and printing photos. There is a good chance I have printed some of your photos during your film days in Factoria, Issaquah, South Center, and Klahanie. "),c._UZ(10,"br")(11,"br"),c._uU(12," Over the years, shooting a variety of events, weddings, commercial products, I came to the realization that my passion is photographing architecture and interiors. "),c._UZ(13,"br")(14,"br"),c._uU(15," Feel free to contact me via "),c.TgZ(16,"a",6),c._uU(17,"email"),c.qZA(),c._uU(18,","),c.TgZ(19,"a",7),c._uU(20," phone "),c.qZA(),c._uU(21,"or text. You can also use the form on the website. "),c.qZA(),c._UZ(22,"br"),c.qZA()(),c.TgZ(23,"div",8),c._UZ(24,"img",9)(25,"br"),c.TgZ(26,"b"),c._uU(27,"Alex Bucse"),c.qZA(),c._UZ(28,"br"),c.TgZ(29,"strong"),c._uU(30,"Licensed Agent with EXP Realty"),c.qZA(),c._UZ(31,"br"),c.TgZ(32,"small"),c._uU(33,"Founder of "),c._UZ(34,"br"),c._uU(35,"Seattle Real Estate Photo "),c._UZ(36,"br"),c._uU(37," (425) 390-4204 "),c.qZA()(),c.TgZ(38,"div",10)(39,"div",11),c._UZ(40,"footer",12),c.qZA()()(),c.TgZ(41,"div",13)(42,"div",14),c._UZ(43,"br")(44,"br"),c.TgZ(45,"a",15),c._uU(46,"Email"),c.qZA(),c.TgZ(47,"a",16),c._uU(48,"425 390 4204"),c.qZA(),c.TgZ(49,"a",17),c._uU(50,"Instagram"),c.qZA(),c.TgZ(51,"a",18),c._uU(52,"Facebook"),c.qZA(),c.TgZ(53,"a",19),c._uU(54,"Youtube"),c.qZA(),c.TgZ(55,"a",20),c._uU(56,"Yelp"),c.qZA(),c.TgZ(57,"a",21),c._uU(58,"HOME"),c.qZA(),c.TgZ(59,"a",22),c._uU(60,"PHOTOGRAPHY"),c.qZA(),c.TgZ(61,"a",23),c._uU(62,"VIDEO"),c.qZA(),c.TgZ(63,"a",24),c._uU(64,"AERIAL"),c.qZA(),c.TgZ(65,"a",25),c._uU(66,"MATTERPORT 3D"),c.qZA(),c.TgZ(67,"a",26),c._uU(68,"BOOK NOW"),c.qZA(),c.TgZ(69,"a",27),c._uU(70,"CLIENT PORTAL"),c.qZA(),c._UZ(71,"br")(72,"br"),c.TgZ(73,"p",28),c._uU(74,"Copyright \xa9 2018 - 2022 Seattle Real Estate Photo - All Rights Reserved. Design by Alex Bucse."),c.qZA()()()()())}}),n})(),Mp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-hero"]],decls:13,vars:0,consts:[[1,"hero"],[1,"hero-section"],[1,"hero-overlay"],[1,"hero-content"],[1,"intro"],[1,"hero-subtitle"],["href","#",1,"btn-primary"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"section",1),c._UZ(2,"div",2),c.TgZ(3,"div",3)(4,"section",4)(5,"h1"),c._uU(6,"Bring your property to life with our lens"),c.qZA(),c.TgZ(7,"p",5),c._uU(8," In today's Seattle real estate market, presentation is key. Home buyers rely heavily on online photos, videos, floor plans, and virtual 3D tours to find their next home. We offer all of these essential tools to make your listing stand out and attract potential buyers."),c.qZA(),c.TgZ(9,"a",6),c._uU(10,"Book Online"),c.qZA(),c.TgZ(11,"a",6),c._uU(12,"Call Us"),c.qZA()()()()())},styles:['h1[_ngcontent-%COMP%]{font-size:calc(3rem + 3vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:100%;color:hsl(var(--clr-light))}.btn-group[_ngcontent-%COMP%]{margin:2em 0;display:relative}.btn[_ngcontent-%COMP%]{padding:1em 2em;text-decoration:none;text-transform:uppercase;border-radius:5px;position:relative;display:inline-block;line-height:1}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:1em}.btn-secondary[_ngcontent-%COMP%]{background:var(--foreground);color:var(--background)}.btn-accent[_ngcontent-%COMP%]{background:hsl(var(--clr-light));color:var(--foreground)}.btn[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;left:-4px;top:4px;border-radius:inherit;z-index:-1}.intro[_ngcontent-%COMP%]{height:30vh;display:grid;color:hsl(var(--clr-dark));align-content:center}.intro[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-column:2/3}.hero-section[_ngcontent-%COMP%]{position:relative;height:100vh;background-image:url(https://1.bp.blogspot.com/-lQgJpZP9Gyo/XzsLuteFRNI/AAAAAAADnrM/xBBepCELa0s98bmvNdzU4OCCWG6jjrWlQCPcBGAsYHg/s2048/_MKY2867-HDR.jpg);background-size:cover;background-position:center}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#fff;opacity:.1}.hero-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;color:#000;z-index:1}.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:1rem}.hero-subtitle[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:2rem;color:var(--background)}.btn-primary[_ngcontent-%COMP%]{display:inline-block;padding:1rem 2rem;background:var(--foreground);color:var(--background);border:none;border-radius:5px;font-size:1.5rem;text-transform:uppercase;letter-spacing:1px;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000;cursor:pointer}@media (max-width: 35rem){.hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.hero-subtitle[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem;color:var(--background)}.hero-content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;color:#000;z-index:1}.hero-content[_ngcontent-%COMP%]{position:relative;padding:2rem;text-align:center;color:#000;z-index:1}}']}),n})();class wu{constructor(e,t,r,o){this.Title=e,this.Description=t,this.ImageUrl=r,this.Price=o}}let xp=(()=>{class n{constructor(){this.blank=[],this.listOfPhotoCards=[new wu("SHOWCASE PACKAGE","The HDR with Flash method for shooting real estate photography involves hand-blending both exposures using professional lighting with natural light exposures to preserve the true colors while evening the light trought the scene."," ../../../../assets/shutter.svg",295),new wu("ESSENTIAL PACKAGE","HDR photography is popular in real estate. It involves taking multiple exposures and blending them to create an image with visible elements in both dark and bright areas, using available light from windows and fixtures."," ../../../../assets/shutter.svg",225)],this.listOfVideoCards=[new wu("Slide Show","A slide show is a visual tour that showcases the property through a series of carefully curated images. It typically includes a collection  photographs that highlight the key features, design elements, and unique selling points of a property."," ../../../../assets/shutter.svg",295),new wu("Video","A video tour is a dynamic and immersive visual experience that offers potential buyers or renters a virtual walkthrough of a property. Video tours provide a more in-depth and interactive experience compared to static images, allowing viewers to get a better sense of the property's layout, flow, and unique features."," ../../../../assets/shutter.svg",225),new wu("Social Media","Social media video is a short and engaging video content that is specifically created and optimized for sharing on social media platforms, such as Facebook, Instagram, YouTube, or TikTok, for the purpose of marketing and promoting a property. They are an effective way to increase the visibility and reach of a property listing."," ../../../../assets/shutter.svg",225)],this.listOf3DCards=[new wu("Matterport 3D Tour","The HDR with Flash method for shooting real estate photography involves hand-blending both exposures using professional lighting with natural light exposures to preserve the true colors while evening the light trought the scene."," ../../../../assets/shutter.svg",295),new wu("Zillow 3D Home","HDR photography is popular in real estate. It involves taking multiple exposures and blending them to create an image with visible elements in both dark and bright areas, using available light from windows and fixtures."," ../../../../assets/shutter.svg",225)]}GetCards(t){return"photo"===t?this.listOfPhotoCards:"video"===t?this.listOfVideoCards:"3d"===t?this.listOf3DCards:this.blank}AddCard(t){this.listOfPhotoCards.push(t)}RemoveCard(t){this.listOfPhotoCards.splice(t,1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gy=(()=>{class n{constructor(t){this.tblSvc=t,this.index=0}ngOnInit(){}onDelete(){this.tblSvc.RemoveCard(this.index)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(xp))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-table-card"]],inputs:{tableCard:"tableCard",index:"index"},decls:15,vars:2,consts:[[1,"tableCard_container"],[1,"gradient"],[1,"tableCard_title"],[1,"tableCard_subtitle"],[1,"tableCard_buttons"],[3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"div",1),c.TgZ(2,"div",2)(3,"H1"),c._uU(4),c.qZA(),c._UZ(5,"hr"),c.qZA(),c._UZ(6,"br"),c.TgZ(7,"span",3),c._uU(8),c.qZA()(),c.TgZ(9,"div",4)(10,"button"),c._uU(11,"Edit"),c.qZA(),c._uU(12," | "),c.TgZ(13,"button",5),c.NdJ("click",function(){return r.onDelete()}),c._uU(14,"Delete"),c.qZA()()),2&t&&(c.xp6(4),c.Oqu(null==r.tableCard?null:r.tableCard.Title),c.xp6(4),c.Oqu(null==r.tableCard?null:r.tableCard.Description))},styles:[".tableCard_container[_ngcontent-%COMP%]{width:100%;max-width:400px;background-color:hsl(var(--clr-light));border:1px solid #ccc;border-radius:5px;padding:20px;box-shadow:0 2px 4px #0000001a;display:grid;flex-shrink:1}.tableCard_image[_ngcontent-%COMP%]{padding:0;margin:0;align-items:center;text-align:center;width:100%}.tableCard_price[_ngcontent-%COMP%]{position:absolute;top:1rem;left:1rem;font-size:var(--fs-700);color:hsl(var(--clr-dark))}.tableCard_title[_ngcontent-%COMP%]{padding:0}.tableCard_subtitle[_ngcontent-%COMP%]{color:hsl(var(--clr-dark));font-size:var(--fs-400);width:100%;text-align:Left;vertical-align:top;z-index:1}.tableCard_buttons[_ngcontent-%COMP%]{display:none}@media (max-width: 35rem){.tableCard_container[_ngcontent-%COMP%]{flex-grow:1;width:20rem;display:grid;position:relative;background-color:hsl(var(--clr-light));border-radius:5px;min-height:350px}.tableCard_container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding-inline:2rem}}"]}),n})();function my(n,e){if(1&n&&c._UZ(0,"app-table-card",2),2&n){const r=e.index;c.Q6J("tableCard",e.$implicit)("index",r)}}let Mh=(()=>{class n{constructor(t){this.tblSvc=t,this.pageName="",this.listOfCards=[]}ngOnInit(){this.listOfCards=this.tblSvc.GetCards(this.pageName)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(xp))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-table-card-list"]],inputs:{pageName:"pageName"},decls:2,vars:1,consts:[[1,"cards"],["class","tableCard_item",3,"tableCard","index",4,"ngFor","ngForOf"],[1,"tableCard_item",3,"tableCard","index"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.YNc(1,my,1,2,"app-table-card",1),c.qZA()),2&t&&(c.xp6(1),c.Q6J("ngForOf",r.listOfCards))},dependencies:[Dn,gy],styles:[".cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3rem;align-items:left;justify-content:left;margin-top:5rem}.tableCard_item[_ngcontent-%COMP%]{flex:1 1 27%}"]}),n})();const yy=[{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgkRwRMYk5sHfTxr0ZUNr9lCieXTkzc-Vhzh5fYCI3b_hTyzC4Ml8U4_H4FSHT3_5E0HzD9W87NctpeMVSvxp4Jp-ECVcsOvjrpfm-wGpPguNVdoDYtZvqwHdJwFHJOQ9pgCbG_v9vLFXH2pZgay8DtYjH19hra86Hy3tvynaOCapS6c_H3ty9LiIeWIQ/s1024/Bellevue1.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEitXHekTv19Uvw1xyy5tHWiEhOkTsrqB8BSZvegexyQEhQ6pmCrYQiKSqPlNCGnlY24zvHZegzuZSHRpIMyTQj1FNx_HMFFFMkBFMCeOyRlIcw9frdi2XapzKoDkUP_cPNYOB-DxD_SeV0iPRzGtZ8ZalvRQD-LFp7khGRllXhQ7McFacqgzwnQHwH-Ng/s1024/Bellevue2.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjpv5M3dv45wQsWsu2oQ7VHerETwDPZXKAhsZFAZuEieUWNLJG5vI2weOShR6iC1PVIjDeOwoWF9KJtW4c1qtWELjoI6urjGTonarbPbmOe9GfyMi8oPyWOHac8npjVNFCO6ymoHPbQN6ur-F7FRu2kE9b7sFYeoMeNXmqiDAkgRb0tmUCMUcr8orcHig/s1024/Bothell1.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgz-Fkjvqa2RhO7CikN6e22SdiJLbALxvTBADyQHQ8WV_-ZGOGtv2mnPVuSSkRYtCyvnZhdBbX6jNcrg8q_fdaSIknnchFPz-wnUKRBFow84m7sQxNUL-5WxG7eSLN_tACrTbwzb2PIQE-rvIpG3-9kTVTjxnn6biZcoU0M0ch8RuruoTtxXXR5eipwgg/s1024/Bothell2.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgIBucALuUpYH-MVxA4RJJgWGUUVfvw_Hmz7a8bVsY0D_6USqCfWDCSlKJpGwVcBnKmCiUw0N5or5TVFSWVN69W5irFYJTc_xagrEzFAd_9wv34SkoaEmHlsZgfeWuFDEJaiEz1-MMGRx13e0i6-_NbYsnTZgtP4-kYpHeB24TyP2_OO0ZKG-_ecL_Uqw/s1024/Seattle1.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhQ1D3Vx_Ouldr3VNDW7OBxgn311kJ8JCGTu2fB7Xt109t-7PtPCwmXUf8vvoHfjc4C6vL6CkBKf80qnWcOD5jp0UHUhTz0iCXzArUb_D5Vred8ePJ9z5_IC49Xln7AZG6A2XgniYd8k0UB1zMK7LEUMgkI8RsSy3BITOmjALLAhhOKLc1nAlhT3MLUIA/s1024/Seattle2.jpg",alt:"Image 2"}],fC=[{url:"https://blogger.googleusercontent.com/img/a/AVvXsEhYKL2hFWDeNkdPwHVPjkmud64_aCzBmh6D4uTX4tZypj1FPlWjLuIXGtgd5EYieBO9TdOcP9X7SgFeLeUd_VCUD10I0ATZAnJ1_tEVApGJrrp2TAOJtqR3ffOa-3kXkes08zeUn1KNW5hh5arx9j_xtqjlAd6IDtAc4ghm3wfZ6lYx0VGOnCypkuzwvg=s1024",alt:"Image 1"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgcl3ZgOY-FWr1WssmdbyV-t8XJ6Egzh5uwj4v48SBt_L2vRDsF9PAKPqCfIdoUG2bb9KMTjlX1KLZI7DrgguFHbenocorqgVpnYIjJ96cEU2WR6FEt-MWKB0rA9FhMPM-A6h_poICjLBIHECfpxN_hDJ2IpNy7EjH-4whcwow5kyXZ3yg_wqqImsoFVg/s1024/_MKY0354.jpg",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/a/AVvXsEhjmN2PGxeP20DOSVdc4Jde96pVTqlBcwu2rnjmwMhXXfXdfWeYOWsEAUVGFZv1jPIKcsDRThF13eSYPjd3UaRqSTGqqOLAkYlRUNR1Nn9f6_-NVCBZ-v9a86kWwVivfEStJuuQ68iG0GezlCdd9yi8IaaisuaaqsSMmY3L988jDq5LGXwcFUXBkn36Lg=s1024",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/a/AVvXsEg9nT114i7bIq6VQOhSsTeDW_JGFTL7dB8UgZhzZnpeuh08mbhwgvI0OqMy-RkG2Z35x_cAQjrBSn-80tqHbSqRsYvvxfFq-Ws8iVFkaTeYXVJZ4lQLT1GQJczSIoX9kREAFviClGS4lX3Dv0X25-8kuMS3db2Uj6E17qJCer9ARbwa7Zwyobb3pGc1wA=s1024",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/a/AVvXsEgphU1RYRBFAqhTHjcLhH0-0CvA4YgvTzdVJGV9FN6x4naP_3o6f25mfDN25g8dVl4hKSNDH7Ai8Ssgzrhcp7oYb4MaXmwC1gS8OcvTIp3wzUCusFvD9jq2P7a0NTfmgXyqrqXpCl443Yz2rmfp2a2oNNJWXqva7BjrPy0w6RyCEb4GI9bYnCGt3ReTWw=s1024",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/a/AVvXsEj5sv4nXFB-gULJPWIpGhE6EX80Maf02OkbIv2526MoNdrM7PQ2tpSaOxtb4B2SRSu9eJXJEcdl2Sg3YrjwwLt78kPSXpBhMEiLQwCW26SHW_7HDUolQ4O18PiX0IVpMG0x581eIJkoUth7H27r7t29nHalr9TW79chPTLKXPR4S9EQhJUFXFFugXzqYw=s1024",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/a/AVvXsEib0cxyavK24D6djeQYnxrOT4az6CfxzNN2Y4eORNgmtLzSBVrJ6i4TVZswMGgCQSBnV1-FWp2XPq3dpWp7MqMy8TznC1OWsL7-5UpxibKt6bhNJLgSdwccW7080VNA-HqZzAntoQNxuxldd8Bdk5ZdJbArKP6bNMFBK6BmNvtFmfCgb2t6NsUDjhgNGA=s1024",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/a/AVvXsEiljGCNTzCXoWXF3lzTz4JDiBraRAUAFw49DYVnXXcNN5a1qjN1iBdBenyxPZHOqlb6rKlT2m5Ac7tp5JnvMBhmZeczn2ImCbo8Hr8jefnJwt5ZGFKUbO5wtdEXq-zD8y_4pP1qdC6rBuC7aWIla1jRfKJjwmSwctj6ugS8uQVSAYVzQ46RJu3Pc1eC-Q=s1024",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjOWRJ-AvuQvoRoWtvjWRWdj0PSU89eeKYLDyJIPNaDHuW84yzUCErmpVt5ZIQwHNWh3OKsTKPzRM-XAbbMDBgF9YPundxGhM4w2TdsTY060TYdnpmkuyJhXkrY7RPG5U6IR0NFNMkoJt_fLqShndkGNwFuhVK53CNMO0wKAMsZ-bnpNQKgjSu61NjcKg/s1024/DJI_0240-Edit.jpg",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgPniAKFOHplxuu2O_uFZ8HDyfMwtx-qyqj5Bjq2X2GLmhbVrelpA0sGoWYOS5ArrXRJ4dr5h98u8MDFc98Hw-LkEhJI1GKL1Ft2DsNkrzZjK-T7kaErZ5Dmwc3nW7b8vzJKrrtsXzPJypXUa6egP8EvooxkJrUquuMWKvfjfnghkMzI1k5BdPLgeDwBA/s1024/_MKY0544.jpg",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj95bIu6DP9quWzh3RMFut8xG3ZrjZAL-yWkhpS3X7ea8DRVj69oIMLdG2Ug49CJbmO5RfxU__QegNX8uQOWVjEbGoKGzYQOhRekYqawehupdKK_GMNiFPD_tDF--7ergIhtkRZIkilrNia-T-xtI79ZZ8d18PTII6BlzhEfGaCOeYKjP4EYuG5rN9HyQ/s1024/_MKY0652.jpg",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjo89eP5i9Keg_sf1gICj-PVcRm94R2k1A6nod3Scj5u2PGUPjGaupWLSwgzs1irkkxToUnF419gJtkwu9f3SaGNK-S5mNFioECyZeTtpwncSqvOP2_ujbdX874DDHUtQeJhpinTPPlQkYqFn6cW7nYHcpRY2FhBf6_N_K6yj2EBEmiPxZ6owpZUy8c1Q/s1024/_MKY0746.jpg",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/a/AVvXsEhBTFHokZAGKfno9QdN0xWVPHJNGaajoVbjFFm9KEwCbOW9kRdWN2mRXxDm3_pzkLmlxlEt_kmyghURdVxH2nMgevHbItvhw8yadGzE3zrA7QoMq4mR_jQ1pnvOSeMkgFm7-K_aLypXemx_0bikKuy-XwANfI6mqvbLv7BQ2B_lYmuQ5PVPkZytkoL-yw=s1024",alt:"Image 14"},{url:"https://1.bp.blogspot.com/-_IVdB80HZcs/YICRBNEn0FI/AAAAAAADy74/itBVdUR7sy8OO981GBe7eVse-lQU_LTMACLcBGAsYHQ/s1024/_MKY1172-HDR-Edit.jpg",alt:"Image 14"},{url:"https://1.bp.blogspot.com/-xAjLlrt-XB0/X0BOQTBYkGI/AAAAAAADn1s/f_qt4KwoyCYbnyQIJQoE2SlEtNnjHZ_4gCLcBGAsYHQ/s1024/MKI09808-HDR.jpg",alt:"Image 14"},{url:"https://1.bp.blogspot.com/-9btUNYnS17U/X0BOT8sBCII/AAAAAAADn2c/yh13b3lSIzUZ0SkStg736UcyPu7ju-RFwCLcBGAsYHQ/s1024/MKY04136-HDR-HDR.jpg",alt:"Image 14"},{url:"https://1.bp.blogspot.com/-sFlkH_5E-SQ/X0BOUWNKjII/AAAAAAADn2g/Bo_l3YOz5RM6EWrAWzExmkJTHPJNnCT5ACLcBGAsYHQ/s1024/MKY04151-HDR-HDR.jpg",alt:"Image 14"},{url:"https://1.bp.blogspot.com/-pyYljHKEgmo/X0BOQ93EwLI/AAAAAAADn1w/rHfA4RaRiqQ65E7Gr1xSDBPJEiyQhJiTQCLcBGAsYHQ/s1024/MKY00477-HDR.jpg",alt:"Image 14"},{url:"https://1.bp.blogspot.com/-dbuT4KbKiQQ/X1q8-6GME5I/AAAAAAADovU/7B8nIEETGCw3PI8yEv9sRSvHLv3QVsMnACLcBGAsYHQ/s1024/_MKY0912-HDR-HDR-Edit-2-Edit.jpg",alt:"Image 14"},{url:"https://1.bp.blogspot.com/-hO0chFJJoek/X1q9Mf9yztI/AAAAAAADovY/WLAIWiX_2xkx-34Sl5V3T3Gm1NC3zorngCLcBGAsYHQ/s1024/_MKY1281-HDR-Edit-2.jpg",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/a/AVvXsEjycZyq4S2_x9EufwjZyNTZUSx2wcLcwfdY7Ds7a53BxNnM-sQoCk7QHzOBcGPj3C7fmtuN6wkzfz9JJeccfqeX88LLf4dDMO5Kpux7WGz4ghNZlxJ2LSvEIKno-2QuxVlRG2jivDWn2fk6RfUu6cQPrEcvqt3fAh7gZch0lBF-J0URNywZ_kTOQtCwzw=s1024",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh4OnL_oZlBwniVz2LacnD-oFj8fzasJJW4vp4SW9JpxZ2F3C-vL4LP7A6C9vGu46qazTMEajpdqHVyWH-meijCwui2iKy_CsVTQwRXiMUk8mYKPYoqnHPFd16CiPvuJNtH47evTaP8MzUygXO48gMHI4A2TYsqezs2XFwKrv-Zeiu5CEmeCjgpdfCbHA/s800/_MKY0520.jpg",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhXVivEKL9PCo0Vro7mAKVrYMNRHUhPh72oB5avnM-7C7wWD3uoSYtk9S0rdWBm8jqpcJ-3oLlKR5HubnP9e96garMBI0qbcX7EYqfdO0RI9nJxfeGUL9-Z3aTVTR-NRhBIWik2XJq2-M8qNPzwC6vji12wTA8CG7neC2wcw-vcQYYwmy40eQXSdDeR4g/s800/_MKY0422.jpg",alt:"Image 14"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj_DjS5tOLqfZcPjYXk1_6jDjWyiryePfW6xy4-pH7AVAbHmddS8MfUb8b3MZywhVGVJJU9CJUYqucRk5AdRgIHL6fPCVncgyqG7tpDM9vti3p2b-0mU9PvBuEQKc5dgrzjJZGWQv8xIiWvgTIzKLYGfj_vHvi4xtn-AsdeDT1QpaPbwLUXtDuDSi1llg/s1024/_MKY0527.jpg",alt:"Image 14"},{url:"https://1.bp.blogspot.com/-Aj605hw_kDo/X0BOS3KWw8I/AAAAAAADn2M/k1JjmoVGAasvASxXyQkrJCpyBCN7FBwbACLcBGAsYHQ/s1024/MKY03071-HDR-Edit.jpg",alt:"Image 14"}],pC=[{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgA68q9WS3pZzkbVj3osXREUXe7jUGY9HrNal_jWJMpiNQKvqR0VUg5FMt58_eBNCPX6U6lTCmY4Th7sS5lpAJAeZFPCSlMLzyBuuec_LLvrcx9UycvvKaCkwsHxOm9a8Xr7yuEsG6Nt7sNcC4nwuWThNXEdfqRFjfGMG90hFkMiRAzetNfT0RjrM7OZw/s1024/DJI_0777-Edit.jpg",alt:"Image 1"},{url:"https://1.bp.blogspot.com/-nL8FF-vw9oE/Xz_-K4BLqMI/AAAAAAADn0w/9Hs3rm3YXMMenWix0hv0-JSwv9ugKM0FQCLcBGAsYHQ/s1024/Edmonds-Drone-176.jpg",alt:"Image 2"},{url:"https://1.bp.blogspot.com/-lLOcrvhxrSk/Xz_-K_hVFiI/AAAAAAADn0s/EAiohPGJ0DgIHhj5d-9n_Y2iBVoHtKgkACLcBGAsYHQ/s1024/Edmonds-Drone-169.jpg",alt:"Image 3"},{url:"https://1.bp.blogspot.com/-3aNlXhv_oD8/Xz_-IukUN1I/AAAAAAADn0c/GLfj7epw9ksu71P4dqf_KyYa1AVobpCzwCLcBGAsYHQ/s1024/DJI_0693-HDR.jpg",alt:"Image 4"},{url:"https://1.bp.blogspot.com/-WyVrpFi9o9g/Xz_-JiR_xrI/AAAAAAADn0k/1VN5zRKP_YA7mVKQ6V0P8ZoXO65Tc4H_gCLcBGAsYHQ/s1024/DJI_0818-HDR.jpg",alt:"Image 5"},{url:"https://1.bp.blogspot.com/-X00zxafg5a4/Xz_-JrZg5jI/AAAAAAADn0g/4zDZOR4WG68uJYaaLuUjF-dEQO4VT8xqwCLcBGAsYHQ/s1024/DJI_0743-HDR.jpg",alt:"Image 6"},{url:"https://1.bp.blogspot.com/-Ien9zziXKqM/X1rOcw6zkGI/AAAAAAADowU/DYxUQdBKqakJDIyCjZOT3fi5EKDjWxwbACLcBGAsYHQ/s1024/DJI_0985-HDR.jpg",alt:"Image 7"},{url:"https://1.bp.blogspot.com/-uPK1iLMEKUI/Xz_-INNxKSI/AAAAAAADn0U/Ma8PRlrucUkx_IB0CMP3t8Wt4LH8wy27QCLcBGAsYHQ/s1024/DJI_0171-HDR.jpg",alt:"Image 8"},{url:"https://1.bp.blogspot.com/-ldQ856ps9I0/Xz_-H8KSmoI/AAAAAAADn0Q/I7QQ1IxjV7M0w7UXhEFfmX5jDn6DBRzdACLcBGAsYHQ/s1024/DJI_0141-HDR.jpg",alt:"Image 9"},{url:"https://1.bp.blogspot.com/-BIz5i6QUdB4/X1rAVkiSIoI/AAAAAAADowA/9Tq6yy7dB64_vVXgYXk1XRyPCRPxoljEQCLcBGAsYHQ/s1024/DJI_0071-HDR.jpg",alt:"Image 10"},{url:"https://1.bp.blogspot.com/--lvlTkt-Z7U/X1rAVmHxQTI/AAAAAAADov8/XIi8t7EO_A8BkFBSLHTvwP18kOjEIN2xQCLcBGAsYHQ/s1024/DJI_0091-HDR.jpg",alt:"Image 11"},{url:"https://1.bp.blogspot.com/-gmXou1_vgO0/X1rAVWIFijI/AAAAAAADov4/OH6TLqwtUGcfHYVtxbcYTsFpCpEmAD7VACLcBGAsYHQ/s1024/DJI_0243-HDR.jpg",alt:"Image 12"},{url:"https://1.bp.blogspot.com/-GGim1050Ae8/X1rOc3J5elI/AAAAAAADowc/IZEg8lqwqoA1VREOYD1LqwDtJo-SoNcDwCLcBGAsYHQ/s1024/DJI_0011-HDR.jpg",alt:"Image 13"},{url:"https://1.bp.blogspot.com/-71eKAxNkUd4/X1rOcy_KrFI/AAAAAAADowY/mXREa2jXcLgnCm2obWYGUyF8bOQp0cVsQCLcBGAsYHQ/s1024/DJI_0955-HDR.jpg",alt:"Image 14"}],Z0=[{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEieZ5eOgLHGcaOLUctTUmdh2prnEBJqqZzraKKDpaTloCCIXjBoaeTH_Km0Kps-pLpWNdWKEYmIVeH5tjDcXIgsX0UPVSWVxX-PmckQd4EQ29aJD7_CMZbGT_y-9fSWCVJbKkLSXU-NsYOk7GcD0H_oZXLP5FOwZCPtLUMpxPkF9mE_diqBps7t5tPxsw/s1024/VIrtualyStaged_MKY1568ENFUSE-Edit.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg-o5n7lVEOw6NR69Lj222N0ToF6cjUi1dF7oVk9uYNV3kHMIuoxDrs61rEfLc010vDmOiSXvTgdbn80l-2i9N5-fRTtKTN0R0t4hpmKJbA0lrcioZ5hGGtmEWsK0n_h8fGUms5IfvZBETDLUl9t0V1icp3g3lC0XU8zPFqvj3jnfIHQWYFuFFJ4eYolg/s1024/Bonus%20Room%201.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgr7gd6qXbSF2g0Z27HJwYswj2jcL1LaVFqzm-3hOPDXQEtIIv978MYJEP_AyBnDypmoHQ03zCv0wf5mKF-2kLEs99EeFgsd9mYdEPGvBwsBnwkO09qfJIR2InDFxuOcqWfefLaVCrNVYmpK8SHERWRSW-XqHi2Fn7xJOWzPxlfIO4iY4fOCDuJTU_WQA/s1024/Bonus%20Room%202.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjQdxIyxnyLlcO34qjiQ9aeG2N_AY6f4zewBoFKjo2sd4CMr93jSgk_jjt8Ai-plZEhS5SeP6jSyLpAUhhNzujRBwEAbbdE2s_mId5Hmrvx5E98kORRGrgblweopagSUgIJ1AqiLQLlkBvHQeWJ-QcrA0oolu9xsNsbz8cEzSYTH_NOAKHXXNFDcU7srg/s1024/Dining%20Room%20-%20Kitchen.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgbETRMnne1ZKImqaKy-OckbSYWWuLbeQR8C40QmmZAWjK356fdWCe1IZf-24d83Ne_e9aCfODQ4RJ812xzVCxvPL1efE67-6ADinYLn-bfugsO-7V4r5Dgj9F4QhRi95R8OIbeqtFC6SmIgKpcVN-gYboYxv3EP6sZhtm4nV6CTj4hmiXP0cKtXfHRIg/s1024/Dining%20room%20-%20Living%20Room%202.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgOJzPJTkBrk0HEvXO0Pyg9Dh8CTurVdR8Ifs4CMfFWkM4Lenj_NrQJ6QZO8PayGrZeDZ4343cxle9_bF6NLQR70qjiczwdmkX8KqqE6X7O-Yq4_rKf6aGBtrPVIlNwzVdBTVCwWWGs7_P0djYXVAGvBgdvLaq2XbdG339NSxZ3LYQLMOfWMgwIn_-6vw/s1024/Dining%20room%20-%20Living%20Room.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhJywYRt7jpYa6R0qrPERjfC3-zrEbDJfIqixHFm9NXUfQF8yCrPQVLmMkkEUErXgRDz5kl0De6jzQDjX7wI7xx7oIAEGEUZDZynVInVwK-rkbreJSUP6cZnkiQCjEXip7XktW8Or0M_e7hZwqkE8DrO3rECOyY_3hADlgufuS4wGIH36Q7gS-a6Ec4EA/s1024/Kitchen%202.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjWQ6UaEJAsMlHuAWBDOCGdLFWfJYv9z278-9n64JlEXmQYt-mhDE-bqKskqOsaK_w7tCCQ94VjW8vDP4I0lrfMrpgZK6ergBlFDcnia38M3wSngT0KOzLiPIs07FQUgsciiDYUU5Wm2sphozJzUXBhXqlPcSqHCh3r9FhJLGDTaRUZELg3IpcinmDSFw/s1024/Living%20-%20Dining%20%20-%20Kitchen%202.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgSjLrdL5y1EkTFdHDF2cOdXKzQdaSNUu8NHHi_5-f-SkZ7V93VLQJIN1hjK2SeJE6KSHRiQPlitnIy3rwQAPrAueZLTEUY3GLMIeeXhlmUwRtsLvtM00WkbtBcK7w-ZWm3cE9hxJPdEL4AGtrfu2Htd3JR2f0mtEOrjJN70-oWtGNQP1DwYIH7irN86w/s1024/Living%20-%20Dining%20%20-%20Kitchen.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiHJ3QfrV7_LYdcCURz49Cwcv2xG0_9q9FRur2EIygL7EjR5sDDbgTqCL_2Xm-FR0kCk5iiFOHmir7ZrE-2SiNVYaPrQxE4VsqFmchFhBFpTW6H9BFBBn7kc-DDYv-5DUOxpQJLq9NENPMPdrnAFbnFVnGbRQSXJVrFEaIQoNciAAzq8W0G9lL0TaRJdg/s1024/Living%20-%20Dining%20-%20Kitchen%204.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgjTruWDYdnxalJwXhMDhXpf9SrlVh19LdudtQxZ9ZAcOkS7QEKcrNulZ1fIB-d_cW19JNfETkgrfHQGYWfjYYiRfQyLea6dce5X6LOL8Q_O_cWOw8ImEfHW_kkOgtvj-7lenJI-7Rrn2Lguor-2dFZiXx_QXUaO-ynEDY26mLjMvmZiFWukrbuHJaiTQ/s1024/Living%20-%20Dining%20room%282%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgaiR3DviZ_UdwZl2-US8nnwoLuDyvvzq1ecDzYbwYBrJaaEKBULdhsFUcmDIzOp_9wZtWwOJLlugozv9YYLtybUrZYjC6LYWtDXWgNnN16bF63m2UdV_tkmGiZtafT8gSzt6GMKDj2wCh7OuAQXpXWsukFVxfpOStOUeRLLhWZK0t4bS5AAAK2kCMnKA/s1024/Living%20-%20Dining%20room%283%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiP4hQ2bx2KwfcmOnS0fg0nqFfNFgTY1j79ByrMuSCLno2WHcH8pu59Ebwh7VJAAjagFtBk9-xsNTgkZkzQR0MyNmF8Z7alVVVn_vFwBjbhWkwtXAF1oh7NHfU4K3i2tp3JwRf20wbgtCPF1imcu0Aa54_VxFk4buPPUMaPvwCxhRJPsOMAy5Fph-VFYw/s1024/Living%20-%20Dining%20room%284%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgGt8HFIetGdSjWkrUu_qqyU9_FIWtLXsabYlg9I0JhCbPB18N3WK_oo2IquLS6YC9F_XDeL1NTyhO8wDxRMcjmrGDz7dSTuMnr6x4Gcz20_-9PDCZILjXrvAAa4C9MzQPJwM5sTMZ_10JxKNp8EfD--M9qUTm8xRxrCa-LPWp_8qPwktiZ48LB48owvA/s1024/Living%20-%20Dining%20room.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiBszd99naC7Bh3dyVZuy-_Y6c0Wzx65UhQeZQGWFesrdb8KvTCiyJoLMwAW-pDNvsbF2tw0kK2WCWuuermxGkQgiaoxE0F_0wFIZeEYMV8jBZpYufau9kKupD_CYNX8Y9_bsqi4ST6MUA0Wa0hXppjYgDfJwNQRz08EMXQ3JAQaE2Dnk9hHTnWhreWIg/s1024/Living%20room%202.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj1In5swbVSP4p-aKnV2BFH_L-yFbUxHblPt8JapCSNo8dcBsN7HMYLECV2DejapwmUOLe9wlOKiRbSzKJ94hNynK23qOZd9j9HahnzDROpe9uG4qNuElRtIyQYwlBCcQN6UBRI6EcYxgrXqlGRD9lTj_ggvgVkhADSzuv40rKVToX0BuBEDX6sPto_Pw/s1024/Living%20Room.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgD_yMToqd_95gTDvhFvjWXhVmc8KDZBOMxuK6DCpfbHU4nss6Dth-qxNc_tzrVahBKOj3wTB_O-2KFGTzt-qzqT7Vz55j5_5YcPBj_mGTARuci-mX6h6rg_toCBO-8RZ1Y8n2PTAKylmkeSEYWT5kNF7nAi4bNjB9hmQJx-gpBCSTbOfgKYjhVaY-vbA/s1024/Livingroom%201.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhjNYSE_0ERH8oKfMaIhlxOm0a_akWWF9elHC0jS__JJpAubSnJpo_V5NispbxvRn-MfcJSearSkKbtTE-iZXKS77LKEsnkai0OZzGrYyCwBZWWI2YUDgZh2aretoVhwRQYQjvUPWNrh5lId1a7NxPVfxSXiQv6dxFCCXVhzaouHRYH5PAeT1iaHkiEPg/s1024/Livingroom%202.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEggDpaiB53gcOOz0ezq8bezNxZiJwUbq6SX-72viboQUqr4eYh9oEY-edfkWZi-L3d2WuaJc7Ne8G0hPzpNa_hxWcjWQMOO8OdGSXL5I-2eqsUdKZqU4U5a49nt-SWX-fj-Df48gNu3BM9-t9yDvvQhYrUw_gUTwUD7ySIiKyEeNCylFsYUKdG2Z7LOsA/s1024/Livingroom%20Dining%20Room%20Kitchen%202.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEih1ayYKuNDojFVFfGkYyyxnc9C5YS49qZeMfKzuvIIAZ8wr-CIiGvcxCoDvcUHXj0PSkWJ1KAIA5nnpfYns3SchTF9hk3e3nt8hWWDrnXz7fWET7RWxFM3ITku-jN1kmqDpTbRkxPujsgQSTej11gfPeRBjz0Aqe-oqhFz4igfcMhB8RDFYkRj6w0eZA/s1024/Livingroom%20Dining%20Room%20Kitchen.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhYd8vx8NuLBXfcYbGYLCh0aqKh-fQAidAZcw1XAkAqfeD_E9KVxFlflKK3l1bNiq39Fy1uGqdAwEYQLme66Mt3mi6UKtA2ZQvPdlnw4jTdf0m_BIL5RVejKyVzXJuNIXVPqJyLHn42unxbgcae2IkMVxAxHOFf0X5mUCho2mxKbecBMRbvYVH4s4ZYJQ/s1024/Master%20Bedroom.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjcG2h8sP_qZD6inG7WVljw5WWKTmUxfpKncPs3WA63hZai0jJjd8h4szdBOa7wplGiNxe9Eufj3mKXUp3ltJRThA54CtPjrjb7hjPnmtKHKT5YsiZz_pkvx3lzepORLAOOnk4g3ChXOz-iin0KnAqM1BgmCnOLYVuxqc_oX9nE_hsWE9MSyCAkVYLNdw/s1024/RE2022_VSBedroom%201%20Photo%20%281%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgSsepAr4ysfsjj2N3O5HapqJLjz4e-Mm1V2OWNtLx-OjjrhvqmwnMiPgmPysrOFooXJMtaJS4jtr5PvfDK7SubZYjjwmZe9YNUm6Mr07BPSjqf1pvo_Z-jM04YwjoVjxYymV77lGs97ZIgDVK3EXxzfxjoys8-P7Lt86tq0fxToSL8Vm3AwDGp68E_Cw/s1024/RE2022_VSBedroom%201%20Photo%20%282%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgs6lteWvljXCupL9qOiStTxIhW1JPpblE-PmSbvb-BLy-9nPCcGs0mFiVL2PnVIvEEeXm7q7N6ZWoEU1t68BD0YRy6SniZzH5o8CKA-X7jGD2lJrj92Fg1qzPsYMXGz43AnWXtEzpSvo173MyOYyGjwyUURA_9Mm0hrYWfYf5wnTbPPxO3F6GLzJ-Zag/s1024/RE2022_VSBedroom%201%20Photo%20%283%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg3jPSZAnnRUVU7fNXFb2kjhkNEUKJCP_a940yZdfSZWCtKL99HxzgXQrIJtly9thue-YZHGG3gm_7sS29N3kUKqVY9KX9HJ_zD_qQA5aWj2oCqYV4h2rSjTK_Ecy85aF2MmMEv8_Fi5LzLTJIPSphecbOZHRfk2na4YXug7X9iq5RdMVc0mbI36n4NWA/s1024/RE2022_VSDining%20Area.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg_-UKLXWfy2J-NyBKQnUwrKzc2FqAGI6QNFuhOxEOTnGIC822-q9KoORLaXig0E_psafU3Rzkj_rbXNYDu_KaOxd60F0rE-uck_IljCZ4xBnAX1vkliPYi0bjgivTThgybB_nSwjejrFKmc8J8UGwExHy-T04pErcxslYo7Z3Z5RyinHXU3zlz1SU6Zw/s1024/RE2022_VSDining%20Close%20Camera%20%281%29%20+%20LivingRoom%20%283%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhVaj_BZkzrslI-kRZcVH3j1IoTuHo1k5oA80_n5edPsZcGdOElGA9dDe_zSEFHdxInwZ6IYTJ1fdVYagsrTgxmpgwWJGQsJgLfdP83-6G1-9bQiPulmflViO8iBsFDlqzNYDkwvArwq6GMFG1eAEF1JjnSOq8hetB64ZfqPDQLFus8KFpJ6Xk7sf1bxA/s1024/RE2022_VSDining%20Close%20Camera%20%282%29%20+%20LivingRoom%20%284%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhfloAPBazQqSjmwEdhOieV1enInxN9CM4SZS1eZHM9rVuQm7-TstNmY7KV6-BQGtPMkGzQ0pYSqsm0JDVjyQGtPoAfAqPuYMKPC6QFLOzfObeQUt7rOw3SX1D9fangCvhyJr76CvS49PxtvS7AdztENzGUoNhRiAEC_w8OiFXcSGKhxvksPXhjAI3K2A/s1024/RE2022_VSLivingRoom%20%281%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgbV7im1MF-8O1UA1mdVXteAzYlxk6PtpCXIpdN5oFdHrxSh2NBKY6wnIrJhfEuYTPu2Aq7Y-Rvba2UIKx40H-FD1vQCuCbHA1ST63fAbuRg_Ri6d_veP3os3vqBylSRwmzR1H2EAZcuIhkCmkmMD11TgpY3zrj8N77uC9gJj0DXGaA_MMbmKOL2Lkvhw/s1024/RE2022_VSLivingRoom%20%282%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgs0J9H8reyV-4jFeRjUjQuvvh3PRoO723BcR7kuLgZLAU1OXOP-bnkDsBZgdNzhwJhb8ByfprtcoqmWMVBCQU6hwcH8_Cm1W-nGi5P8olGt1Am08qdbNw92lU86XIsRfMLdHjs29ZMtw9IhWzaThHhPWHdf_uuklpu0rU7caXd5NbJ0sTtrAKZ2Mo1sg/s1024/RE2022_VSMaster%20Bedroom%20%20Photo%20%281%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi5mlX4sDPhjUHVep-2QUiKij6cZ4iun72pGuYdhhAsqpQuB094aulvPg_KOYZxn9Ik268D8G1BZRJ-3CwWMdtEGrWw0SItx3kguiA2ExMF5GUs2xXlPHgy_pSmXj0qFUlBXOz-ToJR4rXXePFeu_UNAFVz9Di5c7U-HMbaVgc4BJWukzHKG-QByY5cDw/s1024/RE2022_VSMaster%20Bedroom%20%20Photo%20%282%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhh6l8wlzd-EF26YohFrXeLTjYVPiDHIehR-Imv41rENDs8WvrIEfzXIx62YzcVccP8HNkL8uycUKm5MSMGmseapMovy_vABCsHNttQq7oyc6AtqTVCGB1eTSasLUemDxVu_7ZSaKbfIPKblfs0pR5yvGCDY2qmKmSIqtFcwhc71clcShW3ECVGUdSzVw/s1024/RE2022_VSMaster%20Bedroom%20%20Photo%20%283%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjjbq790pXIyzobJnvVnalong-9zqLd94wQPgU1lBIp9rDw3LPbw60GCazYC1baPwGg9mo-7bE37hSvbbbb8EK7ukbL7DzeidKnOaRMi_Tnw8J7vbblL2HnolUZuqGgR_m0jEmkTwOAXiPrMdCfjp2Ny4q38Ki5AHTsC39F4VUB7gcLWJZ2HPyC-EGcJQ/s1024/RE2022_VSMaster%20Bedroom%20%20Photo%20%284%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgZTW1MsT0keOM8Z1-J_7ZNqJ_7Q3NU1Df0-Y6txK8kBpY_TvlriJw6BEtE3wpTRC1YsAwhAe0ySoIxjKe0exhTIC-ClGuuZdx-VF0GoNENX0kmxtDCQ88gqqo_-JRufrGsZzSXp3OXiQarS-9fp4aMfYRr3X5KaafNkddw6snGbzcbb7JJHY2qWuErvw/s1024/Bedroom%201.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgbPxjV7u6O9P1Xor-pWD0xrLSwotmh3SYldVIMpcrK_RrquKNO4yi33o8qGZd-rtOCRIW6_z7VxrcxwaIdyLyjopGucleVQlutPdYUHyOLocG-8E5UIV8lTlAWAfbVMFC_klw7RzlwyFJGxuLygbGha2ngB7dSOx6q0r03cBOUHoIfceHX9sxodY1i9w/s1024/Bedroom%203.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhFlQ2TBgpkYmJHuPAK7zDCGwzQbIv1L57kptJoMuz79wYiJK-x7REtKG_KbiPUR-__RnR7po17YH9cAWw1pwRLJyR5rqN4Q8vXuLFrPpMiZ8vcI0vOEexJaZ2Ow5aU2Zg4qymvAZE0-vP2E4IZDXTlHy6hQIWU_xsMX441SDYf0K5teXK6Hheyp84YYQ/s1024/Bedroom%20copy.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEisddoKEFTQZ7C1UPybLoNE2PflP3dAmkzb8rbGp5y_aGqdySzTqt3BSRm-Zh253unHv7pCCt51Vf-LTSer9s8x0pDGFthMOzPNuIG3ertd0TgWXCUk0hUHWs3vuJ3mjdAd71sbh5ymCK8spd-e0joBLikIo5vDxDzGd3VnDjMAYBdNUqwRePUQAQ7ZiA/s1024/Bedroom%281%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjejDASMUDKREUmO-m3T3LVTL_0pOLGtv7SP9Brb59MfbPyiny40Mb4iEV5z5-FPFFLIhMPuGGu9_C9RgLnH7Q0GEzWNVUI5c0LuLv5PyR3PnAmLmyk2Qcu4mV5Rm4n91d1rxrYWh7G7sidHciaggCrQKgGpe3Hiwc9i3pYJfTXRV3b_HIlIgbjlSp6fQ/s1024/Bedroom%282%29.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiMbgA2O3N-SxjsRNVcOHjTQeEFUb-lzy9KgAQC2ai8U-c6sSoY6St-rF-7p3XVywF2Dh97jPOVeEUJEd16oK4uiBrIvmd4stm3E_1-3znVNw7WIIm_ZH3nDT_aC3L0a7QbaXq7QADM0TJh9j4TppzMUX7yLDGgM-1FFLGDtWwWFjgAfOD6_78K11jO2g/s1024/Bedroom.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEi1q9RUUCylgJiX-yJUZBXysjaZR4AyWdRu5xCgG5jcgq9DVHJSnEr29nSTguvtVBNrQK3v5A8pOv6WyPZABgQJU_WR31ggCu0Bvux5gsFn26jVWRjxBwv135yOzHii1I4mqxHd4EUwfzW4WGL_UVvxIj90QJoGjbIeWBOShASUvVeffJssMrGGAxF7CA/s1024/Living%20Room%20-%20Dining%20Room.jpg",alt:"Image 2"},{url:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhIRxgUbZNCdRG_9vk4j06I1tAdHMD77DhbVB2yzMqGK-WNH5eltKh3f4oMt1oEDXWPkCk1luAPd_qMDmmyXZKvie2Cp5DICGLaMtIw6YE1TR5hOzhX_54Hz6H9dq-Jt-Bk-i57gtU-QKCP23Mjxy2vkEgVOy0d31WxfOxdvGQSm8uxbccrfXfGVvne4A/s1048/Bedroom%202.jpg",alt:"Image 2"}];let gC=(()=>{class n{constructor(){this.photographyListOfImages=fC,this.aerialListOfImages=pC,this.floorPlanListOfImages=yy,this.stagingListOfImages=Z0}GetPhotographyImages(){return this.photographyListOfImages}GetAerialImages(){return this.aerialListOfImages}GetFloorPlanImages(){return this.floorPlanListOfImages}GetStagingImages(){return this.stagingListOfImages}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function q0(n,e){if(1&n&&(c.TgZ(0,"div",10),c._UZ(1,"img",11),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Q6J("src",t.url,c.LSH)("alt",t.alt)}}function W0(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"span",12),c.NdJ("click",function(){const u=c.CHM(t).index,d=c.oxw();return c.KtG(d.goToImage(u))}),c.qZA()}if(2&n){const t=e.index,r=c.oxw();c.ekj("active",t===r.currentIndex)}}let Op=(()=>{class n{constructor(t){this.carouselSvc=t,this.listOfImages=[],this.currentIndex=0}ngOnInit(){"aerial"==this.galleryType?this.listOfImages=this.carouselSvc.GetAerialImages():"photos"==this.galleryType?this.listOfImages=this.carouselSvc.GetPhotographyImages():"floorPlan"==this.galleryType?this.listOfImages=this.carouselSvc.GetFloorPlanImages():"staging"==this.galleryType&&(this.listOfImages=this.carouselSvc.GetStagingImages()),this.startInterval()}ngOnDestroy(){this.stopInterval()}startInterval(){this.interval=setInterval(()=>{this.nextImage()},3e3)}stopInterval(){clearInterval(this.interval)}prevImage(){this.currentIndex=0===this.currentIndex?this.listOfImages.length-1:this.currentIndex-1,this.stopInterval(),this.startInterval()}nextImage(){this.currentIndex=this.currentIndex===this.listOfImages.length-1?0:this.currentIndex+1,this.stopInterval(),this.startInterval()}goToImage(t){this.currentIndex=t,this.stopInterval(),this.startInterval()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(gC))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dynamic-image-carousel"]],inputs:{galleryType:"galleryType"},decls:10,vars:4,consts:[[1,"carousel-container"],[1,"carousel-inner"],["class","carousel-item",4,"ngFor","ngForOf"],[1,"carousel-navigation"],[1,"carousel-prev",3,"click"],["src","../../../assets/left.svg","alt","right"],[1,"carousel-next",3,"click"],["src","../../../assets/right.svg","alt","right"],[1,"carousel-indicators"],[3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-item"],[3,"src","alt"],[3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c.YNc(2,q0,2,2,"div",2),c.qZA(),c.TgZ(3,"div",3)(4,"button",4),c.NdJ("click",function(){return r.prevImage()}),c._UZ(5,"img",5),c.qZA(),c.TgZ(6,"button",6),c.NdJ("click",function(){return r.nextImage()}),c._UZ(7,"img",7),c.qZA()(),c.TgZ(8,"div",8),c.YNc(9,W0,1,2,"span",9),c.qZA()()),2&t&&(c.xp6(1),c.Udp("transform","translateX("+100*-r.currentIndex+"%)"),c.xp6(1),c.Q6J("ngForOf",r.listOfImages),c.xp6(7),c.Q6J("ngForOf",r.listOfImages))},dependencies:[Dn],styles:[".carousel-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1024px;margin:0 auto;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]{display:flex;transition:transform .5s ease-in-out}.carousel-item[_ngcontent-%COMP%]{flex-shrink:0;width:100%;overflow:hidden}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%}.carousel-navigation[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);width:100%;display:flex;justify-content:space-between}.carousel-prev[_ngcontent-%COMP%], .carousel-next[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;background:transparent;color:#fff;cursor:pointer}.carousel-prev[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .carousel-next[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5rem;height:5rem}.carousel-prev[_ngcontent-%COMP%]:hover, .carousel-next[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2)}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;bottom:2rem;left:50%;transform:translate(-50%);display:flex}.carousel-indicators[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:10px;height:10px;margin:0 5px;border-radius:50%;background:rgba(255,255,255,.5);cursor:pointer}.carousel-indicators[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%]{background:white}"]}),n})(),mC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-photo"]],decls:16,vars:2,consts:[[1,"section-container"],[1,"container","info-container"],[1,"intro"],[1,"subtitle"],[1,"btn-group"],["href","#",1,"btn","btn-accent"],["href","#",1,"btn","btn-secondary"],[3,"pageName"],[1,"container","carousel-container"],[1,"image_carousel_container"],[3,"galleryType"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"h1"),c._uU(4,"Photography"),c.qZA(),c.TgZ(5,"p",3),c._uU(6,"Our aim is to provide homeowners and realtors with professional images that will enhance their property listings. By using the latest camera technology, multiple lighting options, and advanced image blending techniques, to produce stunning professional photos. Our services include interior, exterior, aerial photography, and video to help your listings stand out and grab the attention of potential buyers."),c.qZA(),c.TgZ(7,"div",4)(8,"a",5),c._uU(9,"Inquire"),c.qZA(),c.TgZ(10,"a",6),c._uU(11,"More info"),c.qZA()(),c._UZ(12,"app-table-card-list",7),c.qZA()(),c.TgZ(13,"div",8)(14,"div",9),c._UZ(15,"app-dynamic-image-carousel",10),c.qZA()()()),2&t&&(c.xp6(12),c.Q6J("pageName","photo"),c.xp6(3),c.Q6J("galleryType","photos"))},dependencies:[Mh,Op],styles:['h1[_ngcontent-%COMP%]{font-size:calc(3rem + 3vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:50%;color:hsl(var(--clr-light))}.btn-group[_ngcontent-%COMP%]{margin:2em 0;display:relative}.btn[_ngcontent-%COMP%]{padding:1em 2em;text-decoration:none;text-transform:uppercase;border-radius:5px;position:relative;display:inline-block;line-height:1}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:1em}.btn-secondary[_ngcontent-%COMP%]{background:var(--foreground);color:var(--background)}.btn-accent[_ngcontent-%COMP%]{background:hsl(var(--clr-light));color:var(--foreground)}.btn[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;left:-4px;top:4px;border-radius:inherit;z-index:-1}.intro[_ngcontent-%COMP%]{height:30vh;padding:10rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.intro[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-column:2/3}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#AB987A}.container[_ngcontent-%COMP%]{display:grid;flex:1;align-items:center;justify-content:center}.info-container[_ngcontent-%COMP%]{padding:1rem}.image_carousel_container[_ngcontent-%COMP%]{margin:auto;padding:auto}.subtitle[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:1rem;color:var(--background)}@media (max-width: 35rem){h1[_ngcontent-%COMP%]{font-size:calc(2.5rem + 2vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:80%;color:hsl(var(--clr-light))}.intro[_ngcontent-%COMP%]{height:100%;padding:1rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#AB987A;height:100%}.carousel-container[_ngcontent-%COMP%]{display:unset;padding:2rem}}']}),n})(),ls=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-video"]],decls:18,vars:1,consts:[[1,"section-container"],[1,"container","carousel-container"],["width","1024","height","610","controls","","autoplay","","muted","",1,"responsive"],["src","../../../../assets/video/SCOUT_Group.mp4","type","video/mp4"],[1,"container","info-container"],[1,"intro"],[1,"subtitle"],[1,"btn-group"],["href","#",1,"btn","btn-accent"],["href","#",1,"btn","btn-secondary"],[3,"pageName"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"video",2),c._UZ(3,"source",3),c.qZA()(),c.TgZ(4,"div",4)(5,"section",5)(6,"h1"),c._uU(7,"Video Tours"),c.qZA(),c.TgZ(8,"h2"),c._uU(9,"& Reels"),c.qZA(),c.TgZ(10,"p",6),c._uU(11," Due to everything happening around us, buyers now rely on online tools to help them narrow down potential home choices and the online presence of each listing is everything. We offer professional videos and 3D Tours that showcase both homes as well as the local community. We also offer videos about the services you offer to potential clients so that way people get to know you before they ever meet you. "),c.qZA(),c.TgZ(12,"div",7)(13,"a",8),c._uU(14,"Inquire"),c.qZA(),c.TgZ(15,"a",9),c._uU(16,"More info"),c.qZA()(),c._UZ(17,"app-table-card-list",10),c.qZA()()()),2&t&&(c.xp6(17),c.Q6J("pageName","video"))},dependencies:[Mh],styles:['h1[_ngcontent-%COMP%]{font-size:calc(3rem + 3vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:50%;color:hsl(var(--clr-light))}.btn-group[_ngcontent-%COMP%]{margin:2em 0;display:relative}.btn[_ngcontent-%COMP%]{padding:1em 2em;text-decoration:none;text-transform:uppercase;border-radius:5px;position:relative;display:inline-block;line-height:1}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:1em}.btn-secondary[_ngcontent-%COMP%]{background:var(--foreground);color:var(--background)}.btn-accent[_ngcontent-%COMP%]{background:hsl(var(--clr-light));color:var(--foreground)}.btn[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;left:-4px;top:4px;border-radius:inherit;z-index:-1}.intro[_ngcontent-%COMP%]{height:30vh;padding:10rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.intro[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-column:2/3}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#0f1626}.container[_ngcontent-%COMP%]{display:grid;flex:1;align-items:center;justify-content:center}.info-container[_ngcontent-%COMP%]{padding:1rem}.image_carousel_container[_ngcontent-%COMP%]{margin:auto;padding:auto}.subtitle[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:1rem;color:var(--background)}.responsive[_ngcontent-%COMP%]{width:100%;height:auto}@media (max-width: 35rem){h1[_ngcontent-%COMP%]{font-size:calc(2.5rem + 2vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:80%;color:hsl(var(--clr-light))}.intro[_ngcontent-%COMP%]{height:100%;padding:1rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#0f1626;height:100%;flex-direction:column-reverse}.carousel-container[_ngcontent-%COMP%]{display:unset;padding:2rem}}']}),n})(),yC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-tour3d"]],decls:21,vars:1,consts:[[1,"section-container"],[1,"container","carousel-container"],[1,"image_carousel_container"],["src","https://1.bp.blogspot.com/-BiT4xISoNZw/XzwOyxiAbqI/AAAAAAADntA/hWziUSDc_SIULpXCtavxrIkc5cGNZK0eACLcBGAsYHQ/s1024/19918-119th-Ave-SE-08182020_101528.jpg",1,"responsive",2,"border","1px solid black"],[1,"container","info-container"],[1,"intro"],[1,"subtitle"],[1,"btn-group"],["href","#",1,"btn","btn-accent"],["href","#",1,"btn","btn-secondary"],[3,"pageName"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2),c._UZ(3,"img",3),c.qZA()(),c.TgZ(4,"div",4)(5,"section",5)(6,"h1"),c._uU(7,"3D Tours"),c.qZA(),c.TgZ(8,"p",6),c._uU(9," Matterport 3D tours, Zillow 3D Home, and Cupix 3D Virtual Space all help create a full immersive virtual experience for potential buyers. It is the best way to let your customer experience your listing online from the safety and comfort of their home. Plus, 3D Tours allow the luxury of a 24/7 open house "),c.qZA(),c.TgZ(10,"ul")(11,"li"),c._uU(12," According to a recent study, consumers say a 3D virtual home tour is the second most desired feature in their home search after professional bright photos. "),c.qZA(),c.TgZ(13,"li"),c._uU(14," Zillow\xae listings with a 3D Tour receive twice the number of views as other listings. "),c.qZA()(),c.TgZ(15,"div",7)(16,"a",8),c._uU(17,"Inquire"),c.qZA(),c.TgZ(18,"a",9),c._uU(19,"More info"),c.qZA()(),c._UZ(20,"app-table-card-list",10),c.qZA()()()),2&t&&(c.xp6(20),c.Q6J("pageName","3d"))},dependencies:[Mh],styles:['h1[_ngcontent-%COMP%]{font-size:calc(3rem + 3vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:50%;color:hsl(var(--clr-light))}li[_ngcontent-%COMP%]{color:hsl(var(--clr-light))}.btn-group[_ngcontent-%COMP%]{margin:2em 0;display:relative}.btn[_ngcontent-%COMP%]{padding:1em 2em;text-decoration:none;text-transform:uppercase;border-radius:5px;position:relative;display:inline-block;line-height:1}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:1em}.btn-secondary[_ngcontent-%COMP%]{background:var(--foreground);color:var(--background)}.btn-accent[_ngcontent-%COMP%]{background:hsl(var(--clr-light));color:var(--foreground)}.btn[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;left:-4px;top:4px;border-radius:inherit;z-index:-1}.intro[_ngcontent-%COMP%]{height:30vh;padding:10rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.intro[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-column:2/3}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#0f1626}.container[_ngcontent-%COMP%]{display:grid;flex:1;align-items:center;justify-content:center}.info-container[_ngcontent-%COMP%]{padding:1rem}.subtitle[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:1rem;color:var(--background)}.image_carousel_container[_ngcontent-%COMP%]{margin:auto;padding:auto}.responsive[_ngcontent-%COMP%]{width:100%;height:auto}@media (max-width: 35rem){h1[_ngcontent-%COMP%]{font-size:calc(2.5rem + 2vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:80%;color:hsl(var(--clr-light))}.intro[_ngcontent-%COMP%]{height:100%;padding:1rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#0f1626;height:100%;flex-direction:column-reverse}.carousel-container[_ngcontent-%COMP%]{display:unset;padding:2rem}}']}),n})(),vC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-floorplan"]],decls:21,vars:1,consts:[[1,"section-container"],[1,"container","carousel-container"],[1,"image_carousel_container"],[3,"galleryType"],[1,"container","info-container"],[1,"intro"],[1,"subtitle"],[1,"btn-group"],["href","#",1,"btn","btn-accent"],["href","#",1,"btn","btn-secondary"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2),c._UZ(3,"app-dynamic-image-carousel",3),c.qZA()(),c.TgZ(4,"div",4)(5,"section",5)(6,"h1"),c._uU(7,"Floor Plan"),c.qZA(),c.TgZ(8,"p",6),c._uU(9," When viewing your listings, potential buyers and/or tenants will appreciate this option. With windows, doors, rooms, and spaces drawn. Room names can be customized as needed. Individual room measurements can be displayed, or they can be left out entirely. Delivered as a jpg file, which you can add to your listing alongside the photographs. A black and white floor plan is the clear way for you potential buyers to get a good understanding of the home\u2019s layout. "),c._UZ(10,"br")(11,"br"),c._uU(12," Often, buyers like to see how rooms relate to each other and how the property flows when buying a home. Unlike a simple photograph, a floor plan contains more information about each home. It is also important to consider dimensions during this process. Buyers will be able to determine whether a property suits their needs if its dimensions are clear, which can be difficult in some cases. "),c._UZ(13,"br"),c._uU(14," A floor plan gives the buyer a chance to visualize the property as their very own, rather than someone else's. "),c._UZ(15,"br"),c.qZA(),c.TgZ(16,"div",7)(17,"a",8),c._uU(18,"Inquire"),c.qZA(),c.TgZ(19,"a",9),c._uU(20,"More info"),c.qZA()()()()()),2&t&&(c.xp6(3),c.Q6J("galleryType","floorPlan"))},dependencies:[Op],styles:['h1[_ngcontent-%COMP%]{font-size:calc(3rem + 3vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:50%;color:hsl(var(--clr-light))}.btn-group[_ngcontent-%COMP%]{margin:2em 0;display:relative}.btn[_ngcontent-%COMP%]{padding:1em 2em;text-decoration:none;text-transform:uppercase;border-radius:5px;position:relative;display:inline-block;line-height:1}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:1em}.btn-secondary[_ngcontent-%COMP%]{background:var(--foreground);color:var(--background)}.btn-accent[_ngcontent-%COMP%]{background:hsl(var(--clr-light));color:var(--foreground)}.btn[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;left:-4px;top:4px;border-radius:inherit;z-index:-1}.intro[_ngcontent-%COMP%]{height:30vh;padding:10rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.intro[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-column:2/3}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#AB987A}.container[_ngcontent-%COMP%]{display:grid;flex:1;align-items:center;justify-content:center}.info-container[_ngcontent-%COMP%]{padding:1rem}.image_carousel_container[_ngcontent-%COMP%]{margin:auto;padding:auto}.subtitle[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:1rem;color:var(--background)}@media (max-width: 35rem){h1[_ngcontent-%COMP%]{font-size:calc(2.5rem + 2vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:80%;color:hsl(var(--clr-light))}.intro[_ngcontent-%COMP%]{height:100%;padding:1rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#AB987A;height:100%;flex-direction:column-reverse}.carousel-container[_ngcontent-%COMP%]{display:unset;padding:2rem}}']}),n})(),$S=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-staging"]],decls:22,vars:2,consts:[[1,"section-container"],[1,"container","carousel-container"],[1,"image_carousel_container"],[3,"galleryType"],[1,"container","info-container"],[1,"intro"],[1,"subtitle"],[1,"btn-group"],["href","#",1,"btn","btn-accent"],["href","#",1,"btn","btn-secondary"],[3,"pageName"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2),c._UZ(3,"app-dynamic-image-carousel",3),c.qZA()(),c.TgZ(4,"div",4)(5,"section",5)(6,"h1"),c._uU(7,"Staging"),c.qZA(),c.TgZ(8,"p",6),c._uU(9," It is difficult to stand out in a sea of vacant home listings. Using virtual staging, you can turn boring rooms into dream properties, which will increase views, attention, and leads for your listing. "),c._UZ(10,"br"),c._uU(11," According to the National Association of Realtors\xae, nine out of ten buyers decide whether to walk through a home based on the photos of the listing. It can be difficult for potential buyers to gauge the size and feel of a home when it is vacant. A room can become a home with the right furniture and staging techniques. Building an emotional connection between a house and prospective buyers is key to selling houses quickly and for the most profit. "),c._UZ(12,"br"),c._uU(13," Virtual staging - as its name implies - is 100% virtual, so there is no physical labor involved. This will save you the trouble of doing physical work or hiring a moving company. "),c._UZ(14,"br"),c._uU(15," Virtual staging extends far beyond adding furniture and decor to empty photos. As well as removing and replacing furniture, virtual staging software can even renovate entire rooms. "),c.qZA(),c.TgZ(16,"div",7)(17,"a",8),c._uU(18,"Inquire"),c.qZA(),c.TgZ(19,"a",9),c._uU(20,"More info"),c.qZA()(),c._UZ(21,"app-table-card-list",10),c.qZA()()()),2&t&&(c.xp6(3),c.Q6J("galleryType","staging"),c.xp6(18),c.Q6J("pageName","staging"))},dependencies:[Mh,Op],styles:['h1[_ngcontent-%COMP%]{font-size:calc(3rem + 3vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:50%;color:hsl(var(--clr-light))}.btn-group[_ngcontent-%COMP%]{margin:2em 0;display:relative}.btn[_ngcontent-%COMP%]{padding:1em 2em;text-decoration:none;text-transform:uppercase;border-radius:5px;position:relative;display:inline-block;line-height:1}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:1em}.btn-secondary[_ngcontent-%COMP%]{background:var(--foreground);color:var(--background)}.btn-accent[_ngcontent-%COMP%]{background:hsl(var(--clr-light));color:var(--foreground)}.btn[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;left:-4px;top:4px;border-radius:inherit;z-index:-1}.intro[_ngcontent-%COMP%]{height:30vh;padding:10rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.intro[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-column:2/3}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#FF533D}.container[_ngcontent-%COMP%]{display:grid;flex:1;align-items:center;justify-content:center}.info-container[_ngcontent-%COMP%]{padding:1rem}.image_carousel_container[_ngcontent-%COMP%]{margin:auto;padding:auto}.subtitle[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:1rem;color:var(--background)}@media (max-width: 35rem){h1[_ngcontent-%COMP%]{font-size:calc(2.5rem + 2vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:80%;color:hsl(var(--clr-light))}.intro[_ngcontent-%COMP%]{height:100%;padding:1rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#FF533D;height:100%;flex-direction:column-reverse}.carousel-container[_ngcontent-%COMP%]{display:unset;padding:2rem}}']}),n})(),vy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-aerial"]],decls:23,vars:1,consts:[[1,"section-container"],[1,"container","carousel-container"],[1,"image_carousel_container"],[3,"galleryType"],[1,"container","info-container"],[1,"intro"],[1,"pageHeader"],[1,"subtitle"],[1,"btn-group"],["href","#",1,"btn","btn-accent"],["href","#",1,"btn","btn-secondary"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2),c._UZ(3,"app-dynamic-image-carousel",3),c.qZA()(),c.TgZ(4,"div",4)(5,"section",5)(6,"h1"),c._uU(7,"Aerial Photography"),c.qZA(),c.TgZ(8,"h2",6),c._uU(9,"& Video"),c.qZA(),c.TgZ(10,"p",7),c._uU(11," Aerial photography and video have become increasingly popular in the real estate industry due to their ability to provide a unique perspective of a property. With the help of drones we can capture stunning footage from high above, showcasing a property's unique selling features from a bird's-eye view. "),c._UZ(12,"br")(13,"br"),c._uU(14," By providing a visual representation of the property and its surroundings, aerial photography and video can help potential buyers get a better idea of what the property has to offer. This is especially useful for showcasing a property's location, proximity to amenities, and natural surroundings. By capturing footage of the surrounding neighborhood and landmarks from above, agents can help potential buyers get a better understanding of the property's location and its unique surroundings. "),c._UZ(15,"br")(16,"br"),c._uU(17," Million dollar properties with waterfront views, acreage and one-of-a-kind land features can all be highlighted and showcased with aerial/drone photography and video. "),c.qZA(),c.TgZ(18,"div",8)(19,"a",9),c._uU(20,"Inquire"),c.qZA(),c.TgZ(21,"a",10),c._uU(22,"More info"),c.qZA()()()()()),2&t&&(c.xp6(3),c.Q6J("galleryType","aerial"))},dependencies:[Op],styles:['h1[_ngcontent-%COMP%]{font-size:calc(3rem + 3vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:50%;color:hsl(var(--clr-light))}.btn-group[_ngcontent-%COMP%]{margin:2em 0;display:relative}.btn[_ngcontent-%COMP%]{padding:1em 2em;text-decoration:none;text-transform:uppercase;border-radius:5px;position:relative;display:inline-block;line-height:1}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:1em}.btn-secondary[_ngcontent-%COMP%]{background:var(--foreground);color:var(--background)}.btn-accent[_ngcontent-%COMP%]{background:hsl(var(--clr-light));color:var(--foreground)}.btn[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;left:-4px;top:4px;border-radius:inherit;z-index:-1}.intro[_ngcontent-%COMP%]{height:30vh;padding:10rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.intro[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{grid-column:2/3}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#FF533D}.container[_ngcontent-%COMP%]{display:grid;flex:1;align-items:center;justify-content:center}.info-container[_ngcontent-%COMP%]{padding:1rem}.image_carousel_container[_ngcontent-%COMP%]{margin:auto;padding:auto}.subtitle[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:1rem;color:var(--background)}@media (max-width: 35rem){h1[_ngcontent-%COMP%]{font-size:calc(2.5rem + 2vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:80%;color:hsl(var(--clr-light))}.intro[_ngcontent-%COMP%]{height:100%;padding:1rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#FF533D;height:100%;flex-direction:column-reverse}.carousel-container[_ngcontent-%COMP%]{display:unset;padding:2rem}}']}),n})(),Y0=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Fl=(()=>{class n extends Y0{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Po=new c.OlP("NgValueAccessor"),_C={provide:Po,useExisting:(0,c.Gpc)(()=>Pp),multi:!0},wC=new c.OlP("CompositionEventMode");let Pp=(()=>{class n extends Y0{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _y(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(wC,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[c._Bn([_C]),c.qOj]}),n})();const IC=!1;function Iu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function J0(n){return null!=n&&"number"==typeof n.length}const Nn=new c.OlP("NgValidators"),Ro=new c.OlP("NgAsyncValidators"),bC=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ll{static min(e){return function wy(n){return e=>{if(Iu(e.value)||Iu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function ew(n){return e=>{if(Iu(e.value)||Iu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return tw(e)}static requiredTrue(e){return function nw(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Rp(n){return Iu(n.value)||bC.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function rw(n){return e=>Iu(e.value)||!J0(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function iw(n){return e=>J0(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function xh(n){if(!n)return Vl;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Iu(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return by(e)}static composeAsync(e){return Fp(e)}}function tw(n){return Iu(n.value)?{required:!0}:null}function Vl(n){return null}function Oh(n){return null!=n}function EC(n){const e=(0,c.QGY)(n)?(0,Wt.D)(n):n;if(IC&&!(0,c.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new c.vHH(-1101,t)}return e}function Np(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function CC(n,e){return e.map(t=>t(n))}function Iy(n){return n.map(e=>function sw(n){return!n.validate}(e)?e:t=>e.validate(t))}function by(n){if(!n)return null;const e=n.filter(Oh);return 0==e.length?null:function(t){return Np(CC(t,e))}}function kp(n){return null!=n?by(Iy(n)):null}function Fp(n){if(!n)return null;const e=n.filter(Oh);return 0==e.length?null:function(t){return function K0(...n){const e=(0,Js.jO)(n),{args:t,keys:r}=da(n),o=new ts.y(u=>{const{length:d}=t;if(!d)return void u.complete();const m=new Array(d);let _=d,C=d;for(let T=0;T<d;T++){let N=!1;(0,Et.Xf)(t[T]).subscribe((0,V.x)(u,G=>{N||(N=!0,C--),m[T]=G},()=>_--,void 0,()=>{(!_||!N)&&(C||u.next(r?M(r,m):m),u.complete())}))}});return e?o.pipe(D(e)):o}(CC(t,e).map(EC)).pipe((0,Dt.U)(Np))}}function no(n){return null!=n?Fp(Iy(n)):null}function Ph(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Rh(n){return n._rawValidators}function Xc(n){return n._rawAsyncValidators}function Ey(n){return n?Array.isArray(n)?n:[n]:[]}function Nh(n,e){return Array.isArray(n)?n.includes(e):n===e}function Cy(n,e){const t=Ey(e);return Ey(n).forEach(o=>{Nh(t,o)||t.push(o)}),t}function ow(n,e){return Ey(e).filter(t=>!Nh(n,t))}class aw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=kp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=no(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Nr extends aw{get formDirective(){return null}get path(){return null}}class bu extends aw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class DC{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let uw=(()=>{class n extends DC{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(bu,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[c.qOj]}),n})(),lw=(()=>{class n extends DC{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Nr,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[c.qOj]}),n})();function dw(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const pw=!1,Jc="VALID",Ty="INVALID",Ca="PENDING",kh="DISABLED";function Sy(n){return(Eu(n)?n.validators:n)||null}function xy(n,e){return(Eu(e)?e.asyncValidators:n)||null}function Eu(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function ri(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new c.vHH(1e3,pw?function hw(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new c.vHH(1001,pw?function fw(n,e){return`Cannot find form control ${dw(n,e)}`}(e,t):"")}function Cu(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new c.vHH(1002,pw?function SC(n,e){return`Must supply a value for form control ${dw(n,e)}`}(e,o):"")})}class Ul{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Jc}get invalid(){return this.status===Ty}get pending(){return this.status==Ca}get disabled(){return this.status===kh}get enabled(){return this.status!==kh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Cy(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Cy(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ow(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ow(e,this._rawAsyncValidators))}hasValidator(e){return Nh(this._rawValidators,e)}hasAsyncValidator(e){return Nh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ca,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=kh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Jc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jc||this.status===Ca)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kh:Jc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ca,this._hasOwnPendingAsyncValidator=!0;const t=EC(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?kh:this.errors?Ty:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ca)?Ca:this._anyControlsHaveStatus(Ty)?Ty:Jc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Eu(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function My(n){return Array.isArray(n)?kp(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function No(n){return Array.isArray(n)?no(n):n||null}(this._rawAsyncValidators)}}class pi extends Ul{constructor(e,t,r){super(Sy(t),xy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Cu(this,!0,e),Object.keys(e).forEach(r=>{ri(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Bl extends pi{}const xs=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ko}),ko="always";function Fo(n,e,t=ko){Up(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function yw(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Oy(n,e)})}(n,e),function _w(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function vw(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Oy(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function mw(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Aa(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Vh(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ta(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Up(n,e){const t=Rh(n);null!==e.validator?n.setValidators(Ph(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Xc(n);null!==e.asyncValidator?n.setAsyncValidators(Ph(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Ta(e._rawValidators,o),Ta(e._rawAsyncValidators,o)}function Vh(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=Rh(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(d=>d!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=Xc(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(d=>d!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Ta(e._rawValidators,r),Ta(e._rawAsyncValidators,r),t}function Oy(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ny(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function ky(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const $l=class extends Ul{constructor(e=null,t,r){super(Sy(t),xy(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Eu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=ky(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ny(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ny(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){ky(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Hp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Uy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const td=new c.OlP("NgModelWithFormControlWarning"),VC={provide:Nr,useExisting:(0,c.Gpc)(()=>nd)};let nd=(()=>{class n extends Nr{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Fo(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Aa(t.control||null,t,!1),function jp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Iw(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(Aa(r||null,t),(n=>n instanceof $l)(o)&&(Fo(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Py(n,e){Up(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function ww(n,e){return Vh(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Up(this.form,this),this._oldForm&&Vh(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Nn,10),c.Y36(Ro,10),c.Y36(xs,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([VC]),c.qOj,c.TTD]}),n})();const eM={provide:bu,useExisting:(0,c.Gpc)(()=>$y)};let $y=(()=>{class n extends bu{set isDisabled(t){}constructor(t,r,o,u,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function ed(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===Pp?t=u:function Ry(n){return Object.getPrototypeOf(n.constructor)===Fl}(u)?r=u:o=u}),o||r||t||null}(0,u)}ngOnChanges(t){this._added||this._setUpControl(),function Uh(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Da(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(Nr,13),c.Y36(Nn,10),c.Y36(Ro,10),c.Y36(Po,10),c.Y36(td,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([eM]),c.qOj,c.TTD]}),n})();const jC={provide:Po,useExisting:(0,c.Gpc)(()=>tr),multi:!0};function Hy(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let tr=(()=>{class n extends Fl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=Hy(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function $C(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([jC]),c.qOj]}),n})(),zy=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Hy(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(tr,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const HC={provide:Po,useExisting:(0,c.Gpc)(()=>zp),multi:!0};function Ow(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let zp=(()=>{class n extends Fl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(u=>this._getOptionId(u));r=(u,d)=>{u._setSelected(o.indexOf(d.toString())>-1)}}else r=(o,u)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[],u=r.selectedOptions;if(void 0!==u){const d=u;for(let m=0;m<d.length;m++){const C=this._getOptionValue(d[m].value);o.push(C)}}else{const d=r.options;for(let m=0;m<d.length;m++){const _=d[m];if(_.selected){const C=this._getOptionValue(_.value);o.push(C)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Pw(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([HC]),c.qOj]}),n})(),Gy=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Ow(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Ow(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(zp,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Gl=(()=>{class n{constructor(){this._validator=Vl}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Vl,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const Zy={provide:Nn,useExisting:(0,c.Gpc)(()=>cs),multi:!0};let cs=(()=>{class n extends Gl{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.D6c,this.createValidator=t=>tw}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([Zy]),c.qOj]}),n})(),rd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Uy]}),n})();class jw extends Ul{constructor(e,t,r){super(Sy(t),xy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Cu(this,!1,e),e.forEach((r,o)=>{ri(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Ky(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let $w=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const o=this._reduceControls(t);let u={};return Ky(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new pi(o,u)}record(t,r=null){const o=this._reduceControls(t);return new Bl(o,r)}control(t,r,o){let u={};return this.useNonNullable?(Ky(r)?u=r:(u.validators=r,u.asyncValidators=o),new $l(t,{...u,nonNullable:!0})):new $l(t,r,o)}array(t,r,o){const u=t.map(d=>this._createControl(d));return new jw(u,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return t instanceof $l||t instanceof Ul?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hw=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:xs,useValue:t.callSetDisabledState??ko}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[rd]}),n})(),Qy=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:td,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:xs,useValue:t.callSetDisabledState??ko}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[rd]}),n})();class Hh{constructor(e,t,r,o,u,d,m,_,C){this.id=e,this.name=t,this.email=r,this.address=o,this.date=u,this.time=d,this.size=m,this.mediaPackage=_,this.total=C}}class ji{constructor(e,t,r,o,u,d,m,_){this.id=e,this.icon=t,this.title=r,this.subtitle=o,this.features=u,this.price=d,this.sqFtPrice=m,this.selected=_}}let Xy=(()=>{class n{constructor(){this.listOfProducts=[new ji(1,'<img src="../../../assets/cameraPlus.svg">',"Showcase","Package",["15 - 30 Edited Images","Blue Skies Exteriors","Clear Interior Window Views","Natural Interior Lighting","Manually edited","Virtual Staging**"],295,60,!1),new ji(2,'<img src="../../../assets/cameraMinus.svg">',"Essentials","Package",["15 - 30 Edited Images","Blue Skies Exteriors","Clear Interior Window Views","Natural Interior Lighting","Manually edited","Virtual Staging**"],230,30,!1),new ji(3,'<img src="../../../assets/drone.svg">',"Aerial","Package",["5-10 Aerial Photos","Manually edited","Location Indicator"],120,1,!1),new ji(4,'<img src="../../../assets/sunset.svg">',"TWILIGHT","Package",["Photos captured 30 minutes before sunset","Taken on-site and requires a separate appointment."],120,1,!1),new ji(5,'<img src="../../../assets/3DTour.svg">',"3D Tour","(MatterPort 3D)",["12-hour turnaround","Outdoor 360 Images","3 Months Hosting Included"],225,1,!1),new ji(5,'<img src="../../../assets/3DTour.svg">',"Zillow 3D","(Zillow 3D)",["12-hour turnaround","Outdoor 360 Images","3 Months Hosting Included"],175,1,!1),new ji(6,'<img src="../../../assets/floorplan.svg">',"Floor Plan","Package",["2D Floor Plan ","Estimated Dimensions "],75,1,!1),new ji(7,'<img src="../../../assets/video.svg">',"Video Tour","",["1 Minute Aerial Video","Multiple Angles","MLS optimized","48-hour turnaround","Youtube Streaming","Agent Details"],295,1,!1),new ji(8,'<img src="../../../assets/slideshow.svg">',"Slideshow","Tour",["1-2 min long slide show","5 second slides with music"],295,1,!1),new ji(9,'<img src="../../../assets/social.svg">',"Social Media","Tour",["60 second social media video with music "],295,1,!1),new ji(10,'<img src="../../../assets/user.svg">',"Agent Headshots","",["10 - 20 Edited Photos","White / Gray Background","MLS optimized","48-hour turnaround"],295,1,!1),new ji(11,'<img src="../../../assets/brand.svg">',"Lifestyle Branding","",["5 - 10 Edited Photos","On Locatoin","MLS optimized","48-hour turnaround"],295,1,!1),new ji(12,'<img src="../../../assets/stageing.svg">',"Virtual Staging","",["Call for Details"],295,1,!1)]}GetProducts(t){return this.listOfProducts.find("showcase"===t?r=>1==r.id:r=>2==r.id)}GetAllProducts(){return this.listOfProducts}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var zw=L(4986),_n=L(2122);function Gp(){return(0,bn.e)((n,e)=>{let t,r=!1;n.subscribe((0,V.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function Zw(n,e){return n===e}var gt,Ps=L(2011),KC=(L(9568),L(3942)),ve=L(5861),Sa=L(9681),Zp=L(4859),Au=L(1877),dn=L(2090),YC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ma={},Jy=Jy||{},$t=YC||self;function qp(){}function Wp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function zh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ev="closure_uid_"+(1e9*Math.random()>>>0),XC=0;function qw(n,e,t){return n.call.apply(n.bind,arguments)}function Ww(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function ii(n,e,t){return(ii=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qw:Ww).apply(null,arguments)}function Gh(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function qr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,o,u){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[o].apply(r,d)}}function xa(){this.s=this.s,this.o=this.o}xa.prototype.s=!1,xa.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function QC(n){Object.prototype.hasOwnProperty.call(n,ev)&&n[ev]||(n[ev]=++XC)}(this)},xa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Kp(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function nv(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Wp(r)){const o=n.length||0,u=r.length||0;n.length=o+u;for(let d=0;d<u;d++)n[o+d]=r[d]}else n.push(r)}}function si(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}si.prototype.h=function(){this.defaultPrevented=!0};var Zl=function(){if(!$t.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$t.addEventListener("test",qp,e),$t.removeEventListener("test",qp,e)}catch{}return n}();function Yp(n){return/^[\s\xa0]*$/.test(n)}var Yw=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Tu(n,e){return n<e?-1:n>e?1:0}function rv(){var n=$t.navigator;return n&&(n=n.userAgent)?n:""}function Rs(n){return-1!=rv().indexOf(n)}function Qw(n){return Qw[" "](n),n}Qw[" "]=qp;var Qp,n,Jw=Rs("Opera"),Zh=Rs("Trident")||Rs("MSIE"),At=Rs("Edge"),iv=At||Zh,eI=Rs("Gecko")&&!(-1!=rv().toLowerCase().indexOf("webkit")&&!Rs("Edge"))&&!(Rs("Trident")||Rs("MSIE"))&&!Rs("Edge"),JC=-1!=rv().toLowerCase().indexOf("webkit")&&!Rs("Edge");function ql(){var n=$t.document;return n?n.documentMode:void 0}e:{var id="",sd=(n=rv(),eI?/rv:([^\);]+)(\)|;)/.exec(n):At?/Edge\/([\d\.]+)/.exec(n):Zh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):JC?/WebKit\/(\S+)/.exec(n):Jw?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(sd&&(id=sd?sd[1]:""),Zh){var zn=ql();if(null!=zn&&zn>parseFloat(id)){Qp=String(zn);break e}}Qp=id}var aM={};var rI=$t.document&&Zh&&(ql()||parseInt(Qp,10))||void 0;function od(n,e){if(si.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(eI){e:{try{Qw(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:iI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&od.X.h.call(this)}}qr(od,si);var iI={2:"touch",3:"pen",4:"mouse"};od.prototype.h=function(){od.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ad="closure_listenable_"+(1e6*Math.random()|0),eD=0;function tD(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=o,this.key=++eD,this.ba=this.ea=!1}function Jp(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Wl(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function sI(n){const e={};for(const t in n)e[t]=n[t];return e}const oI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function aI(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<oI.length;u++)t=oI[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Kl(n){this.src=n,this.g={},this.h=0}function eg(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=tv(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(Jp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function tg(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return o}return-1}Kl.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=tg(n,e,r,o);return-1<d?(e=n[d],t||(e.ea=!1)):((e=new tD(e,this.src,u,!!r,o)).ea=t,n.push(e)),e};var ng="closure_lm_"+(1e6*Math.random()|0),sv={};function ud(n,e,t,r,o){if(r&&r.once)return uI(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)ud(n,e[u],t,r,o);return null}return t=uv(t),n&&n[ad]?n.N(e,t,zh(r)?!!r.capture:!!r,o):ld(n,e,t,!1,r,o)}function ld(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var d=zh(o)?!!o.capture:!!o,m=av(n);if(m||(n[ng]=m=new Kl(n)),(t=m.add(e,t,r,d,u)).proxy)return t;if(r=function nD(){const e=cI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Zl||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(ov(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function uI(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)uI(n,e[u],t,r,o);return null}return t=uv(t),n&&n[ad]?n.O(e,t,zh(r)?!!r.capture:!!r,o):ld(n,e,t,!0,r,o)}function lI(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)lI(n,e[u],t,r,o);else r=zh(r)?!!r.capture:!!r,t=uv(t),n&&n[ad]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=tg(u=n.g[e],t,r,o))&&(Jp(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=av(n))&&(e=n.g[e.toString()],n=-1,e&&(n=tg(e,t,r,o)),(t=-1<n?e[n]:null)&&rg(t))}function rg(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[ad])eg(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(ov(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=av(e))?(eg(t,n),0==t.h&&(t.src=null,e[ng]=null)):Jp(n)}}}function ov(n){return n in sv?sv[n]:sv[n]="on"+n}function cI(n,e){if(n.ba)n=!0;else{e=new od(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&rg(n),n=t.call(r,e)}return n}function av(n){return(n=n[ng])instanceof Kl?n:null}var ig="__closure_events_fn_"+(1e9*Math.random()>>>0);function uv(n){return"function"==typeof n?n:(n[ig]||(n[ig]=function(e){return n.handleEvent(e)}),n[ig])}function Wr(){xa.call(this),this.i=new Kl(this),this.P=this,this.I=null}function gi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new si(e,n);else if(e instanceof si)e.target=e.target||n;else{var o=e;aI(e=new si(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];o=lv(d,r,!0,e)&&o}if(o=lv(d=e.g=n,r,!0,e)&&o,o=lv(d,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=lv(d=e.g=t[u],r,!1,e)&&o}function lv(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ba&&d.capture==t){var m=d.listener,_=d.ha||d.src;d.ea&&eg(n.i,d),o=!1!==m.call(_,r)&&o}}return o&&!r.defaultPrevented}qr(Wr,xa),Wr.prototype[ad]=!0,Wr.prototype.removeEventListener=function(n,e,t,r){lI(this,n,e,t,r)},Wr.prototype.M=function(){if(Wr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Jp(t[r]);delete n.g[e],n.h--}}this.I=null},Wr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Wr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var dI=$t.JSON.stringify;function uM(){var n=fI;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Yl,qh=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new rD,n=>n.reset());class rD{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function iD(n){$t.setTimeout(()=>{throw n},0)}function cv(n,e){Yl||function sD(){var n=$t.Promise.resolve(void 0);Yl=function(){n.then(oD)}}(),dv||(Yl(),dv=!0),fI.add(n,e)}var dv=!1,fI=new class hI{constructor(){this.h=this.g=null}add(e,t){const r=qh.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function oD(){for(var n;n=uM();){try{n.h.call(n.g)}catch(t){iD(t)}var e=qh;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}dv=!1}function hv(n,e){Wr.call(this),this.h=n||1,this.g=e||$t,this.j=ii(this.lb,this),this.l=Date.now()}function fv(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function sg(n,e,t){if("function"==typeof n)t&&(n=ii(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ii(n.handleEvent,n)}return 2147483647<Number(e)?-1:$t.setTimeout(n,e||0)}function pI(n){n.g=sg(()=>{n.g=null,n.i&&(n.i=!1,pI(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}qr(hv,Wr),(gt=hv.prototype).ca=!1,gt.R=null,gt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),gi(this,"tick"),this.ca&&(fv(this),this.start()))}},gt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gt.M=function(){hv.X.M.call(this),fv(this),delete this.g};class aD extends xa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pI(this)}M(){super.M(),this.g&&($t.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oa(n){xa.call(this),this.h=n,this.g={}}qr(Oa,xa);var gI=[];function pv(n,e,t,r){Array.isArray(t)||(t&&(gI[0]=t.toString()),t=gI);for(var o=0;o<t.length;o++){var u=ud(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function mI(n){Wl(n.g,function(e,t){this.g.hasOwnProperty(t)&&rg(e)},n),n.g={}}function Wh(){this.g=!0}function cd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function lD(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<o.length;d++)o[d]=""}}}return dI(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Oa.prototype.M=function(){Oa.X.M.call(this),mI(this)},Oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wh.prototype.Aa=function(){this.g=!1},Wh.prototype.info=function(){};var Su={},mv=null;function og(){return mv=mv||new Wr}function vI(n){si.call(this,Su.Pa,n)}function Kh(n){const e=og();gi(e,new vI(e))}function ag(n,e){si.call(this,Su.STAT_EVENT,n),this.stat=e}function Ai(n){const e=og();gi(e,new ag(e,n))}function yv(n,e){si.call(this,Su.Qa,n),this.size=e}function Yh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $t.setTimeout(function(){n()},e)}Su.Pa="serverreachability",qr(vI,si),Su.STAT_EVENT="statevent",qr(ag,si),Su.Qa="timingevent",qr(yv,si);var ug={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},_I={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function vv(){}function II(){}vv.prototype.h=null;var cg,Qh={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function _v(){si.call(this,"d")}function lg(){si.call(this,"c")}function dg(){}function Xh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Oa(this),this.O=cD,this.T=new hv(n=iv?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new wv}function wv(){this.i=null,this.g="",this.h=!1}qr(_v,si),qr(lg,si),qr(dg,vv),dg.prototype.g=function(){return new XMLHttpRequest},dg.prototype.i=function(){return{}},cg=new dg;var cD=45e3,Iv={},hg={};function Jh(n,e,t){n.K=1,n.v=nf(Ra(e)),n.s=t,n.P=!0,fg(n,null)}function fg(n,e){n.F=Date.now(),ef(n),n.A=Ra(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),AI(t.i,"t",r),n.C=0,t=n.l.H,n.h=new wv,n.g=jI(n.l,t?e:null,!n.s),0<n.N&&(n.L=new aD(ii(n.La,n,n.g),n.N)),pv(n.S,n.g,"readystatechange",n.ib),e=n.H?sI(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Kh(),function uD(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var d="",m=u.split("&"),_=0;_<m.length;_++){var C=m[_].split("=");if(1<C.length){var T=C[0];C=C[1];var N=T.split("_");d=2<=N.length&&"type"==N[1]?d+(T+"=")+C+"&":d+(T+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.U,n.s)}function bv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function pg(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=dD(n,t),o==hg){4==e&&(n.o=4,Ai(14),r=!1),cd(n.j,n.m,null,"[Incomplete Response]");break}if(o==Iv){n.o=4,Ai(15),cd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}cd(n.j,n.m,o,null),yg(n,o)}bv(n)&&o!=hg&&o!=Iv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ai(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Nv(e),e.K=!0,Ai(11))):(cd(n.j,n.m,t,"[Invalid Chunked Response]"),Ns(n),dd(n))}function dD(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?hg:(t=Number(e.substring(t,r)),isNaN(t)?Iv:(r+=1)+t>e.length?hg:(e=e.substr(r,t),n.C=r+t,e))}function ef(n){n.V=Date.now()+n.O,gg(n,n.O)}function gg(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Yh(ii(n.gb,n),e)}function mg(n){n.B&&($t.clearTimeout(n.B),n.B=null)}function dd(n){0==n.l.G||n.I||Dg(n.l,n)}function Ns(n){mg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,fv(n.T),mI(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function yg(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Dv(t.h,n)))if(!n.J&&Dv(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;pf(t),vd(t)}Rv(t),Ai(18)}}else t.Ba=o[1],0<t.Ba-t.T&&37500>o[2]&&t.L&&0==t.A&&!t.v&&(t.v=Yh(ii(t.cb,t),6e3));if(1>=xI(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Xl(t,11)}else if((n.J||t.g==n)&&pf(t),!Yp(e))for(o=t.Fa.g.parse(e),e=0;e<o.length;e++){let C=o[e];if(t.T=C[0],C=C[1],2==t.G)if("c"==C[0]){t.I=C[1],t.ka=C[2];const T=C[3];null!=T&&(t.ma=T,t.j.info("VER="+t.ma));const N=C[4];null!=N&&(t.Ca=N,t.j.info("SVER="+t.Ca));const G=C[5];null!=G&&"number"==typeof G&&0<G&&(t.J=r=1.5*G,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const J=n.g;if(J){const ge=J.g?J.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ge){var u=r.h;u.g||-1==ge.indexOf("spdy")&&-1==ge.indexOf("quic")&&-1==ge.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Av(u,u.h),u.h=null))}if(r.D){const Le=J.g?J.g.getResponseHeader("X-HTTP-Session-Id"):null;Le&&(r.za=Le,kn(r.F,r.D,Le))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var d=n;if((r=t).sa=Lv(r,r.H?r.ka:null,r.V),d.J){OI(r.h,d);var m=d,_=r.J;_&&m.setTimeout(_),m.B&&(mg(m),ef(m)),r.g=d}else UI(r);0<t.i.length&&_d(t)}else"stop"!=C[0]&&"close"!=C[0]||Xl(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?Xl(t,7):Eg(t):"noop"!=C[0]&&t.l&&t.l.wa(C),t.A=0)}Kh()}catch{}}function Ev(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Wp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function lM(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Wp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function hD(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Wp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}(gt=Xh.prototype).setTimeout=function(n){this.O=n},gt.ib=function(n){n=n.target;const e=this.L;e&&3==Na(n)?e.l():this.La(n)},gt.La=function(n){try{if(n==this.g)e:{const T=Na(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>T)&&(3!=T||iv||this.g&&(this.h.h||this.g.fa()||df(this.g)))){this.I||4!=T||7==e||Kh(),mg(this);var t=this.g.aa();this.Y=t;t:if(bv(this)){var r=df(this.g);n="";var o=r.length,u=4==Na(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ns(this),dd(this);var d="";break t}this.h.i=new $t.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.fa();if(this.i=200==t,function yI(n,e,t,r,o,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.U,T,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var m,_=this.g;if((m=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yp(m)){var C=m;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,Ai(12),Ns(this),dd(this);break e}cd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,yg(this,t)}this.P?(pg(this,T,d),iv&&this.i&&3==T&&(pv(this.S,this.T,"tick",this.hb),this.T.start())):(cd(this.j,this.m,d,null),yg(this,d)),4==T&&Ns(this),this.i&&!this.I&&(4==T?Dg(this.l,this):(this.i=!1,ef(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Ai(12)):(this.o=0,Ai(13)),Ns(this),dd(this)}}}catch{}},gt.hb=function(){if(this.g){var n=Na(this.g),e=this.g.fa();this.C<e.length&&(mg(this),pg(this,n,e),this.i&&4!=n&&ef(this))}},gt.cancel=function(){this.I=!0,Ns(this)},gt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function gv(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Kh(),Ai(17)),Ns(this),this.o=2,dd(this)):gg(this,this.V-n)};var vg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pa(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Pa){this.h=void 0!==e?e:n.h,tf(this,n.j),this.s=n.s,this.g=n.g,hd(this,n.m),this.l=n.l,e=n.i;var t=new sf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Cv(this,t),this.o=n.o}else n&&(t=String(n).match(vg))?(this.h=!!e,tf(this,t[1]||"",!0),this.s=fd(t[2]||""),this.g=fd(t[3]||"",!0),hd(this,t[4]),this.l=fd(t[5]||"",!0),Cv(this,t[6]||"",!0),this.o=fd(t[7]||"")):(this.h=!!e,this.i=new sf(null,this.h))}function Ra(n){return new Pa(n)}function tf(n,e,t){n.j=t?fd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function hd(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Cv(n,e,t){e instanceof sf?(n.i=e,function TI(n,e){e&&!n.j&&(Mu(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(mD(this,r),AI(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=rf(e,cM)),n.i=new sf(e,n.h))}function kn(n,e,t){n.i.set(e,t)}function nf(n){return kn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function fd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function rf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,pD),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function pD(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Pa.prototype.toString=function(){var n=[],e=this.j;e&&n.push(rf(e,bI,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(rf(e,bI,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(rf(t,"/"==t.charAt(0)?EI:gD,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",rf(t,CI)),n.join("")};var bI=/[#\/\?@]/g,gD=/[#\?:]/g,EI=/[#\?]/g,cM=/[#\?@]/g,CI=/#/g;function sf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Mu(n){n.g||(n.g=new Map,n.h=0,n.i&&function fD(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function mD(n,e){Mu(n),e=pd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function DI(n,e){return Mu(n),e=pd(n,e),n.g.has(e)}function AI(n,e,t){mD(n,e),0<t.length&&(n.i=null,n.g.set(pd(n,e),Kp(t)),n.h+=t.length)}function pd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function SI(n){this.l=n||vD,n=$t.PerformanceNavigationTiming?0<(n=$t.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($t.g&&$t.g.Ga&&$t.g.Ga()&&$t.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(gt=sf.prototype).add=function(n,e){Mu(this),this.i=null,n=pd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},gt.forEach=function(n,e){Mu(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},gt.oa=function(){Mu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let u=0;u<o.length;u++)t.push(e[r])}return t},gt.W=function(n){Mu(this);let e=[];if("string"==typeof n)DI(this,n)&&(e=e.concat(this.g.get(pd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},gt.set=function(n,e){return Mu(this),this.i=null,DI(this,n=pd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},gt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},gt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),d=this.W(r);for(r=0;r<d.length;r++){var o=u;""!==d[r]&&(o+="="+encodeURIComponent(String(d[r]))),n.push(o)}}return this.i=n.join("&")};var vD=10;function MI(n){return!!n.h||!!n.g&&n.g.size>=n.j}function xI(n){return n.h?1:n.g?n.g.size:0}function Dv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Av(n,e){n.g?n.g.add(e):n.h=e}function OI(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function gd(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Kp(n.i)}function _g(){}function PI(){this.g=new _g}function RI(n,e,t){const r=t||"";try{Ev(n,function(o,u){let d=o;zh(o)&&(d=dI(o)),e.push(r+u+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function af(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function uf(n){this.l=n.ac||null,this.j=n.jb||!1}function wg(n,e){Wr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=kI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}SI.prototype.cancel=function(){if(this.i=gd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},_g.prototype.stringify=function(n){return $t.JSON.stringify(n,void 0)},_g.prototype.parse=function(n){return $t.JSON.parse(n,void 0)},qr(uf,vv),uf.prototype.g=function(){return new wg(this.l,this.j)},uf.prototype.i=function(n){return function(){return n}}({}),qr(wg,Wr);var kI=0;function FI(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function lf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,cf(n)}function cf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(gt=wg.prototype).open=function(n,e){if(this.readyState!=kI)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,cf(this)},gt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||$t).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},gt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lf(this)),this.readyState=kI},gt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,cf(this)),this.g&&(this.readyState=3,cf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof $t.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;FI(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},gt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?lf(this):cf(this),3==this.readyState&&FI(this)}},gt.Va=function(n){this.g&&(this.response=this.responseText=n,lf(this))},gt.Ua=function(n){this.g&&(this.response=n,lf(this))},gt.ga=function(){this.g&&lf(this)},gt.setRequestHeader=function(n,e){this.v.append(n,e)},gt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},gt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(wg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var _D=$t.JSON.parse;function nr(n){Wr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=md,this.K=this.L=!1}qr(nr,Wr);var md="",wD=/^https?$/i,Tv=["POST","PUT"];function LI(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Ig(n),bg(n)}function Ig(n){n.D||(n.D=!0,gi(n,"complete"),gi(n,"error"))}function yd(n){if(n.h&&typeof Jy<"u"&&(!n.C[1]||4!=Na(n)||2!=n.aa()))if(n.v&&4==Na(n))sg(n.Ha,0,n);else if(gi(n,"readystatechange"),4==Na(n)){n.h=!1;try{const m=n.aa();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(vg)[1]||null;if(!o&&$t.self&&$t.self.location){var u=$t.self.location.protocol;o=u.substr(0,u.length-1)}r=!wD.test(o?o.toLowerCase():"")}t=r}if(t)gi(n,"complete"),gi(n,"success");else{n.m=6;try{var d=2<Na(n)?n.g.statusText:""}catch{d=""}n.j=d+" ["+n.aa()+"]",Ig(n)}}finally{bg(n)}}}function bg(n,e){if(n.g){VI(n);const t=n.g,r=n.C[0]?qp:null;n.g=null,n.C=null,e||gi(n,"ready");try{t.onreadystatechange=r}catch{}}}function VI(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&($t.clearTimeout(n.A),n.A=null)}function Na(n){return n.g?n.g.readyState:0}function df(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case md:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function hf(n){let e="";return Wl(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Sv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=hf(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):kn(n,e,t))}function ff(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Mv(n){this.Ca=0,this.i=[],this.j=new Wh,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=ff("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=ff("baseRetryDelayMs",5e3,n),this.bb=ff("retryDelaySeedMs",1e4,n),this.$a=ff("forwardChannelMaxRetries",2,n),this.ta=ff("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new SI(n&&n.concurrentRequestLimit),this.Fa=new PI,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Eg(n){if(xv(n),3==n.G){var e=n.U++,t=Ra(n.F);kn(t,"SID",n.I),kn(t,"RID",e),kn(t,"TYPE","terminate"),Ql(n,t),(e=new Xh(n,n.j,e,void 0)).K=2,e.v=nf(Ra(t)),t=!1,$t.navigator&&$t.navigator.sendBeacon&&(t=$t.navigator.sendBeacon(e.v.toString(),"")),!t&&$t.Image&&((new Image).src=e.v,t=!0),t||(e.g=jI(e.l,null),e.g.da(e.v)),e.F=Date.now(),ef(e)}Fv(n)}function vd(n){n.g&&(Nv(n),n.g.cancel(),n.g=null)}function xv(n){vd(n),n.u&&($t.clearTimeout(n.u),n.u=null),pf(n),n.h.cancel(),n.m&&("number"==typeof n.m&&$t.clearTimeout(n.m),n.m=null)}function _d(n){MI(n.h)||n.m||(n.m=!0,cv(n.Ja,n),n.C=0)}function Pv(n,e){var t;t=e?e.m:n.U++;const r=Ra(n.F);kn(r,"SID",n.I),kn(r,"RID",t),kn(r,"AID",n.T),Ql(n,r),n.o&&n.s&&Sv(r,n.o,n.s),t=new Xh(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Cg(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Av(n.h,t),Jh(t,r,e)}function Ql(n,e){n.ia&&Wl(n.ia,function(t,r){kn(e,r,t)}),n.l&&Ev({},function(t,r){kn(e,r,t)})}function Cg(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ii(n.l.Ra,n.l,n):null;e:{var o=n.i;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=o[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let m=!0;for(let _=0;_<t;_++){let C=o[_].h;const T=o[_].g;if(C-=u,0>C)u=Math.max(0,o[_].h-100),m=!1;else try{RI(T,d,"req"+C+"_")}catch{r&&r(T)}}if(m){r=d.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function UI(n){n.g||n.u||(n.Z=1,cv(n.Ia,n),n.A=0)}function Rv(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Yh(ii(n.Ia,n),kv(n,n.A)),n.A++,0))}function Nv(n){null!=n.B&&($t.clearTimeout(n.B),n.B=null)}function BI(n){n.g=new Xh(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Ra(n.sa);kn(e,"RID","rpc"),kn(e,"SID",n.I),kn(e,"CI",n.L?"0":"1"),kn(e,"AID",n.T),kn(e,"TYPE","xmlhttp"),Ql(n,e),n.o&&n.s&&Sv(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=nf(Ra(e)),t.s=null,t.P=!0,fg(t,n)}function pf(n){null!=n.v&&($t.clearTimeout(n.v),n.v=null)}function Dg(n,e){var t=null;if(n.g==e){pf(n),Nv(n),n.g=null;var r=2}else{if(!Dv(n.h,e))return;t=e.D,OI(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;gi(r=og(),new yv(r,t)),_d(n)}else UI(n);else if(3==(o=e.o)||0==o&&0<n.pa||!(1==r&&function Ov(n,e){return!(xI(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Yh(ii(n.Ja,n,e),kv(n,n.C)),n.C++,0)))}(n,e)||2==r&&Rv(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),o){case 1:Xl(n,5);break;case 4:Xl(n,10);break;case 3:Xl(n,6);break;default:Xl(n,2)}}function kv(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Xl(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ii(n.kb,n);t||(t=new Pa("//www.google.com/images/cleardot.gif"),$t.location&&"http"==$t.location.protocol||tf(t,"https"),nf(t)),function NI(n,e){const t=new Wh;if($t.Image){const r=new Image;r.onload=Gh(af,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Gh(af,t,r,"TestLoadImage: error",!1,e),r.onabort=Gh(af,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gh(af,t,r,"TestLoadImage: timeout",!1,e),$t.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ai(2);n.G=0,n.l&&n.l.va(e),Fv(n),xv(n)}function Fv(n){if(n.G=0,n.la=[],n.l){const e=gd(n.h);(0!=e.length||0!=n.i.length)&&(nv(n.la,e),nv(n.la,n.i),n.h.i.length=0,Kp(n.i),n.i.length=0),n.l.ua()}}function Lv(n,e,t){var r=t instanceof Pa?Ra(t):new Pa(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),hd(r,r.m);else{var o=$t.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var u=new Pa(null,void 0);r&&tf(u,r),e&&(u.g=e),o&&hd(u,o),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&kn(r,t,e),kn(r,"VER",n.ma),Ql(n,r),r}function jI(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new nr(t&&n.Da&&!n.ra?new uf({jb:!0}):n.ra)).Ka(n.H),e}function Vv(){}function gf(){if(Zh&&!(10<=Number(rI)))throw Error("Environmental error: no available transport.")}function ds(n,e){Wr.call(this),this.g=new Mv(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Yp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yp(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Er(this)}function Uv(n){_v.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function $I(){lg.call(this),this.status=1}function Er(n){this.g=n}(gt=nr.prototype).Ka=function(n){this.L=n},gt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():cg.g(),this.C=function wI(n){return n.h||(n.h=n.i())}(this.u?this.u:cg),this.g.onreadystatechange=ii(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void LI(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),o=$t.FormData&&n instanceof $t.FormData,!(0<=tv(Tv,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,d]of t)this.g.setRequestHeader(u,d);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{VI(this),0<this.B&&((this.K=function Lo(n){return Zh&&function tI(){return function Xw(n){var e=aM;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Yw(String(Qp)).split("."),t=Yw("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var o=e[d]||"",u=t[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=Tu(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||Tu(0==o[2].length,0==u[2].length)||Tu(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ii(this.qa,this)):this.A=sg(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){LI(this,u)}},gt.qa=function(){typeof Jy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gi(this,"timeout"),this.abort(8))},gt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,gi(this,"complete"),gi(this,"abort"),bg(this))},gt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bg(this,!0)),nr.X.M.call(this)},gt.Ha=function(){this.s||(this.F||this.v||this.l?yd(this):this.fb())},gt.fb=function(){yd(this)},gt.aa=function(){try{return 2<Na(this)?this.g.status:-1}catch{return-1}},gt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},gt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),_D(e)}},gt.Ea=function(){return this.m},gt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(gt=Mv.prototype).ma=8,gt.G=1,gt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const o=new Xh(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=sI(u),aI(u,this.S)):u=this.S),null!==this.o||this.N||(o.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Cg(this,o,e),kn(t=Ra(this.F),"RID",n),kn(t,"CVER",22),this.D&&kn(t,"X-HTTP-Session-Id",this.D),Ql(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(hf(u)))+"&"+e:this.o&&Sv(t,this.o,u)),Av(this.h,o),this.Ya&&kn(t,"TYPE","init"),this.O?(kn(t,"$req",e),kn(t,"SID","null"),o.Z=!0,Jh(o,t,null)):Jh(o,t,e),this.G=2}}else 3==this.G&&(n?Pv(this,n):0==this.i.length||MI(this.h)||Pv(this))},gt.Ia=function(){if(this.u=null,BI(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Yh(ii(this.eb,this),n)}},gt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ai(10),vd(this),BI(this))},gt.cb=function(){null!=this.v&&(this.v=null,vd(this),Rv(this),Ai(19))},gt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Ai(2)):(this.j.info("Failed to ping google.com"),Ai(1))},(gt=Vv.prototype).xa=function(){},gt.wa=function(){},gt.va=function(){},gt.ua=function(){},gt.Ra=function(){},gf.prototype.g=function(n,e){return new ds(n,e)},qr(ds,Wr),ds.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Ai(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Lv(n,null,n.V),_d(n)},ds.prototype.close=function(){Eg(this.g)},ds.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=dI(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&_d(e)},ds.prototype.M=function(){this.g.l=null,delete this.j,Eg(this.g),delete this.g,ds.X.M.call(this)},qr(Uv,_v),qr($I,lg),qr(Er,Vv),Er.prototype.xa=function(){gi(this.g,"a")},Er.prototype.wa=function(n){gi(this.g,new Uv(n))},Er.prototype.va=function(n){gi(this.g,new $I)},Er.prototype.ua=function(){gi(this.g,"b")},gf.prototype.createWebChannel=gf.prototype.g,ds.prototype.send=ds.prototype.u,ds.prototype.open=ds.prototype.m,ds.prototype.close=ds.prototype.close,ug.NO_ERROR=0,ug.TIMEOUT=8,ug.HTTP_ERROR=6,_I.COMPLETE="complete",II.EventType=Qh,Qh.OPEN="a",Qh.CLOSE="b",Qh.ERROR="c",Qh.MESSAGE="d",Wr.prototype.listen=Wr.prototype.N,nr.prototype.listenOnce=nr.prototype.O,nr.prototype.getLastError=nr.prototype.Oa,nr.prototype.getLastErrorCode=nr.prototype.Ea,nr.prototype.getStatus=nr.prototype.aa,nr.prototype.getResponseJson=nr.prototype.Sa,nr.prototype.getResponseText=nr.prototype.fa,nr.prototype.send=nr.prototype.da,nr.prototype.setWithCredentials=nr.prototype.Ka;var wd=Ma.createWebChannelTransport=function(){return new gf},ID=Ma.getStatEventTarget=function(){return og()},Bv=Ma.ErrorCode=ug,dM=Ma.EventType=_I,hM=Ma.Event=Su,jv=Ma.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},$v=Ma.FetchXmlHttpFactory=uf,xu=Ma.WebChannel=II,bD=Ma.XhrIo=nr;const Ag="@firebase/firestore";class Kr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kr.UNAUTHENTICATED=new Kr(null),Kr.GOOGLE_CREDENTIALS=new Kr("google-credentials-uid"),Kr.FIRST_PARTY=new Kr("first-party-uid"),Kr.MOCK_USER=new Kr("mock-user");let Jl="9.19.0";const Ou=new Au.Yd("@firebase/firestore");function Hv(){return Ou.logLevel}function Ne(n,...e){if(Ou.logLevel<=Au.in.DEBUG){const t=e.map(Id);Ou.debug(`Firestore (${Jl}): ${n}`,...t)}}function rr(n,...e){if(Ou.logLevel<=Au.in.ERROR){const t=e.map(Id);Ou.error(`Firestore (${Jl}): ${n}`,...t)}}function so(n,...e){if(Ou.logLevel<=Au.in.WARN){const t=e.map(Id);Ou.warn(`Firestore (${Jl}): ${n}`,...t)}}function Id(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ut(n="Unexpected state"){const e=`FIRESTORE (${Jl}) INTERNAL ASSERTION FAILED: `+n;throw rr(e),new Error(e)}function _t(n,e){n||ut()}function Ye(n,e){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends dn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class zv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kr.UNAUTHENTICATED))}shutdown(){}}class fM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class CD{constructor(e){this.t=e,this.currentUser=Kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=C=>this.i!==o?(o=this.i,t(C)):Promise.resolve();let d=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new kr,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const C=d;e.enqueueRetryable((0,ve.Z)(function*(){yield C.promise,yield u(r.currentUser)}))},_=C=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(C=>_(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?_(C):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new kr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t("string"==typeof r.accessToken),new zv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _t(null===e||"string"==typeof e),new Kr(e)}}class pM{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Kr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class DD{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new pM(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AD{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.T;return this.T=u.token,Ne("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?o(u):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(_t("string"==typeof t.token),this.T=t.token,new zI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function GI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class ZI{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=GI(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function Lt(n,e){return n<e?-1:n>e?1:0}function ec(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function qI(n){return n+"\0"}class Gn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gn.fromMillis(Date.now())}static fromDate(e){return Gn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Gn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Lt(this.nanoseconds,e.nanoseconds):Lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wt(e)}static min(){return new wt(new Gn(0,0))}static max(){return new wt(new Gn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class mf{constructor(e,t,r){void 0===t?t=0:t>e.length&&ut(),void 0===r?r=e.length-t:r>e.length-t&&ut(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===mf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),d=t.get(o);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class on extends mf{construct(e,t,r){return new on(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new on(t)}static emptyPath(){return new on([])}}const WI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kn extends mf{construct(e,t,r){return new Kn(e,t,r)}static isValidIdentifier(e){return WI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Kn(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Ee(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Ee(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ee(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,o+=2}else"`"===m?(d=!d,o++):"."!==m||d?(r+=m,o++):(u(),o++)}if(u(),d)throw new Ee(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kn(t)}static emptyPath(){return new Kn([])}}class qe{constructor(e){this.path=e}static fromPath(e){return new qe(on.fromString(e))}static fromName(e){return new qe(on.fromString(e).popFirst(5))}static empty(){return new qe(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===on.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return on.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new on(e.slice()))}}class Tg{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function Zv(n){return n.fields.find(e=>2===e.kind)}function bd(n){return n.fields.filter(e=>2!==e.kind)}Tg.UNKNOWN_ID=-1;class qv{constructor(e,t){this.fieldPath=e,this.kind=t}}class Sg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Sg(0,ks.min())}}function SD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=wt.fromTimestamp(1e9===r?new Gn(t+1,0):new Gn(t,r));return new ks(o,qe.empty(),e)}function MD(n){return new ks(n.readTime,n.key,-1)}class ks{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ks(wt.min(),qe.empty(),-1)}static max(){return new ks(wt.max(),qe.empty(),-1)}}function YI(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=qe.comparator(n.documentKey,e.documentKey),0!==t?t:Lt(n.largestBatchId,e.largestBatchId))}const xD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function tc(n){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,ve.Z)(function*(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==xD)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}),Mg.apply(this,arguments)}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,r)=>{t(e)})}static reject(e){return new ie((t,r)=>{r(e)})}static waitFor(e){return new ie((t,r)=>{let o=0,u=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++u,d&&u===o&&t()},_=>r(_))}),d=!0,u===o&&t()})}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next(o=>o?ie.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new ie((r,o)=>{const u=e.length,d=new Array(u);let m=0;for(let _=0;_<u;_++){const C=_;t(e[C]).next(T=>{d[C]=T,++m,m===u&&r(d)},T=>o(T))}})}static doWhile(e,t){return new ie((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}class vf{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new kr,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new nc(e,t.error)):this.R.resolve()},this.transaction.onerror=r=>{const o=Wv(r.target.error);this.R.reject(new nc(e,o))}}static open(e,t,r,o){try{return new vf(t,e.transaction(o,r))}catch(u){throw new nc(t,u)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(Ne("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new OD(t)}}class Fs{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Fs.S((0,dn.z$)())&&rr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ne("SimpleDb","Removing database:",e),Ed(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,dn.hl)())return!1;if(Fs.C())return!0;const e=(0,dn.z$)(),t=Fs.S(e),r=0<t&&t<10,o=Fs.N(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static O(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,ve.Z)(function*(){return t.db||(Ne("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{o(new nc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const m=d.target.error;o("VersionError"===m.name?new Ee(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ee(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new nc(e,m))},u.onupgradeneeded=d=>{Ne("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.V.M(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{Ne("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,ve.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.$(e);const _=vf.open(u.db,e,d?"readonly":"readwrite",r),C=o(_).next(T=>(_.P(),T)).catch(T=>(_.abort(T),ie.reject(T))).toPromise();return C.catch(()=>{}),yield _.v,C}catch(_){const C=_,T="FirebaseError"!==C.name&&m<3;if(Ne("SimpleDb","Transaction failed with error:",C.message,"Retrying:",T),u.close(),!T)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class mM{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ed(this.L.delete())}}class nc extends Ee{constructor(e,t){super(ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ka(n){return"IndexedDbTransactionError"===n.name}class OD{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ne("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ne("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ed(r)}add(e){return Ne("SimpleDb","ADD",this.store.name,e,e),Ed(this.store.add(e))}get(e){return Ed(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ne("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ne("SimpleDb","DELETE",this.store.name,e),Ed(this.store.delete(e))}count(){return Ne("SimpleDb","COUNT",this.store.name),Ed(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.W(o,(d,m)=>{u.push(m)}).next(()=>u)}{const o=this.store.getAll(r.range);return new ie((u,d)=>{o.onerror=m=>{d(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ie((o,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}J(e,t){Ne("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const o=this.cursor(r);return this.W(o,(u,d,m)=>m.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.W(o,t)}X(e){const t=this.cursor({});return new ie((r,o)=>{t.onerror=u=>{const d=Wv(u.target.error);o(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}W(e,t){const r=[];return new ie((o,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void o();const _=new mM(m),C=t(m.primaryKey,m.value,_);if(C instanceof ie){const T=C.catch(N=>(_.done(),ie.reject(N)));r.push(T)}_.isDone?o():null===_.K?m.continue():m.continue(_.K)}}).next(()=>ie.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ed(n){return new ie((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=Wv(r.target.error);t(o)}})}let PD=!1;function Wv(n){const e=Fs.S((0,dn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ee("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return PD||(PD=!0,setTimeout(()=>{throw r},0)),r}}return n}class RD{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ne("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ve.Z)(function*(){t.task=null;try{Ne("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){ka(r)?Ne("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield tc(r)}yield t.et(6e4)}))}}class xg{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ve.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let o=t,u=!0;return ie.doWhile(()=>!0===u&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Ne("IndexBackiller",`Processing collection: ${d}`),this.it(e,d,o).next(m=>{o-=m,r.add(d)});u=!1})).next(()=>t-o)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.rt(o,u)).next(m=>(Ne("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>d.size)}))}rt(e,t){let r=e;return t.changes.forEach((o,u)=>{const d=MD(u);YI(d,r)>0&&(r=d)}),new ks(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let hs=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Og(n){return null==n}function Pg(n){return 0===n&&1/n==-1/0}function ND(n){return"number"==typeof n&&Number.isInteger(n)&&!Pg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ti(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=QI(e)),e=kD(n.get(t),e);return QI(e)}function kD(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function QI(n){return n+"\x01\x01"}function Fa(n){const e=n.length;if(_t(e>=2),2===e)return _t("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),on.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&ut(),n.charAt(d+1)){case"\x01":const m=n.substring(u,d);let _;0===o.length?_=m:(o+=m,_=o,o=""),r.push(_);break;case"\x10":o+=n.substring(u,d),o+="\0";break;case"\x11":o+=n.substring(u,d+1);break;default:ut()}u=d+2}return new on(r)}const XI=["userId","batchId"];function _f(n,e){return[n,Ti(e)]}function Kv(n,e,t){return[n,Ti(e),t]}const yM={},oo=["prefixPath","collectionGroup","readTime","documentId"],FD=["prefixPath","collectionGroup","documentId"],Yv=["collectionGroup","readTime","prefixPath","documentId"],LD=["canonicalId","targetId"],vM=["targetId","path"],Ls=["path","targetId"],VD=["collectionId","parent"],Qv=["indexId","uid"],UD=["uid","sequenceNumber"],BD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Xv=["indexId","uid","orderedDocumentKey"],JI=["userId","collectionPath","documentId"],eb=["userId","collectionPath","largestBatchId"],jD=["userId","collectionGroup","largestBatchId"],Jv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],tb=[...Jv,"documentOverlays"],nb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],e_=nb,$D=[...e_,"indexConfiguration","indexState","indexEntries"];class wf extends yf{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function Tn(n,e){const t=Ye(n);return Fs.O(t.at,e)}function La(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Pu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Rg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Yn{constructor(e,t){this.comparator=e,this.root=t||mi.EMPTY}insert(e,t){return new Yn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mi.BLACK,null,null))}remove(e){return new Yn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ng(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ng(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ng(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ng(this.root,e,this.comparator,!0)}}class Ng{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mi{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??mi.RED,this.left=o??mi.EMPTY,this.right=u??mi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new mi(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return mi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return mi.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const e=this.left.check();if(e!==this.right.check())throw ut();return e+(this.isRed()?0:1)}}mi.EMPTY=null,mi.RED=!0,mi.BLACK=!1,mi.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(n,e,t,r,o){return this}insert(n,e,t){return new mi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class En{constructor(e){this.comparator=e,this.data=new Yn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rb(this.data.getIterator())}getIteratorFrom(e){return new rb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new En(this.comparator);return t.data=e,t}}class rb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Cd(n){return n.hasNext()?n.getNext():void 0}class $i{constructor(e){this.fields=e,e.sort(Kn.comparator)}static empty(){return new $i([])}unionWith(e){let t=new En(Kn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new $i(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ec(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ib extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Cr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ib("Invalid base64 string: "+o):o}}(e);return new Cr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new Cr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cr.EMPTY_BYTE_STRING=new Cr("");const HD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Va(n){if(_t(!!n),"string"==typeof n){let e=0;const t=HD.exec(n);if(_t(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:fr(n.seconds),nanos:fr(n.nanos)}}function fr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ua(n){return"string"==typeof n?Cr.fromBase64String(n):Cr.fromUint8Array(n)}function kg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function t_(n){const e=n.mapValue.fields.__previous_value__;return kg(e)?t_(e):e}function Dd(n){const e=Va(n.mapValue.fields.__local_write_time__.timestampValue);return new Gn(e.seconds,e.nanos)}class sb{constructor(e,t,r,o,u,d,m,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=_}}class Ba{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ba("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ba&&e.projectId===this.projectId&&e.database===this.database}}const ao={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},rc={nullValue:"NULL_VALUE"};function Ru(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kg(n)?4:qD(n)?9007199254740991:10:ut()}function Vo(n,e){if(n===e)return!0;const t=Ru(n);if(t!==Ru(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Dd(n).isEqual(Dd(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=Va(r.timestampValue),d=Va(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Ua(n.bytesValue).isEqual(Ua(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return fr(r.geoPointValue.latitude)===fr(o.geoPointValue.latitude)&&fr(r.geoPointValue.longitude)===fr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return fr(r.integerValue)===fr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=fr(r.doubleValue),d=fr(o.doubleValue);return u===d?Pg(u)===Pg(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return ec(n.arrayValue.values||[],e.arrayValue.values||[],Vo);case 10:return function(r,o){const u=r.mapValue.fields||{},d=o.mapValue.fields||{};if(La(u)!==La(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===d[m]||!Vo(u[m],d[m])))return!1;return!0}(n,e);default:return ut()}var o}function If(n,e){return void 0!==(n.values||[]).find(t=>Vo(t,e))}function ic(n,e){if(n===e)return 0;const t=Ru(n),r=Ru(e);if(t!==r)return Lt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Lt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=fr(o.integerValue||o.doubleValue),m=fr(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return zD(n.timestampValue,e.timestampValue);case 4:return zD(Dd(n),Dd(e));case 5:return Lt(n.stringValue,e.stringValue);case 6:return function(o,u){const d=Ua(o),m=Ua(u);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),m=u.split("/");for(let _=0;_<d.length&&_<m.length;_++){const C=Lt(d[_],m[_]);if(0!==C)return C}return Lt(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=Lt(fr(o.latitude),fr(u.latitude));return 0!==d?d:Lt(fr(o.longitude),fr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const d=o.values||[],m=u.values||[];for(let _=0;_<d.length&&_<m.length;++_){const C=ic(d[_],m[_]);if(C)return C}return Lt(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===ao.mapValue&&u===ao.mapValue)return 0;if(o===ao.mapValue)return 1;if(u===ao.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),_=u.fields||{},C=Object.keys(_);m.sort(),C.sort();for(let T=0;T<m.length&&T<C.length;++T){const N=Lt(m[T],C[T]);if(0!==N)return N;const G=ic(d[m[T]],_[C[T]]);if(0!==G)return G}return Lt(m.length,C.length)}(n.mapValue,e.mapValue);default:throw ut()}}function zD(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Lt(n,e);const t=Va(n),r=Va(e),o=Lt(t.seconds,r.seconds);return 0!==o?o:Lt(t.nanos,r.nanos)}function bf(n){return Fg(n)}function Fg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Va(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ua(n.bytesValue).toBase64():"referenceValue"in n?qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const d of r.values||[])u?u=!1:o+=",",o+=Fg(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const m of o)d?d=!1:u+=",",u+=`${m}:${Fg(r.fields[m])}`;return u+"}"}(n.mapValue):ut();var e}function sc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function n_(n){return!!n&&"integerValue"in n}function Ef(n){return!!n&&"arrayValue"in n}function GD(n){return!!n&&"nullValue"in n}function ZD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function r_(n){return!!n&&"mapValue"in n}function Lg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Pu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Lg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function qD(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function WD(n){return"nullValue"in n?rc:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?sc(Ba.empty(),qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ut()}function Vg(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?sc(Ba.empty(),qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ao:ut()}function ob(n,e){const t=ic(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function ab(n,e){const t=ic(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Fr{constructor(e){this.value=e}static empty(){return new Fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!r_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lg(t)}setAll(e){let t=Kn.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const _=this.getFieldsMap(t);this.applyChanges(_,r,o),r={},o=[],t=m.popLast()}d?r[m.lastSegment()]=Lg(d):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());r_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];r_(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Pu(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new Fr(Lg(this.value))}}function Nu(n){const e=[];return Pu(n.fields,(t,r)=>{const o=new Kn([t]);if(r_(r)){const u=Nu(r.mapValue).fields;if(0===u.length)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new $i(e)}class Sn{constructor(e,t,r,o,u,d,m){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Sn(e,0,wt.min(),wt.min(),wt.min(),Fr.empty(),0)}static newFoundDocument(e,t,r,o){return new Sn(e,1,t,wt.min(),r,o,0)}static newNoDocument(e,t){return new Sn(e,2,t,wt.min(),wt.min(),Fr.empty(),0)}static newUnknownDocument(e,t){return new Sn(e,3,t,wt.min(),wt.min(),Fr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(wt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Uo{constructor(e,t){this.position=e,this.inclusive=t}}function Ug(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],d=n.position[o];if(r=u.field.isKeyField()?qe.comparator(qe.fromName(d.referenceValue),t.key):ic(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function ub(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vo(n.position[t],e.position[t]))return!1;return!0}class ku{constructor(e,t="asc"){this.field=e,this.dir=t}}function i_(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Cf{}class an extends Cf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new fb(e,t,r):"array-contains"===t?new mb(e,r):"in"===t?new jg(e,r):"not-in"===t?new wM(e,r):"array-contains-any"===t?new yb(e,r):new an(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new pb(e,r):new KD(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ic(t,this.value)):null!==t&&Ru(this.value)===Ru(t)&&this.matchesComparison(ic(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ut()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Cn extends Cf{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Cn(e,t)}matches(e){return Df(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Df(n){return"and"===n.op}function lb(n){return"or"===n.op}function Bg(n){return cb(n)&&Df(n)}function cb(n){for(const e of n.filters)if(e instanceof Cn)return!1;return!0}function s_(n){if(n instanceof an)return n.field.canonicalString()+n.op.toString()+bf(n.value);if(Bg(n))return n.filters.map(e=>s_(e)).join(",");{const e=n.filters.map(t=>s_(t)).join(",");return`${n.op}(${e})`}}function db(n,e){return n instanceof an?(t=n,(r=e)instanceof an&&t.op===r.op&&t.field.isEqual(r.field)&&Vo(t.value,r.value)):n instanceof Cn?function(t,r){return r instanceof Cn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((o,u,d)=>o&&db(u,r.filters[d]),!0)}(n,e):void ut();var t,r}function hb(n,e){const t=n.filters.concat(e);return Cn.create(t,n.op)}function o_(n){return n instanceof an?`${(e=n).field.canonicalString()} ${e.op} ${bf(e.value)}`:n instanceof Cn?function(e){return e.op.toString()+" {"+e.getFilters().map(o_).join(" ,")+"}"}(n):"Filter";var e}class fb extends an{constructor(e,t,r){super(e,t,r),this.key=qe.fromName(r.referenceValue)}matches(e){const t=qe.comparator(e.key,this.key);return this.matchesComparison(t)}}class pb extends an{constructor(e,t){super(e,"in",t),this.keys=gb(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class KD extends an{constructor(e,t){super(e,"not-in",t),this.keys=gb(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gb(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>qe.fromName(r.referenceValue))}class mb extends an{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ef(t)&&If(t.arrayValue,this.value)}}class jg extends an{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&If(this.value.arrayValue,t)}}class wM extends an{constructor(e,t){super(e,"not-in",t)}matches(e){if(If(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!If(this.value.arrayValue,t)}}class yb extends an{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ef(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>If(this.value.arrayValue,r))}}class a_{constructor(e,t=null,r=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.ft=null}}function u_(n,e=null,t=[],r=[],o=null,u=null,d=null){return new a_(n,e,t,r,o,u,d)}function oc(n){const e=Ye(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>s_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Og(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>bf(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>bf(r)).join(",")),e.ft=t}return e.ft}function $g(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!i_(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!db(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ub(n.startAt,e.startAt)&&ub(n.endAt,e.endAt)}function l_(n){return qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Hg(n,e){return n.filters.filter(t=>t instanceof an&&t.field.isEqual(e))}function vb(n,e,t){let r=rc,o=!0;for(const u of Hg(n,e)){let d=rc,m=!0;switch(u.op){case"<":case"<=":d=WD(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,m=!1;break;case"!=":case"not-in":d=rc}ob({value:r,inclusive:o},{value:d,inclusive:m})<0&&(r=d,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];ob({value:r,inclusive:o},{value:d,inclusive:t.inclusive})<0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}function _b(n,e,t){let r=ao,o=!0;for(const u of Hg(n,e)){let d=ao,m=!0;switch(u.op){case">=":case">":d=Vg(u.value),m=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,m=!1;break;case"!=":case"not-in":d=ao}ab({value:r,inclusive:o},{value:d,inclusive:m})>0&&(r=d,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];ab({value:r,inclusive:o},{value:d,inclusive:t.inclusive})>0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}class Fu{constructor(e,t=null,r=[],o=[],u=null,d="F",m=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=_,this.dt=null,this.wt=null}}function YD(n,e,t,r,o,u,d,m){return new Fu(n,e,t,r,o,u,d,m)}function Af(n){return new Fu(n)}function QD(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function c_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function d_(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function wb(n){return null!==n.collectionGroup}function Ad(n){const e=Ye(n);if(null===e.dt){e.dt=[];const t=d_(e),r=c_(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new ku(t)),e.dt.push(new ku(Kn.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.dt.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new ku(Kn.keyField(),u))}}}return e.dt}function Hi(n){const e=Ye(n);if(!e.wt)if("F"===e.limitType)e.wt=u_(e.path,e.collectionGroup,Ad(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Ad(e))t.push(new ku(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Uo(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new Uo(e.startAt.position,e.startAt.inclusive):null;e.wt=u_(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.wt}function Ib(n,e){e.getFirstInequalityField(),d_(n);const t=n.filters.concat([e]);return new Fu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function h_(n,e,t){return new Fu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function i(n,e){return $g(Hi(n),Hi(e))&&n.limitType===e.limitType}function s(n){return`${oc(Hi(n))}|lt:${n.limitType}`}function a(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>o_(r)).join(", ")}]`),Og(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>bf(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>bf(r)).join(",")),`Target(${t})`}(Hi(n))}; limitType=${n.limitType})`}function l(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):qe.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of Ad(t))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,d){const m=Ug(o,u,d);return o.inclusive?m<=0:m<0}(t.startAt,Ad(t),r)||t.endAt&&!function(o,u,d){const m=Ug(o,u,d);return o.inclusive?m>=0:m>0}(t.endAt,Ad(t),r)));var t,r}function h(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function f(n){return(e,t)=>{let r=!1;for(const o of Ad(n)){const u=y(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function y(n,e,t){const r=n.field.isKeyField()?qe.comparator(e.key,t.key):function(o,u,d){const m=u.data.field(o),_=d.data.field(o);return null!==m&&null!==_?ic(m,_):ut()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ut()}}class w{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Pu(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return Rg(this.inner)}size(){return this.innerSize}}const b=new Yn(qe.comparator);function A(){return b}const x=new Yn(qe.comparator);function U(...n){let e=x;for(const t of n)e=e.insert(t.key,t);return e}function Z(n){let e=x;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Q(){return Fe()}function me(){return Fe()}function Fe(){return new w(n=>n.toString(),(n,e)=>n.isEqual(e))}const Qe=new Yn(qe.comparator),ct=new En(qe.comparator);function je(...n){let e=ct;for(const t of n)e=e.add(t);return e}const Re=new En(Lt);function Rt(){return Re}function Fn(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pg(e)?"-0":e}}function ir(n){return{integerValue:""+n}}function XD(n,e){return ND(e)?ir(e):Fn(n,e)}class bb{constructor(){this._=void 0}}function UO(n,e,t){return n instanceof zg?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Tf?bM(n,e):n instanceof Sf?EM(n,e):function(r,o){const u=IM(r,o),d=CM(u)+CM(r._t);return n_(u)&&n_(r._t)?ir(d):Fn(r.serializer,d)}(n,e)}function BO(n,e,t){return n instanceof Tf?bM(n,e):n instanceof Sf?EM(n,e):t}function IM(n,e){return n instanceof Gg?n_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class zg extends bb{}class Tf extends bb{constructor(e){super(),this.elements=e}}function bM(n,e){const t=DM(e);for(const r of n.elements)t.some(o=>Vo(o,r))||t.push(r);return{arrayValue:{values:t}}}class Sf extends bb{constructor(e){super(),this.elements=e}}function EM(n,e){let t=DM(e);for(const r of n.elements)t=t.filter(o=>!Vo(o,r));return{arrayValue:{values:t}}}class Gg extends bb{constructor(e,t){super(),this.serializer=e,this._t=t}}function CM(n){return fr(n.integerValue||n.doubleValue)}function DM(n){return Ef(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class f_{constructor(e,t){this.field=e,this.transform=t}}class $O{constructor(e,t){this.version=e,this.transformResults=t}}class sr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new sr}static exists(e){return new sr(void 0,e)}static updateTime(e){return new sr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eb(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Cb{}function AM(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new qg(n.key,sr.none()):new Zg(n.key,n.data,sr.none());{const t=n.data,r=Fr.empty();let o=new En(Kn.comparator);for(let u of e.fields)if(!o.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?r.delete(u):r.set(u,d),o=o.add(u)}return new ac(n.key,r,new $i(o.toArray()),sr.none())}}function HO(n,e,t){n instanceof Zg?function(r,o,u){const d=r.value.clone(),m=MM(r.fieldTransforms,o,u.transformResults);d.setAll(m),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof ac?function(r,o,u){if(!Eb(r.precondition,o))return void o.convertToUnknownDocument(u.version);const d=MM(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(SM(r)),m.setAll(d),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function p_(n,e,t,r){return n instanceof Zg?function(o,u,d,m){if(!Eb(o.precondition,u))return d;const _=o.value.clone(),C=xM(o.fieldTransforms,m,u);return _.setAll(C),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof ac?function(o,u,d,m){if(!Eb(o.precondition,u))return d;const _=xM(o.fieldTransforms,m,u),C=u.data;return C.setAll(SM(o)),C.setAll(_),u.convertToFoundDocument(u.version,C).setHasLocalMutations(),null===d?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(T=>T.field))}(n,e,t,r):(d=t,Eb(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function zO(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=IM(r.transform,o||null);null!=u&&(null===t&&(t=Fr.empty()),t.set(r.field,u))}return t||null}function TM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ec(t,r,(o,u)=>function jO(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Tf&&r instanceof Tf||t instanceof Sf&&r instanceof Sf?ec(t.elements,r.elements,Vo):t instanceof Gg&&r instanceof Gg?Vo(t._t,r._t):t instanceof zg&&r instanceof zg);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Zg extends Cb{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ac extends Cb{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function SM(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function MM(n,e,t){const r=new Map;_t(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],d=u.transform,m=e.data.field(u.field);r.set(u.field,BO(d,m,t[o]))}return r}function xM(n,e,t){const r=new Map;for(const o of n){const u=o.transform,d=t.data.field(o.field);r.set(o.field,UO(u,d,e))}return r}class qg extends Cb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JD extends Cb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eA{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&HO(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=p_(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=p_(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=me();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=t.has(o.key)?null:m;const _=AM(d,m);null!==_&&r.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(wt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),je())}isEqual(e){return this.batchId===e.batchId&&ec(this.mutations,e.mutations,(t,r)=>TM(t,r))&&ec(this.baseMutations,e.baseMutations,(t,r)=>TM(t,r))}}class tA{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){_t(e.mutations.length===r.length);let o=Qe;const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,r[d].version);return new tA(e,t,r,o)}}class nA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qO{constructor(e){this.count=e}}var Yr,fn;function OM(n){switch(n){default:return ut();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function PM(n){if(void 0===n)return rr("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Yr.OK:return ue.OK;case Yr.CANCELLED:return ue.CANCELLED;case Yr.UNKNOWN:return ue.UNKNOWN;case Yr.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Yr.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Yr.INTERNAL:return ue.INTERNAL;case Yr.UNAVAILABLE:return ue.UNAVAILABLE;case Yr.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Yr.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Yr.NOT_FOUND:return ue.NOT_FOUND;case Yr.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Yr.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Yr.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Yr.ABORTED:return ue.ABORTED;case Yr.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Yr.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Yr.DATA_LOSS:return ue.DATA_LOSS;default:return ut()}}(fn=Yr||(Yr={}))[fn.OK=0]="OK",fn[fn.CANCELLED=1]="CANCELLED",fn[fn.UNKNOWN=2]="UNKNOWN",fn[fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fn[fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fn[fn.NOT_FOUND=5]="NOT_FOUND",fn[fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",fn[fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",fn[fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",fn[fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fn[fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fn[fn.ABORTED=10]="ABORTED",fn[fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",fn[fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",fn[fn.INTERNAL=13]="INTERNAL",fn[fn.UNAVAILABLE=14]="UNAVAILABLE",fn[fn.DATA_LOSS=15]="DATA_LOSS";class iA{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Db}static getOrCreateInstance(){return null===Db&&(Db=new iA),Db}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Db=null;class g_{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,m_.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new g_(wt.min(),o,Rt(),A(),je())}}class m_{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new m_(r,t,je(),je(),je())}}class Ab{constructor(e,t,r,o){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=o}}class RM{constructor(e,t){this.targetId=e,this.Et=t}}class NM{constructor(e,t,r=Cr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class kM{constructor(){this.At=0,this.Rt=LM(),this.vt=Cr.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=je(),t=je(),r=je();return this.Rt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:ut()}}),new m_(this.vt,this.bt,e,t,r)}xt(){this.Pt=!1,this.Rt=LM()}Nt(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class WO{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=A(),this.qt=FM(),this.Ut=new En(Lt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}zt(e){this.forEachTarget(e,t=>{const r=this.jt(t);switch(e.state){case 0:this.Wt(t)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(t);break;case 3:this.Wt(t)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:this.Wt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:ut()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,o)=>{this.Wt(o)&&t(o)})}Jt(e){var t;const r=e.targetId,o=e.Et.count,u=this.Yt(r);if(u){const d=u.target;if(l_(d))if(0===o){const m=new qe(d.path);this.Qt(r,m,Sn.newNoDocument(m,wt.min()))}else _t(1===o);else{const m=this.Zt(r);m!==o&&(this.Ht(r),this.Ut=this.Ut.add(r),null===(t=iA.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:m,existenceFilterCount:e.Et.count}))}}}Xt(e){const t=new Map;this.Bt.forEach((u,d)=>{const m=this.Yt(d);if(m){if(u.current&&l_(m.target)){const _=new qe(m.target.path);null!==this.Lt.get(_)||this.te(d,_)||this.Qt(d,_,Sn.newNoDocument(_,e))}u.St&&(t.set(d,u.Ct()),u.xt())}});let r=je();this.qt.forEach((u,d)=>{let m=!0;d.forEachWhile(_=>{const C=this.Yt(_);return!C||2===C.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.Lt.forEach((u,d)=>d.setReadTime(e));const o=new g_(e,t,this.Ut,this.Lt,r);return this.Lt=A(),this.qt=FM(),this.Ut=new En(Lt),o}Gt(e,t){if(!this.Wt(e))return;const r=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.Wt(e))return;const o=this.jt(e);this.te(e,t)?o.Nt(t,1):o.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Zt(e){const t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let t=this.Bt.get(e);return t||(t=new kM,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new En(Lt),this.qt=this.qt.insert(e,t)),t}Wt(e){const t=null!==this.Yt(e);return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new kM),this.Ft.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}function FM(){return new Yn(qe.comparator)}function LM(){return new Yn(qe.comparator)}const KO={asc:"ASCENDING",desc:"DESCENDING"},YO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QO={and:"AND",or:"OR"};class XO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Wg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function JO(n,e){return Wg(n,e.toTimestamp())}function Lr(n){return _t(!!n),wt.fromTimestamp(function(e){const t=Va(e);return new Gn(t.seconds,t.nanos)}(n))}function sA(n,e){return(t=n,new on(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function UM(n){const e=on.fromString(n);return _t(WM(e)),e}function y_(n,e){return sA(n.databaseId,e.path)}function Lu(n,e){const t=UM(e);if(t.get(1)!==n.databaseId.projectId)throw new Ee(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ee(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new qe(jM(t))}function oA(n,e){return sA(n.databaseId,e)}function BM(n){const e=UM(n);return 4===e.length?on.emptyPath():jM(e)}function v_(n){return new on(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jM(n){return _t(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function $M(n,e,t){return{name:y_(n,e),fields:t.value.mapValue.fields}}function HM(n,e,t){const r=Lu(n,e.name),o=Lr(e.updateTime),u=e.createTime?Lr(e.createTime):wt.min(),d=new Fr({mapValue:{fields:e.fields}}),m=Sn.newFoundDocument(r,o,u,d);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function __(n,e){let t;if(e instanceof Zg)t={update:$M(n,e.key,e.value)};else if(e instanceof qg)t={delete:y_(n,e.key)};else if(e instanceof ac)t={update:$M(n,e.key,e.data),updateMask:aP(e.fieldMask)};else{if(!(e instanceof JD))return ut();t={verify:y_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof zg)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Tf)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Sf)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Gg)return{fieldPath:u.field.canonicalString(),increment:d._t};throw ut()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:JO(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ut()),t;var o}function aA(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?sr.updateTime(Lr(o.updateTime)):void 0!==o.exists?sr.exists(o.exists):sr.none():sr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,d){let m=null;"setToServerValue"in d?(_t("REQUEST_TIME"===d.setToServerValue),m=new zg):"appendMissingElements"in d?m=new Tf(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new Sf(d.removeAllFromArray.values||[]):"increment"in d?m=new Gg(u,d.increment):ut();const _=Kn.fromServerFormat(d.fieldPath);return new f_(_,m)}(n,o)):[];var o;if(e.update){const o=Lu(n,e.update.name),u=new Fr({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new $i((e.updateMask.fieldPaths||[]).map(C=>Kn.fromServerFormat(C)));return new ac(o,u,d,t,r)}return new Zg(o,u,t,r)}if(e.delete){const o=Lu(n,e.delete);return new qg(o,t)}if(e.verify){const o=Lu(n,e.verify);return new JD(o,t)}return ut()}function zM(n,e){return{documents:[oA(n,e.path)]}}function uA(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=oA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=oA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(_){if(0!==_.length)return qM(Cn.create(_,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(_){if(0!==_.length)return _.map(C=>{return{field:Td((T=C).field),direction:iP(T.dir)};var T})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(C=e.limit,n.useProto3Json||Og(C)?C:{value:C});var C,m,_;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function GM(n){let e=BM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){_t(1===r);const T=t.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];t.where&&(u=function(T){const N=ZM(T);return N instanceof Cn&&Bg(N)?N.getFilters():[N]}(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(T=>{return new ku(Kg((N=T).field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let m=null;t.limit&&(m=function(T){let N;return N="object"==typeof T?T.value:T,Og(N)?null:N}(t.limit));let _=null;var T;t.startAt&&(_=new Uo((T=t.startAt).values||[],!!T.before));let C=null;return t.endAt&&(C=function(T){return new Uo(T.values||[],!T.before)}(t.endAt)),YD(e,o,d,u,m,"F",_,C)}function ZM(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Kg(e.unaryFilter.field);return an.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Kg(e.unaryFilter.field);return an.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Kg(e.unaryFilter.field);return an.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Kg(e.unaryFilter.field);return an.create(u,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}(n):void 0!==n.fieldFilter?an.create(Kg((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Cn.create(e.compositeFilter.filters.map(t=>ZM(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ut()}}(e.compositeFilter.op))}(n):ut();var e}function iP(n){return KO[n]}function sP(n){return YO[n]}function oP(n){return QO[n]}function Td(n){return{fieldPath:n.canonicalString()}}function Kg(n){return Kn.fromServerFormat(n.fieldPath)}function qM(n){return n instanceof an?function(e){if("=="===e.op){if(ZD(e.value))return{unaryFilter:{field:Td(e.field),op:"IS_NAN"}};if(GD(e.value))return{unaryFilter:{field:Td(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ZD(e.value))return{unaryFilter:{field:Td(e.field),op:"IS_NOT_NAN"}};if(GD(e.value))return{unaryFilter:{field:Td(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Td(e.field),op:sP(e.op),value:e.value}}}(n):n instanceof Cn?function(e){const t=e.getFilters().map(r=>qM(r));return 1===t.length?t[0]:{compositeFilter:{op:oP(e.op),filters:t}}}(n):ut()}function aP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function WM(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Sd{constructor(e,t,r,o,u=wt.min(),d=wt.min(),m=Cr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new Sd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Sd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Sd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class KM{constructor(e){this.se=e}}function YM(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Tb(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:y_(o=n.se,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Wg(o,u.version.toTimestamp()),createTime:Wg(o,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Mf(e.version)};else{if(!e.isUnknownDocument())return ut();r.unknownDocument={path:t.path.toArray(),version:Mf(e.version)}}var o,u;return r}function Tb(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Mf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function xf(n){const e=new Gn(n.seconds,n.nanoseconds);return wt.fromTimestamp(e)}function Of(n,e){const t=(e.baseMutations||[]).map(u=>aA(n.se,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>aA(n.se,u)),o=Gn.fromMillis(e.localWriteTimeMs);return new eA(e.batchId,o,t,r)}function w_(n){const e=xf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?xf(n.lastLimboFreeSnapshotVersion):wt.min();let r;var o;return void 0!==n.query.documents?(_t(1===(o=n.query).documents.length),r=Hi(Af(BM(o.documents[0])))):r=Hi(GM(n.query)),new Sd(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Cr.fromBase64String(n.resumeToken))}function QM(n,e){const t=Mf(e.snapshotVersion),r=Mf(e.lastLimboFreeSnapshotVersion);let o;o=l_(e.target)?zM(n.se,e.target):uA(n.se,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:oc(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function lA(n){const e=GM({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?h_(e,e.limit,"L"):e}function cA(n,e){return new nA(e.largestBatchId,aA(n.se,e.overlayMutation))}function XM(n,e){const t=e.path.lastSegment();return[n,Ti(e.path.popLast()),t]}function JM(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Mf(r.readTime),documentKey:Ti(r.documentKey.path),largestBatchId:r.largestBatchId}}class lP{getBundleMetadata(e,t){return ex(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:xf(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return ex(e).put({bundleId:(r=t).id,createTime:Mf(Lr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return tx(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:lA(o.bundledQuery),readTime:xf(o.readTime)};var o})}saveNamedQuery(e,t){return tx(e).put({name:(r=t).name,readTime:Mf(Lr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function ex(n){return Tn(n,"bundles")}function tx(n){return Tn(n,"namedQueries")}class Sb{constructor(e,t){this.serializer=e,this.userId=t}static ie(e,t){return new Sb(e,t.uid||"")}getOverlay(e,t){return I_(e).get(XM(this.userId,t)).next(r=>r?cA(this.serializer,r):null)}getOverlays(e,t){const r=Q();return ie.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((u,d)=>{const m=new nA(t,d);o.push(this.re(e,m))}),ie.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add(Ti(d.getCollectionPath())));const u=[];return o.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(I_(e).J("collectionPathOverlayIndex",m))}),ie.waitFor(u)}getOverlaysForCollection(e,t,r){const o=Q(),u=Ti(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return I_(e).j("collectionPathOverlayIndex",d).next(m=>{for(const _ of m){const C=cA(this.serializer,_);o.set(C.getKey(),C)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=Q();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return I_(e).Z({index:"collectionGroupOverlayIndex",range:m},(_,C,T)=>{const N=cA(this.serializer,C);u.size()<o||N.largestBatchId===d?(u.set(N.getKey(),N),d=N.largestBatchId):T.done()}).next(()=>u)}re(e,t){return I_(e).put(function(r,o,u){const[d,m,_]=XM(o,u.mutation.key);return{userId:o,collectionPath:m,documentId:_,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:__(r.se,u.mutation)}}(this.serializer,this.userId,t))}}function I_(n){return Tn(n,"documentOverlays")}class Pf{constructor(){}oe(e,t){this.ue(e,t),t.ce()}ue(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(fr(e.integerValue));else if("doubleValue"in e){const r=fr(e.doubleValue);isNaN(r)?this.ae(t,13):(this.ae(t,15),Pg(r)?t.he(0):t.he(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ae(t,20),"string"==typeof r?t.le(r):(t.le(`${r.seconds||""}`),t.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(Ua(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ae(t,45),t.he(r.latitude||0),t.he(r.longitude||0)}else"mapValue"in e?qD(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):ut()}fe(e,t){this.ae(t,25),this.ye(e,t)}ye(e,t){t.le(e)}me(e,t){const r=e.fields||{};this.ae(t,55);for(const o of Object.keys(r))this.fe(o,t),this.ue(r[o],t)}ge(e,t){const r=e.values||[];this.ae(t,50);for(const o of r)this.ue(o,t)}_e(e,t){this.ae(t,37),qe.fromName(e).path.forEach(r=>{this.ae(t,60),this.ye(r,t)})}ae(e,t){e.he(t)}de(e){e.he(2)}}function cP(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function nx(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=cP(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Pf.pe=new Pf;class dP{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Te(r.value),r=t.next();this.Ee()}Ae(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Re(r.value),r=t.next();this.ve()}be(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Te(r);else if(r<2048)this.Te(960|r>>>6),this.Te(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Te(480|r>>>12),this.Te(128|63&r>>>6),this.Te(128|63&r);else{const o=t.codePointAt(0);this.Te(240|o>>>18),this.Te(128|63&o>>>12),this.Te(128|63&o>>>6),this.Te(128|63&o)}}this.Ee()}Pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Re(r);else if(r<2048)this.Re(960|r>>>6),this.Re(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Re(480|r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r);else{const o=t.codePointAt(0);this.Re(240|o>>>18),this.Re(128|63&o>>>12),this.Re(128|63&o>>>6),this.Re(128|63&o)}}this.ve()}Ve(e){const t=this.Se(e),r=nx(t);this.De(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Ce(e){const t=this.Se(e),r=nx(t);this.De(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Se(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Te(e){const t=255&e;0===t?(this.Ne(0),this.Ne(255)):255===t?(this.Ne(255),this.Ne(0)):this.Ne(t)}Re(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(e)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(e){this.De(1),this.buffer[this.position++]=e}Oe(e){this.De(1),this.buffer[this.position++]=~e}De(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class hP{constructor(e){this.Me=e}we(e){this.Me.Ie(e)}le(e){this.Me.be(e)}he(e){this.Me.Ve(e)}ce(){this.Me.xe()}}class fP{constructor(e){this.Me=e}we(e){this.Me.Ae(e)}le(e){this.Me.Pe(e)}he(e){this.Me.Ce(e)}ce(){this.Me.ke()}}class b_{constructor(){this.Me=new dP,this.Fe=new hP(this.Me),this.Be=new fP(this.Me)}seed(e){this.Me.seed(e)}Le(e){return 0===e?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}class Rf{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}qe(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Rf(this.indexId,this.documentKey,this.arrayValue,r)}}function Md(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=rx(n.arrayValue,e.arrayValue),0!==t?t:(t=rx(n.directionalValue,e.directionalValue),0!==t?t:qe.comparator(n.documentKey,e.documentKey)))}function rx(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class pP{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.Ke=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ge=r:this.Ke.push(r)}}Qe(e){_t(e.collectionGroup===this.collectionId);const t=Zv(e);if(void 0!==t&&!this.ze(t))return!1;const r=bd(e);let o=0,u=0;for(;o<r.length&&this.ze(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Ge){const d=r[o];if(!this.je(this.Ge,d)||!this.We(this.Ue[u++],d))return!1;++o}for(;o<r.length;++o)if(u>=this.Ue.length||!this.We(this.Ue[u++],r[o]))return!1;return!0}ze(e){for(const t of this.Ke)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function ix(n){var e,t;if(_t(n instanceof an||n instanceof Cn),n instanceof an){if(n instanceof jg){const o=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>an.create(n.field,"==",u)))||[];return Cn.create(o,"or")}return n}const r=n.filters.map(o=>ix(o));return Cn.create(r,n.op)}function gP(n){if(0===n.getFilters().length)return[];const e=fA(ix(n));return _t(sx(e)),dA(e)||hA(e)?[e]:e.getFilters()}function dA(n){return n instanceof an}function hA(n){return n instanceof Cn&&Bg(n)}function sx(n){return dA(n)||hA(n)||function(e){if(e instanceof Cn&&lb(e)){for(const t of e.getFilters())if(!dA(t)&&!hA(t))return!1;return!0}return!1}(n)}function fA(n){if(_t(n instanceof an||n instanceof Cn),n instanceof an)return n;if(1===n.filters.length)return fA(n.filters[0]);const e=n.filters.map(r=>fA(r));let t=Cn.create(e,n.op);return t=Mb(t),sx(t)?t:(_t(t instanceof Cn),_t(Df(t)),_t(t.filters.length>1),t.filters.reduce((r,o)=>pA(r,o)))}function pA(n,e){let t;return _t(n instanceof an||n instanceof Cn),_t(e instanceof an||e instanceof Cn),t=n instanceof an?e instanceof an?Cn.create([n,e],"and"):ox(n,e):e instanceof an?ox(e,n):function(r,o){if(_t(r.filters.length>0&&o.filters.length>0),Df(r)&&Df(o))return hb(r,o.getFilters());const u=lb(r)?r:o,d=lb(r)?o:r,m=u.filters.map(_=>pA(_,d));return Cn.create(m,"or")}(n,e),Mb(t)}function ox(n,e){if(Df(e))return hb(e,n.getFilters());{const t=e.filters.map(r=>pA(n,r));return Cn.create(t,"or")}}function Mb(n){if(_t(n instanceof an||n instanceof Cn),n instanceof an)return n;const e=n.getFilters();if(1===e.length)return Mb(e[0]);if(cb(n))return n;const t=e.map(o=>Mb(o)),r=[];return t.forEach(o=>{o instanceof an?r.push(o):o instanceof Cn&&(o.op===n.op?r.push(...o.filters):r.push(o))}),1===r.length?r[0]:Cn.create(r,n.op)}class mP{constructor(){this.He=new gA}addToCollectionParentIndex(e,t){return this.He.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.He.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(ks.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class gA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new En(on.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new En(on.comparator)).toArray()}}const xb=new Uint8Array(0);class yP{constructor(e,t){this.user=e,this.databaseId=t,this.Je=new gA,this.Ye=new w(r=>oc(r),(r,o)=>$g(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Je.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Je.add(t)});const u={collectionId:r,parent:Ti(o)};return ax(e).put(u)}return ie.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[qI(t),""],!1,!0);return ax(e).j(o).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(Fa(d.parent))}return r})}addFieldIndex(e,t){const r=Ob(e),o={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete o.indexId;const u=r.add(o);if(t.indexState){const d=C_(e);return u.next(m=>{d.put(JM(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Ob(e),o=C_(e),u=E_(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=E_(e);let o=!0;const u=new Map;return ie.forEach(this.Ze(t),d=>this.Xe(e,d).next(m=>{o&&(o=!!m),u.set(d,m)})).next(()=>{if(o){let d=je();const m=[];return ie.forEach(u,(_,C)=>{var T;Ne("IndexedDbIndexManager",`Using index ${T=_,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(Nt=>`${Nt.fieldPath}:${Nt.kind}`).join(",")}`} to execute ${oc(t)}`);const N=function(Nt,Jt){const en=Zv(Jt);if(void 0===en)return null;for(const pn of Hg(Nt,en.fieldPath))switch(pn.op){case"array-contains-any":return pn.value.arrayValue.values||[];case"array-contains":return[pn.value]}return null}(C,_),G=function(Nt,Jt){const en=new Map;for(const pn of bd(Jt))for(const ms of Hg(Nt,pn.fieldPath))switch(ms.op){case"==":case"in":en.set(pn.fieldPath.canonicalString(),ms.value);break;case"not-in":case"!=":return en.set(pn.fieldPath.canonicalString(),ms.value),Array.from(en.values())}return null}(C,_),J=function(Nt,Jt){const en=[];let pn=!0;for(const ms of bd(Jt)){const Ld=0===ms.kind?vb(Nt,ms.fieldPath,Nt.startAt):_b(Nt,ms.fieldPath,Nt.startAt);en.push(Ld.value),pn&&(pn=Ld.inclusive)}return new Uo(en,pn)}(C,_),ge=function(Nt,Jt){const en=[];let pn=!0;for(const ms of bd(Jt)){const Ld=0===ms.kind?_b(Nt,ms.fieldPath,Nt.endAt):vb(Nt,ms.fieldPath,Nt.endAt);en.push(Ld.value),pn&&(pn=Ld.inclusive)}return new Uo(en,pn)}(C,_),Le=this.tn(_,C,J),ze=this.tn(_,C,ge),Vt=this.en(_,C,G),Qt=this.nn(_.indexId,N,Le,J.inclusive,ze,ge.inclusive,Vt);return ie.forEach(Qt,Nt=>r.H(Nt,t.limit).next(Jt=>{Jt.forEach(en=>{const pn=qe.fromSegments(en.documentKey);d.has(pn)||(d=d.add(pn),m.push(pn))})}))}).next(()=>m)}return ie.resolve(null)})}Ze(e){let t=this.Ye.get(e);return t||(t=0===e.filters.length?[e]:gP(Cn.create(e.filters,"and")).map(r=>u_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Ye.set(e,t),t)}nn(e,t,r,o,u,d,m){const _=(null!=t?t.length:1)*Math.max(r.length,u.length),C=_/(null!=t?t.length:1),T=[];for(let N=0;N<_;++N){const G=t?this.sn(t[N/C]):xb,J=this.rn(e,G,r[N%C],o),ge=this.on(e,G,u[N%C],d),Le=m.map(ze=>this.rn(e,G,ze,!0));T.push(...this.createRange(J,ge,Le))}return T}rn(e,t,r,o){const u=new Rf(e,qe.empty(),t,r);return o?u:u.qe()}on(e,t,r,o){const u=new Rf(e,qe.empty(),t,r);return o?u.qe():u}Xe(e,t){const r=new pP(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let d=null;for(const m of u)r.Qe(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;const o=this.Ze(t);return ie.forEach(o,u=>this.Xe(e,u).next(d=>{d?0!==r&&d.fields.length<function(m){let _=new En(Kn.comparator),C=!1;for(const T of m.filters)for(const N of T.getFlattenedFilters())N.field.isKeyField()||("array-contains"===N.op||"array-contains-any"===N.op?C=!0:_=_.add(N.field));for(const T of m.orderBy)T.field.isKeyField()||(_=_.add(T.field));return _.size+(C?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&o.length>1&&2===r?1:r)}un(e,t){const r=new b_;for(const o of bd(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const d=r.Le(o.kind);Pf.pe.oe(u,d)}return r.$e()}sn(e){const t=new b_;return Pf.pe.oe(e,t.Le(0)),t.$e()}cn(e,t){const r=new b_;return Pf.pe.oe(sc(this.databaseId,t),r.Le(function(o){const u=bd(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.$e()}en(e,t,r){if(null===r)return[];let o=[];o.push(new b_);let u=0;for(const d of bd(e)){const m=r[u++];for(const _ of o)if(this.an(t,d.fieldPath)&&Ef(m))o=this.hn(o,d,m);else{const C=_.Le(d.kind);Pf.pe.oe(m,C)}}return this.ln(o)}tn(e,t,r){return this.en(e,t,r.position)}ln(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}hn(e,t,r){const o=[...e],u=[];for(const d of r.arrayValue.values||[])for(const m of o){const _=new b_;_.seed(m.$e()),Pf.pe.oe(d,_.Le(t.kind)),u.push(_)}return u}an(e,t){return!!e.filters.find(r=>r instanceof an&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Ob(e),o=C_(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(u=>{const d=[];return ie.forEach(u,m=>o.get([m.indexId,this.uid]).next(_=>{d.push(function(C,T){const N=T?new Sg(T.sequenceNumber,new ks(xf(T.readTime),new qe(Fa(T.documentKey)),T.largestBatchId)):Sg.empty(),G=C.fields.map(([J,ge])=>new qv(Kn.fromServerFormat(J),ge));return new Tg(C.indexId,C.collectionGroup,G,N)}(m,_))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:Lt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Ob(e),u=C_(e);return this.fn(e).next(d=>o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>ie.forEach(m,_=>u.put(JM(_.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return ie.forEach(t,(o,u)=>{const d=r.get(o.collectionGroup);return(d?ie.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),ie.forEach(m,_=>this.dn(e,o,_).next(C=>{const T=this.wn(u,_);return C.isEqual(T)?ie.resolve():this._n(e,u,_,C,T)}))))})}mn(e,t,r,o){return E_(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.cn(r,t.key),documentKey:t.key.path.toArray()})}gn(e,t,r,o){return E_(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.cn(r,t.key),t.key.path.toArray()])}dn(e,t,r){const o=E_(e);let u=new En(Md);return o.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.cn(r,t)])},(d,m)=>{u=u.add(new Rf(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}wn(e,t){let r=new En(Md);const o=this.un(t,e);if(null==o)return r;const u=Zv(t);if(null!=u){const d=e.data.field(u.fieldPath);if(Ef(d))for(const m of d.arrayValue.values||[])r=r.add(new Rf(t.indexId,e.key,this.sn(m),o))}else r=r.add(new Rf(t.indexId,e.key,xb,o));return r}_n(e,t,r,o,u){Ne("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,_,C,T,N){const G=m.getIterator(),J=_.getIterator();let ge=Cd(G),Le=Cd(J);for(;ge||Le;){let ze=!1,Vt=!1;if(ge&&Le){const Qt=C(ge,Le);Qt<0?Vt=!0:Qt>0&&(ze=!0)}else null!=ge?Vt=!0:ze=!0;ze?(T(Le),Le=Cd(J)):Vt?(N(ge),ge=Cd(G)):(ge=Cd(G),Le=Cd(J))}}(o,u,Md,m=>{d.push(this.mn(e,t,r,m))},m=>{d.push(this.gn(e,t,r,m))}),ie.waitFor(d)}fn(e){let t=1;return C_(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>Md(d,m)).filter((d,m,_)=>!m||0!==Md(d,_[m-1]));const o=[];o.push(e);for(const d of r){const m=Md(d,e),_=Md(d,t);if(0===m)o[0]=e.qe();else if(m>0&&_<0)o.push(d),o.push(d.qe());else if(_>0)break}o.push(t);const u=[];for(let d=0;d<o.length;d+=2){if(this.yn(o[d],o[d+1]))return[];u.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,xb,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,xb,[]]))}return u}yn(e,t){return Md(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ux)}getMinOffset(e,t){return ie.mapArray(this.Ze(t),r=>this.Xe(e,r).next(o=>o||ut())).next(ux)}}function ax(n){return Tn(n,"collectionParents")}function E_(n){return Tn(n,"indexEntries")}function Ob(n){return Tn(n,"indexConfiguration")}function C_(n){return Tn(n,"indexState")}function ux(n){_t(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;YI(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new ks(e.readTime,e.documentKey,t)}const lx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Vs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Vs(e,Vs.DEFAULT_COLLECTION_PERCENTILE,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function cx(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let m=0;const _=r.Z({range:d},(T,N,G)=>(m++,G.delete()));u.push(_.next(()=>{_t(1===m)}));const C=[];for(const T of t.mutations){const N=Kv(e,T.key.path,t.batchId);u.push(o.delete(N)),C.push(T.key)}return ie.waitFor(u).next(()=>C)}function Pb(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ut();e=n.noDocument}return JSON.stringify(e).length}Vs.DEFAULT_COLLECTION_PERCENTILE=10,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vs.DEFAULT=new Vs(41943040,Vs.DEFAULT_COLLECTION_PERCENTILE,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vs.DISABLED=new Vs(-1,0,0);class Rb{constructor(e,t,r,o){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=o,this.pn={}}static ie(e,t,r,o){_t(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Rb(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xd(e).Z({index:"userMutationsIndex",range:r},(o,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=Yg(e),d=xd(e);return d.add({}).next(m=>{_t("number"==typeof m);const _=new eA(m,t,r,o),C=function(G,J,ge){const Le=ge.baseMutations.map(Vt=>__(G.se,Vt)),ze=ge.mutations.map(Vt=>__(G.se,Vt));return{userId:J,batchId:ge.batchId,localWriteTimeMs:ge.localWriteTime.toMillis(),baseMutations:Le,mutations:ze}}(this.serializer,this.userId,_),T=[];let N=new En((G,J)=>Lt(G.canonicalString(),J.canonicalString()));for(const G of o){const J=Kv(this.userId,G.key.path,m);N=N.add(G.key.path.popLast()),T.push(d.put(C)),T.push(u.put(J,yM))}return N.forEach(G=>{T.push(this.indexManager.addToCollectionParentIndex(e,G))}),e.addOnCommittedListener(()=>{this.pn[m]=_.keys()}),ie.waitFor(T).next(()=>_)})}lookupMutationBatch(e,t){return xd(e).get(t).next(r=>r?(_t(r.userId===this.userId),Of(this.serializer,r)):null)}In(e,t){return this.pn[t]?ie.resolve(this.pn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.pn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return xd(e).Z({index:"userMutationsIndex",range:o},(d,m,_)=>{m.userId===this.userId&&(_t(m.batchId>=r),u=Of(this.serializer,m)),_.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return xd(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(o,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xd(e).j("userMutationsIndex",t).next(r=>r.map(o=>Of(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=_f(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return Yg(e).Z({range:o},(d,m,_)=>{const[C,T,N]=d,G=Fa(T);if(C===this.userId&&t.path.isEqual(G))return xd(e).get(N).next(J=>{if(!J)throw ut();_t(J.userId===this.userId),u.push(Of(this.serializer,J))});_.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new En(Lt);const o=[];return t.forEach(u=>{const d=_f(this.userId,u.path),m=IDBKeyRange.lowerBound(d),_=Yg(e).Z({range:m},(C,T,N)=>{const[G,J,ge]=C,Le=Fa(J);G===this.userId&&u.path.isEqual(Le)?r=r.add(ge):N.done()});o.push(_)}),ie.waitFor(o).next(()=>this.Tn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=_f(this.userId,r),d=IDBKeyRange.lowerBound(u);let m=new En(Lt);return Yg(e).Z({range:d},(_,C,T)=>{const[N,G,J]=_,ge=Fa(G);N===this.userId&&r.isPrefixOf(ge)?ge.length===o&&(m=m.add(J)):T.done()}).next(()=>this.Tn(e,m))}Tn(e,t){const r=[],o=[];return t.forEach(u=>{o.push(xd(e).get(u).next(d=>{if(null===d)throw ut();_t(d.userId===this.userId),r.push(Of(this.serializer,d))}))}),ie.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return cx(e.at,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.En(t.batchId)}),ie.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}En(e){delete this.pn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ie.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Yg(e).Z({range:r},(u,d,m)=>{if(u[0]===this.userId){const _=Fa(u[1]);o.push(_)}else m.done()}).next(()=>{_t(0===o.length)})})}containsKey(e,t){return dx(e,this.userId,t)}An(e){return hx(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function dx(n,e,t){const r=_f(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return Yg(n).Z({range:u,Y:!0},(m,_,C)=>{const[T,N,G]=m;T===e&&N===o&&(d=!0),C.done()}).next(()=>d)}function xd(n){return Tn(n,"mutations")}function Yg(n){return Tn(n,"documentMutations")}function hx(n){return Tn(n,"mutationQueues")}class Nf{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Nf(0)}static bn(){return new Nf(-1)}}class vP{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Pn(e).next(t=>{const r=new Nf(t.highestTargetId);return t.highestTargetId=r.next(),this.Vn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Pn(e).next(t=>wt.fromTimestamp(new Gn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Pn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Vn(e,o)))}addTargetData(e,t){return this.Sn(e,t).next(()=>this.Pn(e).next(r=>(r.targetCount+=1,this.Dn(t,r),this.Vn(e,r))))}updateTargetData(e,t){return this.Sn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Qg(e).delete(t.targetId)).next(()=>this.Pn(e)).next(r=>(_t(r.targetCount>0),r.targetCount-=1,this.Vn(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return Qg(e).Z((d,m)=>{const _=w_(m);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(o++,u.push(this.removeTargetData(e,_)))}).next(()=>ie.waitFor(u)).next(()=>o)}forEachTarget(e,t){return Qg(e).Z((r,o)=>{const u=w_(o);t(u)})}Pn(e){return fx(e).get("targetGlobalKey").next(t=>(_t(null!==t),t))}Vn(e,t){return fx(e).put("targetGlobalKey",t)}Sn(e,t){return Qg(e).put(QM(this.serializer,t))}Dn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=oc(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Qg(e).Z({range:o,index:"queryTargetsIndex"},(d,m,_)=>{const C=w_(m);$g(t,C.target)&&(u=C,_.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=Od(e);return t.forEach(d=>{const m=Ti(d.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,d))}),ie.waitFor(o)}removeMatchingKeys(e,t,r){const o=Od(e);return ie.forEach(t,u=>{const d=Ti(u.path);return ie.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Od(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Od(e);let u=je();return o.Z({range:r,Y:!0},(d,m,_)=>{const C=Fa(d[1]),T=new qe(C);u=u.add(T)}).next(()=>u)}containsKey(e,t){const r=Ti(t.path),o=IDBKeyRange.bound([r],[qI(r)],!1,!0);let u=0;return Od(e).Z({index:"documentTargetsIndex",Y:!0,range:o},([d,m],_,C)=>{0!==d&&(u++,C.done())}).next(()=>u>0)}ne(e,t){return Qg(e).get(t).next(r=>r?w_(r):null)}}function Qg(n){return Tn(n,"targets")}function fx(n){return Tn(n,"targetGlobal")}function Od(n){return Tn(n,"targetDocuments")}function px([n,e],[t,r]){const o=Lt(n,t);return 0===o?Lt(e,r):o}class _P{constructor(e){this.Cn=e,this.buffer=new En(px),this.xn=0}Nn(){return++this.xn}kn(e){const t=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();px(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class wP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}$n(e){var t=this;Ne("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ve.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){ka(r)?Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield tc(r)}yield t.$n(3e5)}))}}class IP{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.Fn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ie.resolve(hs.ct);const r=new _P(t);return this.Mn.forEachTarget(e,o=>r.kn(o.sequenceNumber)).next(()=>this.Mn.Bn(e,o=>r.kn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Mn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(lx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lx):this.Ln(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}Ln(e,t){let r,o,u,d,m,_,C;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,d=Date.now(),this.nthSequenceNumber(e,o))).next(N=>(r=N,m=Date.now(),this.removeTargets(e,r,t))).next(N=>(u=N,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(N=>(C=Date.now(),Hv()<=Au.in.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-T}ms\n\tDetermined least recently used ${o} in `+(m-d)+`ms\n\tRemoved ${u} targets in `+(_-m)+`ms\n\tRemoved ${N} documents in `+(C-_)+`ms\nTotal Duration: ${C-T}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:N})))}}class bP{constructor(e,t){this.db=e,this.garbageCollector=new IP(this,t)}Fn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}qn(e){let t=0;return this.Bn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Bn(e,t){return this.Un(e,(r,o)=>t(o))}addReference(e,t,r){return Nb(e,r)}removeReference(e,t,r){return Nb(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Nb(e,t)}Kn(e,t){return function(r,o){let u=!1;return hx(r).X(d=>dx(r,d,o).next(m=>(m&&(u=!0),ie.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Un(e,(d,m)=>{if(m<=t){const _=this.Kn(e,d).next(C=>{if(!C)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,wt.min()),Od(e).delete([0,Ti(d.path)])))});o.push(_)}}).next(()=>ie.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Nb(e,t)}Un(e,t){const r=Od(e);let o,u=hs.ct;return r.Z({index:"documentTargetsIndex"},([d,m],{path:_,sequenceNumber:C})=>{0===d?(u!==hs.ct&&t(new qe(Fa(o)),u),u=C,o=_):u=hs.ct}).next(()=>{u!==hs.ct&&t(new qe(Fa(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Nb(n,e){return Od(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ti(e.path),sequenceNumber:r}));var r}class gx{constructor(){this.changes=new w(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class EP{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return kf(e).put(r)}removeEntry(e,t,r){return kf(e).delete(function(o,u){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Tb(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Gn(e,r)))}getEntry(e,t){let r=Sn.newInvalidDocument(t);return kf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(D_(t))},(o,u)=>{r=this.Qn(t,u)}).next(()=>r)}zn(e,t){let r={size:0,document:Sn.newInvalidDocument(t)};return kf(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(D_(t))},(o,u)=>{r={document:this.Qn(t,u),size:Pb(u)}}).next(()=>r)}getEntries(e,t){let r=A();return this.jn(e,t,(o,u)=>{const d=this.Qn(o,u);r=r.insert(o,d)}).next(()=>r)}Wn(e,t){let r=A(),o=new Yn(qe.comparator);return this.jn(e,t,(u,d)=>{const m=this.Qn(u,d);r=r.insert(u,m),o=o.insert(u,Pb(d))}).next(()=>({documents:r,Hn:o}))}jn(e,t,r){if(t.isEmpty())return ie.resolve();let o=new En(_x);t.forEach(_=>o=o.add(_));const u=IDBKeyRange.bound(D_(o.first()),D_(o.last())),d=o.getIterator();let m=d.getNext();return kf(e).Z({index:"documentKeyIndex",range:u},(_,C,T)=>{const N=qe.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;m&&_x(m,N)<0;)r(m,null),m=d.getNext();m&&m.isEqual(N)&&(r(m,C),m=d.hasNext()?d.getNext():null),m?T.G(D_(m)):T.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(e,t,r,o){const u=t.path,d=[u.popLast().toArray(),u.lastSegment(),Tb(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return kf(e).j(IDBKeyRange.bound(d,m,!0)).next(_=>{let C=A();for(const T of _){const N=this.Qn(qe.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);N.isFoundDocument()&&(l(t,N)||o.has(N.key))&&(C=C.insert(N.key,N))}return C})}getAllFromCollectionGroup(e,t,r,o){let u=A();const d=vx(t,r),m=vx(t,ks.max());return kf(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(_,C,T)=>{const N=this.Qn(qe.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);u=u.insert(N.key,N),u.size===o&&T.done()}).next(()=>u)}newChangeBuffer(e){return new CP(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return yx(e).get("remoteDocumentGlobalKey").next(t=>(_t(!!t),t))}Gn(e,t){return yx(e).put("remoteDocumentGlobalKey",t)}Qn(e,t){if(t){const r=function uP(n,e){let t;if(e.document)t=HM(n.se,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=qe.fromSegments(e.noDocument.path),o=xf(e.noDocument.readTime);t=Sn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ut();{const r=qe.fromSegments(e.unknownDocument.path),o=xf(e.unknownDocument.version);t=Sn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Gn(r[0],r[1]);return wt.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(wt.min()))return r}return Sn.newInvalidDocument(e)}}function mx(n){return new EP(n)}class CP extends gx{constructor(e,t){super(),this.Jn=e,this.trackRemovals=t,this.Yn=new w(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new En((u,d)=>Lt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const m=this.Yn.get(u);if(t.push(this.Jn.removeEntry(e,u,m.readTime)),d.isValidDocument()){const _=YM(this.Jn.serializer,d);o=o.add(u.path.popLast());const C=Pb(_);r+=C-m.size,t.push(this.Jn.addEntry(e,u,_))}else if(r-=m.size,this.trackRemovals){const _=YM(this.Jn.serializer,d.convertToNoDocument(wt.min()));t.push(this.Jn.addEntry(e,u,_))}}),o.forEach(u=>{t.push(this.Jn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Jn.updateMetadata(e,r)),ie.waitFor(t)}getFromCache(e,t){return this.Jn.zn(e,t).next(r=>(this.Yn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Jn.Wn(e,t).next(({documents:r,Hn:o})=>(o.forEach((u,d)=>{this.Yn.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function yx(n){return Tn(n,"remoteDocumentGlobal")}function kf(n){return Tn(n,"remoteDocumentsV14")}function D_(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function vx(n,e){const t=e.documentKey.path.toArray();return[n,Tb(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function _x(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=Lt(t[u],r[u]),o)return o;return o=Lt(t.length,r.length),o||(o=Lt(t[t.length-2],r[r.length-2]),o||Lt(t[t.length-1],r[r.length-1]))}class DP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class wx{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==r&&p_(r.mutation,o,$i.empty(),Gn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,je()).next(()=>r))}getLocalViewOfDocuments(e,t,r=je()){const o=Q();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let d=U();return u.forEach((m,_)=>{d=d.insert(m,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Q();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,je()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,o){let u=A();const d=Fe(),m=Fe();return t.forEach((_,C)=>{const T=r.get(C.key);o.has(C.key)&&(void 0===T||T.mutation instanceof ac)?u=u.insert(C.key,C):void 0!==T?(d.set(C.key,T.mutation.getFieldMask()),p_(T.mutation,C,T.mutation.getFieldMask(),Gn.now())):d.set(C.key,$i.empty())}),this.recalculateAndSaveOverlays(e,u).next(_=>(_.forEach((C,T)=>d.set(C,T)),t.forEach((C,T)=>{var N;return m.set(C,new DP(T,null!==(N=d.get(C))&&void 0!==N?N:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Fe();let o=new Yn((d,m)=>d-m),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(_=>{const C=t.get(_);if(null===C)return;let T=r.get(_)||$i.empty();T=m.applyToLocalView(C,T),r.set(_,T);const N=(o.get(m.batchId)||je()).add(_);o=o.insert(m.batchId,N)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const _=m.getNext(),C=_.key,T=_.value,N=me();T.forEach(G=>{if(!u.has(G)){const J=AM(t.get(G),r.get(G));null!==J&&N.set(G,J),u=u.add(G)}}),d.push(this.documentOverlayCache.saveOverlays(e,C,N))}return ie.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return qe.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):wb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):ie.resolve(Q());let m=-1,_=u;return d.next(C=>ie.forEach(C,(T,N)=>(m<N.largestBatchId&&(m=N.largestBatchId),u.get(T)?ie.resolve():this.remoteDocumentCache.getEntry(e,T).next(G=>{_=_.insert(T,G)}))).next(()=>this.populateOverlays(e,C,u)).next(()=>this.computeViews(e,_,C,je())).next(T=>({batchId:m,changes:Z(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qe(t)).next(r=>{let o=U();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=U();return this.indexManager.getCollectionParents(e,o).next(d=>ie.forEach(d,m=>{const _=(C=t,T=m.child(o),new Fu(T,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,T;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(C=>{C.forEach((T,N)=>{u=u.insert(T,N)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o))).next(u=>{o.forEach((m,_)=>{const C=_.getKey();null===u.get(C)&&(u=u.insert(C,Sn.newInvalidDocument(C)))});let d=U();return u.forEach((m,_)=>{const C=o.get(m);void 0!==C&&p_(C.mutation,_,$i.empty(),Gn.now()),l(t,_)&&(d=d.insert(m,_))}),d})}}class AP{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return ie.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Lr(r.createTime)}),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(r=t).name,query:lA(r.bundledQuery),readTime:Lr(r.readTime)}),ie.resolve();var r}}class TP{constructor(){this.overlays=new Yn(qe.comparator),this.ts=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Q();return ie.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.re(e,t,u)}),ie.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.ts.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.ts.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const o=Q(),u=t.length+1,d=new qe(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const _=m.getNext().value,C=_.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===u&&_.largestBatchId>r&&o.set(_.getKey(),_)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new Yn((C,T)=>C-T);const d=this.overlays.getIterator();for(;d.hasNext();){const C=d.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let T=u.get(C.largestBatchId);null===T&&(T=Q(),u=u.insert(C.largestBatchId,T)),T.set(C.getKey(),C)}}const m=Q(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((C,T)=>m.set(C,T)),!(m.size()>=o)););return ie.resolve(m)}re(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const d=this.ts.get(o.largestBatchId).delete(r.key);this.ts.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new nA(t,r));let u=this.ts.get(t);void 0===u&&(u=je(),this.ts.set(t,u)),this.ts.set(t,u.add(r.key))}}class mA{constructor(){this.es=new En(yi.ns),this.ss=new En(yi.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,t){const r=new yi(e,t);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.us(new yi(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}hs(e){const t=new qe(new on([])),r=new yi(t,e),o=new yi(t,e+1),u=[];return this.ss.forEachInRange([r,o],d=>{this.us(d),u.push(d.key)}),u}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const t=new qe(new on([])),r=new yi(t,e),o=new yi(t,e+1);let u=je();return this.ss.forEachInRange([r,o],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new yi(e,0),r=this.es.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class yi{constructor(e,t){this.key=e,this.ds=t}static ns(e,t){return qe.comparator(e.key,t.key)||Lt(e.ds,t.ds)}static rs(e,t){return Lt(e.ds,t.ds)||qe.comparator(e.key,t.key)}}class SP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this._s=new En(yi.ns)}checkEmpty(e){return ie.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.ws;this.ws++;const d=new eA(u,t,r,o);this.mutationQueue.push(d);for(const m of o)this._s=this._s.add(new yi(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(d)}lookupMutationBatch(e,t){return ie.resolve(this.gs(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ys(t+1),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new yi(t,0),o=new yi(t,Number.POSITIVE_INFINITY),u=[];return this._s.forEachInRange([r,o],d=>{const m=this.gs(d.ds);u.push(m)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new En(Lt);return t.forEach(o=>{const u=new yi(o,0),d=new yi(o,Number.POSITIVE_INFINITY);this._s.forEachInRange([u,d],m=>{r=r.add(m.ds)})}),ie.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;qe.isDocumentKey(u)||(u=u.child(""));const d=new yi(new qe(u),0);let m=new En(Lt);return this._s.forEachWhile(_=>{const C=_.key.path;return!!r.isPrefixOf(C)&&(C.length===o&&(m=m.add(_.ds)),!0)},d),ie.resolve(this.ps(m))}ps(e){const t=[];return e.forEach(r=>{const o=this.gs(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){_t(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();let r=this._s;return ie.forEach(t.mutations,o=>{const u=new yi(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this._s=r})}En(e){}containsKey(e,t){const r=new yi(t,0),o=this._s.firstAfterOrEqual(r);return ie.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return ie.resolve()}Is(e,t){return this.ys(e)}ys(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}gs(e){const t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class MP{constructor(e){this.Ts=e,this.docs=new Yn(qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,d=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():Sn.newInvalidDocument(t))}getEntries(e,t){let r=A();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Sn.newInvalidDocument(o))}),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let u=A();const d=t.path,m=new qe(d.child("")),_=this.docs.getIteratorFrom(m);for(;_.hasNext();){const{key:C,value:{document:T}}=_.getNext();if(!d.isPrefixOf(C.path))break;C.path.length>d.length+1||YI(MD(T),r)<=0||(o.has(T.key)||l(t,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,t,r,o){ut()}Es(e,t){return ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new xP(this)}getSize(e){return ie.resolve(this.size)}}class xP extends gx{constructor(e){super(),this.Jn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Jn.addEntry(e,o)):this.Jn.removeEntry(r)}),ie.waitFor(t)}getFromCache(e,t){return this.Jn.getEntry(e,t)}getAllFromCache(e,t){return this.Jn.getEntries(e,t)}}class OP{constructor(e){this.persistence=e,this.As=new w(t=>oc(t),$g),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.Rs=0,this.vs=new mA,this.targetCount=0,this.bs=Nf.vn()}forEachTarget(e,t){return this.As.forEach((r,o)=>t(o)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Rs&&(this.Rs=t),ie.resolve()}Sn(e){this.As.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new Nf(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,t){return this.Sn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Sn(t),ie.resolve()}removeTargetData(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.As.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.As.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ie.waitFor(u).next(()=>o)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.As.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.vs.os(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.vs.cs(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.vs.hs(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.vs.fs(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.vs.containsKey(t))}}class Ix{constructor(e,t){this.Ps={},this.overlays={},this.Vs=new hs(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new OP(this),this.indexManager=new mP,this.remoteDocumentCache=new MP(r=>this.referenceDelegate.Cs(r)),this.serializer=new KM(t),this.xs=new AP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new TP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ps[e.toKey()];return r||(r=new SP(t,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,t,r){Ne("MemoryPersistence","Starting transaction:",e);const o=new PP(this.Vs.next());return this.referenceDelegate.Ns(),r(o).next(u=>this.referenceDelegate.ks(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Os(e,t){return ie.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,t)))}}class PP extends yf{constructor(e){super(),this.currentSequenceNumber=e}}class kb{constructor(e){this.persistence=e,this.$s=new mA,this.Ms=null}static Fs(e){return new kb(e)}get Bs(){if(this.Ms)return this.Ms;throw ut()}addReference(e,t,r){return this.$s.addReference(r,t),this.Bs.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.$s.removeReference(r,t),this.Bs.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.Bs.add(t.toString()),ie.resolve()}removeTarget(e,t){this.$s.hs(t.targetId).forEach(o=>this.Bs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Bs.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Ns(){this.Ms=new Set}ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Bs,r=>{const o=qe.fromPath(r);return this.Ls(e,o).next(u=>{u||t.removeEntry(o,wt.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ls(e,t).next(r=>{r?this.Bs.delete(t.toString()):this.Bs.add(t.toString())})}Cs(e){return 0}Ls(e,t){return ie.or([()=>ie.resolve(this.$s.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class RP{constructor(e){this.serializer=e}M(e,t,r,o){const u=new vf("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",XI,{unique:!0}),m.createObjectStore("documentMutations"),bx(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=ie.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),bx(e)),d=d.next(()=>function(m){const _=m.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:wt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",C)}(u))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(m,_){return _.store("mutations").j().next(C=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",XI,{unique:!0});const T=_.store("mutations"),N=C.map(G=>T.put(G));return ie.waitFor(N)})}(e,u))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.qs(u))),r<6&&o>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Us(u)))),r<7&&o>=7&&(d=d.next(()=>this.Ks(u))),r<8&&o>=8&&(d=d.next(()=>this.Gs(e,u))),r<9&&o>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.Qs(u))),r<11&&o>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(m){const _=m.createObjectStore("documentOverlays",{keyPath:JI});_.createIndex("collectionPathOverlayIndex",eb,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",jD,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(m){const _=m.createObjectStore("remoteDocumentsV14",{keyPath:oo});_.createIndex("documentKeyIndex",FD),_.createIndex("collectionGroupIndex",Yv)}(e)).next(()=>this.zs(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>this.js(e,u))),r<15&&o>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:Qv}).createIndex("sequenceNumberIndex",UD,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:BD}).createIndex("documentKeyIndex",Xv,{unique:!1})}(e))),d}Us(e){let t=0;return e.store("remoteDocuments").Z((r,o)=>{t+=Pb(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(o=>ie.forEach(o,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",d).next(m=>ie.forEach(m,_=>{_t(_.userId===u.userId);const C=Of(this.serializer,_);return cx(e,u.userId,C).next(()=>{})}))}))}Ks(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.Z((d,m)=>{const _=new on(d),C=[0,Ti(_)];u.push(t.get(C).next(T=>T?ie.resolve():t.put({targetId:0,path:Ti(_),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ie.waitFor(u))})}Gs(e,t){e.createObjectStore("collectionParents",{keyPath:VD});const r=t.store("collectionParents"),o=new gA,u=d=>{if(o.add(d)){const m=d.lastSegment(),_=d.popLast();return r.put({collectionId:m,parent:Ti(_)})}};return t.store("remoteDocuments").Z({Y:!0},(d,m)=>{const _=new on(d);return u(_.popLast())}).next(()=>t.store("documentMutations").Z({Y:!0},([d,m,_],C)=>{const T=Fa(m);return u(T.popLast())}))}Qs(e){const t=e.store("targets");return t.Z((r,o)=>{const u=w_(o),d=QM(this.serializer,u);return t.put(d)})}zs(e,t){const r=t.store("remoteDocuments"),o=[];return r.Z((u,d)=>{const m=t.store("remoteDocumentsV14"),_=(C=d,C.document?new qe(on.fromString(C.document.name).popFirst(5)):C.noDocument?qe.fromSegments(C.noDocument.path):C.unknownDocument?qe.fromSegments(C.unknownDocument.path):ut()).path.toArray();var C;const T={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(m.put(T))}).next(()=>ie.waitFor(o))}js(e,t){const r=t.store("mutations"),o=mx(this.serializer),u=new Ix(kb.Fs,this.serializer.se);return r.j().next(d=>{const m=new Map;return d.forEach(_=>{var C;let T=null!==(C=m.get(_.userId))&&void 0!==C?C:je();Of(this.serializer,_).keys().forEach(N=>T=T.add(N)),m.set(_.userId,T)}),ie.forEach(m,(_,C)=>{const T=new Kr(C),N=Sb.ie(this.serializer,T),G=u.getIndexManager(T),J=Rb.ie(T,this.serializer,G,u.referenceDelegate);return new wx(o,J,N,G).recalculateAndSaveOverlaysForDocumentKeys(new wf(t,hs.ct),_).next()})})}}function bx(n){n.createObjectStore("targetDocuments",{keyPath:vM}).createIndex("documentTargetsIndex",Ls,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",LD,{unique:!0}),n.createObjectStore("targetGlobal")}const yA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class vA{constructor(e,t,r,o,u,d,m,_,C,T,N=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ws=u,this.window=d,this.document=m,this.Hs=C,this.Js=T,this.Ys=N,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=G=>Promise.resolve(),!vA.D())throw new Ee(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bP(this,o),this.si=t+"main",this.serializer=new KM(_),this.ii=new Fs(this.si,this.Ys,new RP(this.serializer)),this.Ds=new vP(this.referenceDelegate,this.serializer),this.remoteDocumentCache=mx(this.serializer),this.xs=new lP,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===T&&rr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ee(ue.FAILED_PRECONDITION,yA);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ds.getHighestSequenceNumber(e))}).then(e=>{this.Vs=new hs(e,this.Hs)}).then(()=>{this.Ss=!0}).catch(e=>(this.ii&&this.ii.close(),Promise.reject(e)))}hi(e){var t=this;return this.ni=function(){var r=(0,ve.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ii.B(function(){var t=(0,ve.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.oi())})))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Fb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(e).next(t=>{t||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(e)).next(t=>this.isPrimary&&!t?this.di(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ka(e))return Ne("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ws.enqueueRetryable(()=>this.ni(e)),this.isPrimary=e})}li(e){return A_(e).get("owner").next(t=>ie.resolve(this._i(t)))}mi(e){return Fb(e).delete(this.clientId)}gi(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.yi(e.ei,18e5)){e.ei=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Tn(r,"clientMetadata");return o.j().next(u=>{const d=e.pi(u,18e5),m=u.filter(_=>-1===d.indexOf(_));return ie.forEach(m,_=>o.delete(_.clientId)).next(()=>m)})}).catch(()=>[]);if(e.ri)for(const r of t)e.ri.removeItem(e.Ii(r.clientId))}})()}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(e){return!!e&&e.ownerId===this.clientId}fi(e){return this.Js?ie.resolve(!0):A_(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)){if(this._i(t)&&this.networkEnabled)return!0;if(!this._i(t)){if(!t.allowTabSynchronization)throw new Ee(ue.FAILED_PRECONDITION,yA);return!1}}return!(!this.networkEnabled||!this.inForeground)||Fb(e).j().next(r=>void 0===this.pi(r,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ne("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.Ss=!1,e.Ei(),e.ti&&(e.ti.cancel(),e.ti=null),e.Ai(),e.Ri(),yield e.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new wf(t,hs.ct);return e.di(r).next(()=>e.mi(r))}),e.ii.close(),e.vi()})()}pi(e,t){return e.filter(r=>this.yi(r.updateTimeMs,t)&&!this.Ti(r.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",e=>Fb(e).j().next(t=>this.pi(t,18e5).map(r=>r.clientId)))}get started(){return this.Ss}getMutationQueue(e,t){return Rb.ie(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new yP(e,this.serializer.se.databaseId)}getDocumentOverlayCache(e){return Sb.ie(this.serializer,e)}getBundleCache(){return this.xs}runTransaction(e,t,r){Ne("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=15===(d=this.Ys)?$D:14===d?e_:13===d?nb:12===d?tb:11===d?Jv:void ut();var d;let m;return this.ii.runTransaction(e,o,u,_=>(m=new wf(_,this.Vs?this.Vs.next():hs.ct),"readwrite-primary"===t?this.li(m).next(C=>!!C||this.fi(m)).next(C=>{if(!C)throw rr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new Ee(ue.FAILED_PRECONDITION,xD);return r(m)}).next(C=>this.wi(m).next(()=>C)):this.Pi(m).next(()=>r(m)))).then(_=>(m.raiseOnCommittedEvent(),_))}Pi(e){return A_(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)&&!this._i(t)&&!(this.Js||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ee(ue.FAILED_PRECONDITION,yA)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return A_(e).put("owner",t)}static D(){return Fs.D()}di(e){const t=A_(e);return t.get("owner").next(r=>this._i(r)?(Ne("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ie.resolve())}yi(e,t){const r=Date.now();return!(e<r-t||e>r&&(rr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ui(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ei();const t=/(?:Version|Mobile)\/1[456]/;(0,dn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(e){var t;try{const r=null!==(null===(t=this.ri)||void 0===t?void 0:t.getItem(this.Ii(e)));return Ne("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return rr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(e){rr("Failed to set zombie client id.",e)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch{}}Ii(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function A_(n){return Tn(n,"owner")}function Fb(n){return Tn(n,"clientMetadata")}function _A(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class wA{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Vi=r,this.Si=o}static Di(e,t){let r=je(),o=je();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new wA(e,t.fromCache,r,o)}}class Ex{constructor(){this.Ci=!1}initialize(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ni(e,t).next(u=>u||this.ki(e,t,o,r)).next(u=>u||this.Oi(e,t))}Ni(e,t){if(QD(t))return ie.resolve(null);let r=Hi(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=h_(t,null,"F"),r=Hi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=je(...u);return this.xi.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(_=>{const C=this.$i(t,m);return this.Mi(t,C,d,_.readTime)?this.Ni(e,h_(t,null,"F")):this.Fi(e,C,t,_)}))})))}ki(e,t,r,o){return QD(t)||o.isEqual(wt.min())?this.Oi(e,t):this.xi.getDocuments(e,r).next(u=>{const d=this.$i(t,u);return this.Mi(t,d,r,o)?this.Oi(e,t):(Hv()<=Au.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),a(t)),this.Fi(e,d,t,SD(o,-1)))})}$i(e,t){let r=new En(f(e));return t.forEach((o,u)=>{l(e,u)&&(r=r.add(u))}),r}Mi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Oi(e,t){return Hv()<=Au.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",a(t)),this.xi.getDocumentsMatchingQuery(e,t,ks.min())}Fi(e,t,r,o){return this.xi.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class NP{constructor(e,t,r,o){this.persistence=e,this.Bi=t,this.serializer=o,this.Li=new Yn(Lt),this.qi=new w(u=>oc(u),$g),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(r)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wx(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Li))}}function Cx(n,e,t,r){return new NP(n,e,t,r)}function Dx(n,e){return IA.apply(this,arguments)}function IA(){return IA=(0,ve.Z)(function*(n,e){const t=Ye(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.Gi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],m=[];let _=je();for(const C of o){d.push(C.batchId);for(const T of C.mutations)_=_.add(T.key)}for(const C of u){m.push(C.batchId);for(const T of C.mutations)_=_.add(T.key)}return t.localDocuments.getDocuments(r,_).next(C=>({Qi:C,removedBatchIds:d,addedBatchIds:m}))})})}),IA.apply(this,arguments)}function Ax(n){const e=Ye(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ds.getLastRemoteSnapshotVersion(t))}function Tx(n,e,t){let r=je(),o=je();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let d=A();return t.forEach((m,_)=>{const C=u.get(m);_.isFoundDocument()!==C.isFoundDocument()&&(o=o.add(m)),_.isNoDocument()&&_.version.isEqual(wt.min())?(e.removeEntry(m,_.readTime),d=d.insert(m,_)):!C.isValidDocument()||_.version.compareTo(C.version)>0||0===_.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(_),d=d.insert(m,_)):Ne("LocalStore","Ignoring outdated watch update for ",m,". Current version:",C.version," Watch version:",_.version)}),{zi:d,ji:o}})}function LP(n,e){const t=Ye(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Xg(n,e){const t=Ye(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Ds.getTargetData(r,e).next(u=>u?(o=u,ie.resolve(o)):t.Ds.allocateTargetId(r).next(d=>(o=new Sd(e,d,0,r.currentSequenceNumber),t.Ds.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Li.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Li=t.Li.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function Jg(n,e,t){return bA.apply(this,arguments)}function bA(){return bA=(0,ve.Z)(function*(n,e,t){const r=Ye(n),o=r.Li.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ka(d))throw d;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Li=r.Li.remove(e),r.qi.delete(o.target)}),bA.apply(this,arguments)}function Lb(n,e,t){const r=Ye(n);let o=wt.min(),u=je();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,_,C){const T=Ye(m),N=T.qi.get(C);return void 0!==N?ie.resolve(T.Li.get(N)):T.Ds.getTargetData(_,C)}(r,d,Hi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(d,m.targetId).next(_=>{u=_})}).next(()=>r.Bi.getDocumentsMatchingQuery(d,e,t?o:wt.min(),t?u:je())).next(m=>(xx(r,h(e),m),{documents:m,Wi:u})))}function Sx(n,e){const t=Ye(n),r=Ye(t.Ds),o=t.Li.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.ne(u,e).next(d=>d?d.target:null))}function Mx(n,e){const t=Ye(n),r=t.Ui.get(e)||wt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Ki.getAllFromCollectionGroup(o,e,SD(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(xx(t,e,o),o))}function xx(n,e,t){let r=n.Ui.get(e)||wt.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ui.set(e,r)}function EA(){return EA=(0,ve.Z)(function*(n,e,t,r){const o=Ye(n);let u=je(),d=A();for(const C of t){const T=e.Hi(C.metadata.name);C.document&&(u=u.add(T));const N=e.Ji(C);N.setReadTime(e.Yi(C.metadata.readTime)),d=d.insert(T,N)}const m=o.Ki.newChangeBuffer({trackRemovals:!0}),_=yield Xg(o,(C=r,Hi(Af(on.fromString(`__bundle__/docs/${C}`)))));var C;return o.persistence.runTransaction("Apply bundle documents","readwrite",C=>Tx(C,m,d).next(T=>(m.apply(C),T)).next(T=>o.Ds.removeMatchingKeysForTargetId(C,_.targetId).next(()=>o.Ds.addMatchingKeys(C,u,_.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(C,T.zi,T.ji)).next(()=>T.zi)))}),EA.apply(this,arguments)}function UP(n,e){return CA.apply(this,arguments)}function CA(){return CA=(0,ve.Z)(function*(n,e,t=je()){const r=yield Xg(n,Hi(lA(e.bundledQuery))),o=Ye(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const d=Lr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o.xs.saveNamedQuery(u,e);const m=r.withResumeToken(Cr.EMPTY_BYTE_STRING,d);return o.Li=o.Li.insert(m.targetId,m),o.Ds.updateTargetData(u,m).next(()=>o.Ds.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.Ds.addMatchingKeys(u,t,r.targetId)).next(()=>o.xs.saveNamedQuery(u,e))})}),CA.apply(this,arguments)}function Ox(n,e){return`firestore_clients_${n}_${e}`}function Px(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function DA(n,e){return`firestore_targets_${n}_${e}`}class Vb{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Zi(e,t,r){const o=JSON.parse(r);let u,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new Ee(o.error.code,o.error.message))),d?new Vb(e,t,o.state,u):(rr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class T_{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Ee(r.error.code,r.error.message))),u?new T_(e,r.state,o):(rr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ub{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=Rt();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=ND(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return o?new Ub(e,u):(rr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class AA{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new AA(t.clientId,t.onlineState):(rr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class TA{constructor(){this.activeTargetIds=Rt()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SA{constructor(e,t,r,o,u){this.window=e,this.Ws=t,this.persistenceKey=r,this.nr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new Yn(Lt),this.started=!1,this.ur=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.cr=Ox(this.persistenceKey,this.nr),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.rr=this.rr.insert(this.nr,new TA),this.hr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this._r=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.bi();for(const o of t){if(o===e.nr)continue;const u=e.getItem(Ox(e.persistenceKey,o));if(u){const d=Ub.Zi(o,u);d&&(e.rr=e.rr.insert(d.clientId,d))}}e.mr();const r=e.storage.getItem(e.wr);if(r){const o=e.gr(r);o&&e.yr(o)}for(const o of e.ur)e.ir(o);e.ur=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(e){let t=!1;return this.rr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ir(e,"pending")}updateMutationState(e,t,r){this.Ir(e,t,r),this.Tr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(DA(this.persistenceKey,e));if(r){const o=T_.Zi(e,r);o&&(t=o.state)}}return this.Er.tr(e),this.mr(),t}removeLocalQueryTarget(e){this.Er.er(e),this.mr()}isLocalQueryTarget(e){return this.Er.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(DA(this.persistenceKey,e))}updateQueryState(e,t,r){this.Ar(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Tr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Rr(e)}notifyBundleLoaded(e){this.vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ne("SharedClientState","READ",e,t),t}setItem(e,t){Ne("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ne("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ir(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ne("SharedClientState","EVENT",r.key,r.newValue),r.key===this.cr)return void rr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==r.key)if(t.hr.test(r.key)){if(null==r.newValue){const o=t.br(r.key);return t.Pr(o,null)}{const o=t.Vr(r.key,r.newValue);if(o)return t.Pr(o.clientId,o)}}else if(t.lr.test(r.key)){if(null!==r.newValue){const o=t.Sr(r.key,r.newValue);if(o)return t.Dr(o)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const o=t.Cr(r.key,r.newValue);if(o)return t.Nr(o)}}else if(r.key===t.wr){if(null!==r.newValue){const o=t.gr(r.newValue);if(o)return t.yr(o)}}else if(r.key===t.ar){const o=function(u){let d=hs.ct;if(null!=u)try{const m=JSON.parse(u);_t("number"==typeof m),d=m}catch(m){rr("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);o!==hs.ct&&t.sequenceNumberHandler(o)}else if(r.key===t._r){const o=t.kr(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Or(u)))}}else t.ur.push(r)}))}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(e,t,r){const o=new Vb(this.currentUser,e,t,r),u=Px(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Xi())}Tr(e){const t=Px(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Rr(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.nr,onlineState:e}))}Ar(e,t,r){const o=DA(this.persistenceKey,e),u=new T_(e,t,r);this.setItem(o,u.Xi())}vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}br(e){const t=this.hr.exec(e);return t?t[1]:null}Vr(e,t){const r=this.br(e);return Ub.Zi(r,t)}Sr(e,t){const r=this.lr.exec(e),o=Number(r[1]);return Vb.Zi(new Kr(void 0!==r[2]?r[2]:null),o,t)}Cr(e,t){const r=this.dr.exec(e),o=Number(r[1]);return T_.Zi(o,t)}gr(e){return AA.Zi(e)}kr(e){return JSON.parse(e)}Dr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Ne("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Nr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}Pr(e,t){const r=t?this.rr.insert(e,t):this.rr.remove(e),o=this.pr(this.rr),u=this.pr(r),d=[],m=[];return u.forEach(_=>{o.has(_)||d.push(_)}),o.forEach(_=>{u.has(_)||m.push(_)}),this.syncEngine.Fr(d,m).then(()=>{this.rr=r})}yr(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}pr(e){let t=Rt();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class Rx{constructor(){this.Br=new TA,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,t,r){this.Lr[e]=t}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new TA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class BP{qr(e){}shutdown(){}}class Nx{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Bb=null;function MA(){return null===Bb?Bb=268435456+Math.round(2147483648*Math.random()):Bb++,"0x"+Bb.toString(16)}const jP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $P{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}const zi="WebChannelConnection";class HP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.ro=(e.ssl?"https":"http")+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,t,r,o,u){const d=MA(),m=this.ao(e,t);Ne("RestConnection",`Sending RPC '${e}' ${d}:`,m,r);const _={};return this.ho(_,o,u),this.lo(e,m,_,r).then(C=>(Ne("RestConnection",`Received RPC '${e}' ${d}: `,C),C),C=>{throw so("RestConnection",`RPC '${e}' ${d} failed with error: `,C,"url: ",m,"request:",r),C})}fo(e,t,r,o,u,d){return this.co(e,t,r,o,u)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Jl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}ao(e,t){return`${this.ro}/v1/${t}:${jP[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,o){const u=MA();return new Promise((d,m)=>{const _=new bD;_.setWithCredentials(!0),_.listenOnce(dM.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Bv.NO_ERROR:const T=_.getResponseJson();Ne(zi,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),d(T);break;case Bv.TIMEOUT:Ne(zi,`RPC '${e}' ${u} timed out`),m(new Ee(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Bv.HTTP_ERROR:const N=_.getStatus();if(Ne(zi,`RPC '${e}' ${u} failed with status:`,N,"response text:",_.getResponseText()),N>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const J=G?.error;if(J&&J.status&&J.message){const ge=function(Le){const ze=Le.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(ze)>=0?ze:ue.UNKNOWN}(J.status);m(new Ee(ge,J.message))}else m(new Ee(ue.UNKNOWN,"Server responded with status "+_.getStatus()))}else m(new Ee(ue.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{Ne(zi,`RPC '${e}' ${u} completed.`)}});const C=JSON.stringify(o);Ne(zi,`RPC '${e}' ${u} sending request:`,o),_.send(t,"POST",C,r,15)})}wo(e,t,r){const o=MA(),u=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=wd(),m=ID(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new $v({})),this.ho(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const C=u.join("");Ne(zi,`Creating RPC '${e}' stream ${o}: ${C}`,_);const T=d.createWebChannel(C,_);let N=!1,G=!1;const J=new $P({Wr:Le=>{G?Ne(zi,`Not sending because RPC '${e}' stream ${o} is closed:`,Le):(N||(Ne(zi,`Opening RPC '${e}' stream ${o} transport.`),T.open(),N=!0),Ne(zi,`RPC '${e}' stream ${o} sending:`,Le),T.send(Le))},Hr:()=>T.close()}),ge=(Le,ze,Vt)=>{Le.listen(ze,Qt=>{try{Vt(Qt)}catch(Nt){setTimeout(()=>{throw Nt},0)}})};return ge(T,xu.EventType.OPEN,()=>{G||Ne(zi,`RPC '${e}' stream ${o} transport opened.`)}),ge(T,xu.EventType.CLOSE,()=>{G||(G=!0,Ne(zi,`RPC '${e}' stream ${o} transport closed`),J.so())}),ge(T,xu.EventType.ERROR,Le=>{G||(G=!0,so(zi,`RPC '${e}' stream ${o} transport errored:`,Le),J.so(new Ee(ue.UNAVAILABLE,"The operation could not be completed")))}),ge(T,xu.EventType.MESSAGE,Le=>{var ze;if(!G){const Vt=Le.data[0];_t(!!Vt);const Nt=Vt.error||(null===(ze=Vt[0])||void 0===ze?void 0:ze.error);if(Nt){Ne(zi,`RPC '${e}' stream ${o} received error:`,Nt);const Jt=Nt.status;let en=function(ms){const Ld=Yr[ms];if(void 0!==Ld)return PM(Ld)}(Jt),pn=Nt.message;void 0===en&&(en=ue.INTERNAL,pn="Unknown error status: "+Jt+" with message "+Nt.message),G=!0,J.so(new Ee(en,pn)),T.close()}else Ne(zi,`RPC '${e}' stream ${o} received:`,Vt),J.io(Vt)}}),ge(m,hM.STAT_EVENT,Le=>{Le.stat===jv.PROXY?Ne(zi,`RPC '${e}' stream ${o} detected buffering proxy`):Le.stat===jv.NOPROXY&&Ne(zi,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{J.no()},0),J}}function kx(){return typeof window<"u"?window:null}function jb(){return typeof document<"u"?document:null}function S_(n){return new XO(n,!0)}class xA{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Ws=e,this.timerId=t,this._o=r,this.mo=o,this.yo=u,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),o=Math.max(0,t-r);o>0&&Ne("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,o,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Fx{constructor(e,t,r,o,u,d,m,_){this.Ws=e,this.bo=r,this.Po=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=_,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new xA(e,t)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var e=this;return(0,ve.Z)(function*(){e.xo()&&(yield e.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}Mo(){var e=this;return(0,ve.Z)(function*(){if(e.No())return e.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(e,t){var r=this;return(0,ve.Z)(function*(){r.Bo(),r.Lo(),r.Co.cancel(),r.Vo++,4!==e?r.Co.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(rr(t.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),r.Co.Eo()):t&&t.code===ue.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Vo===t&&this.Ko(r,o)},r=>{e(()=>{const o=new Ee(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(o)})})}Ko(e,t){const r=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(o=>{r(()=>this.Go(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}ko(){var e=this;this.state=5,this.Co.Ao((0,ve.Z)(function*(){e.state=0,e.start()}))}Go(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Ws.enqueueAndForget(()=>this.Vo===e?t():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zP extends Fx{constructor(e,t,r,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.serializer=u}Qo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.Co.reset();const t=function tP(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:ut(),o=e.targetChange.targetIds||[],u=function(_,C){return _.useProto3Json?(_t(void 0===C||"string"==typeof C),Cr.fromBase64String(C||"")):(_t(void 0===C||C instanceof Uint8Array),Cr.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(_){const C=void 0===_.code?ue.UNKNOWN:PM(_.code);return new Ee(C,_.message||"")}(d);t=new NM(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=Lu(n,r.document.name),u=Lr(r.document.updateTime),d=r.document.createTime?Lr(r.document.createTime):wt.min(),m=new Fr({mapValue:{fields:r.document.fields}}),_=Sn.newFoundDocument(o,u,d,m);t=new Ab(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,o=Lu(n,r.document),u=r.readTime?Lr(r.readTime):wt.min(),d=Sn.newNoDocument(o,u);t=new Ab([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=Lu(n,r.document);t=new Ab([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return ut();{const r=e.filter,u=new qO(r.count||0);t=new RM(r.targetId,u)}}var _;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return wt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?wt.min():u.readTime?Lr(u.readTime):wt.min()}(e);return this.listener.zo(t,r)}jo(e){const t={};t.database=v_(this.serializer),t.addTarget=function(o,u){let d;const m=u.target;return d=l_(m)?{documents:zM(o,m)}:{query:uA(o,m)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=VM(o,u.resumeToken):u.snapshotVersion.compareTo(wt.min())>0&&(d.readTime=Wg(o,u.snapshotVersion.toTimestamp())),d}(this.serializer,e);const r=function rP(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ut()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=v_(this.serializer),t.removeTarget=e,this.Fo(t)}}class GP extends Fx{constructor(e,t,r,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.serializer=u,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(_t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const t=function nP(n,e){return n&&n.length>0?(_t(void 0!==e),n.map(t=>function(r,o){let u=Lr(r.updateTime?r.updateTime:o);return u.isEqual(wt.min())&&(u=Lr(o)),new $O(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Lr(e.commitTime);return this.listener.Zo(r,t)}return _t(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=v_(this.serializer),this.Fo(e)}Yo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>__(this.serializer,r))};this.Fo(t)}}class ZP extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.eu=!1}nu(){if(this.eu)throw new Ee(ue.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.co(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ee(ue.UNKNOWN,o.toString())})}fo(e,t,r,o){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.fo(e,t,r,u,d,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ee(ue.UNKNOWN,u.toString())})}terminate(){this.eu=!0}}class WP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(rr(t),this.ru=!1):Ne("OnlineStateTracker",t)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class KP{constructor(e,t,r,o,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=u,this._u.qr(m=>{r.enqueueAndForget((0,ve.Z)(function*(){var _;uc(d)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ve.Z)(function*(C){const T=Ye(C);T.du.add(4),yield em(T),T.mu.set("Unknown"),T.du.delete(4),yield M_(T)}),function(C){return _.apply(this,arguments)})(d))}))}),this.mu=new WP(r,o)}}function M_(n){return PA.apply(this,arguments)}function PA(){return PA=(0,ve.Z)(function*(n){if(uc(n))for(const e of n.wu)yield e(!0)}),PA.apply(this,arguments)}function em(n){return RA.apply(this,arguments)}function RA(){return RA=(0,ve.Z)(function*(n){for(const e of n.wu)yield e(!1)}),RA.apply(this,arguments)}function $b(n,e){const t=Ye(n);t.fu.has(e.targetId)||(t.fu.set(e.targetId,e),FA(t)?kA(t):nm(t).No()&&NA(t,e))}function x_(n,e){const t=Ye(n),r=nm(t);t.fu.delete(e),r.No()&&Lx(t,e),0===t.fu.size&&(r.No()?r.$o():uc(t)&&t.mu.set("Unknown"))}function NA(n,e){n.gu.Ot(e.targetId),nm(n).jo(e)}function Lx(n,e){n.gu.Ot(e),nm(n).Wo(e)}function kA(n){n.gu=new WO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.fu.get(e)||null}),nm(n).start(),n.mu.ou()}function FA(n){return uc(n)&&!nm(n).xo()&&n.fu.size>0}function uc(n){return 0===Ye(n).du.size}function Vx(n){n.gu=void 0}function YP(n){return LA.apply(this,arguments)}function LA(){return LA=(0,ve.Z)(function*(n){n.fu.forEach((e,t)=>{NA(n,e)})}),LA.apply(this,arguments)}function QP(n,e){return VA.apply(this,arguments)}function VA(){return VA=(0,ve.Z)(function*(n,e){Vx(n),FA(n)?(n.mu.au(e),kA(n)):n.mu.set("Unknown")}),VA.apply(this,arguments)}function XP(n,e,t){return UA.apply(this,arguments)}function UA(){return UA=(0,ve.Z)(function*(n,e,t){if(n.mu.set("Online"),e instanceof NM&&2===e.state&&e.cause)try{yield(r=(0,ve.Z)(function*(o,u){const d=u.cause;for(const m of u.targetIds)o.fu.has(m)&&(yield o.remoteSyncer.rejectListen(m,d),o.fu.delete(m),o.gu.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Hb(n,r)}else if(e instanceof Ab?n.gu.Kt(e):e instanceof RM?n.gu.Jt(e):n.gu.zt(e),!t.isEqual(wt.min()))try{const r=yield Ax(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const d=o.gu.Xt(u);return d.targetChanges.forEach((m,_)=>{if(m.resumeToken.approximateByteSize()>0){const C=o.fu.get(_);C&&o.fu.set(_,C.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach(m=>{const _=o.fu.get(m);if(!_)return;o.fu.set(m,_.withResumeToken(Cr.EMPTY_BYTE_STRING,_.snapshotVersion)),Lx(o,m);const C=new Sd(_.target,m,1,_.sequenceNumber);NA(o,C)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),yield Hb(n,r)}var r}),UA.apply(this,arguments)}function Hb(n,e,t){return BA.apply(this,arguments)}function BA(){return BA=(0,ve.Z)(function*(n,e,t){if(!ka(e))throw e;n.du.add(1),yield em(n),n.mu.set("Offline"),t||(t=()=>Ax(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield t(),n.du.delete(1),yield M_(n)}))}),BA.apply(this,arguments)}function Ux(n,e){return e().catch(t=>Hb(n,t,e))}function tm(n){return jA.apply(this,arguments)}function jA(){return jA=(0,ve.Z)(function*(n){const e=Ye(n),t=Pd(e);let r=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;JP(e);)try{const o=yield LP(e.localStore,r);if(null===o){0===e.lu.length&&t.$o();break}r=o.batchId,eR(e,o)}catch(o){yield Hb(e,o)}Bx(e)&&jx(e)}),jA.apply(this,arguments)}function JP(n){return uc(n)&&n.lu.length<10}function eR(n,e){n.lu.push(e);const t=Pd(n);t.No()&&t.Jo&&t.Yo(e.mutations)}function Bx(n){return uc(n)&&!Pd(n).xo()&&n.lu.length>0}function jx(n){Pd(n).start()}function tR(n){return $A.apply(this,arguments)}function $A(){return $A=(0,ve.Z)(function*(n){Pd(n).tu()}),$A.apply(this,arguments)}function nR(n){return HA.apply(this,arguments)}function HA(){return HA=(0,ve.Z)(function*(n){const e=Pd(n);for(const t of n.lu)e.Yo(t.mutations)}),HA.apply(this,arguments)}function rR(n,e,t){return zA.apply(this,arguments)}function zA(){return zA=(0,ve.Z)(function*(n,e,t){const r=n.lu.shift(),o=tA.from(r,e,t);yield Ux(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield tm(n)}),zA.apply(this,arguments)}function iR(n,e){return GA.apply(this,arguments)}function GA(){return GA=(0,ve.Z)(function*(n,e){var t;e&&Pd(n).Jo&&(yield(t=(0,ve.Z)(function*(r,o){if(OM(u=o.code)&&u!==ue.ABORTED){const d=r.lu.shift();Pd(r).Oo(),yield Ux(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield tm(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),Bx(n)&&jx(n)}),GA.apply(this,arguments)}function $x(n,e){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,ve.Z)(function*(n,e){const t=Ye(n);t.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const r=uc(t);t.du.add(3),yield em(t),r&&t.mu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.du.delete(3),yield M_(t)}),ZA.apply(this,arguments)}function qA(n,e){return WA.apply(this,arguments)}function WA(){return WA=(0,ve.Z)(function*(n,e){const t=Ye(n);e?(t.du.delete(2),yield M_(t)):e||(t.du.add(2),yield em(t),t.mu.set("Unknown"))}),WA.apply(this,arguments)}function nm(n){return n.yu||(n.yu=function(e,t,r){const o=Ye(e);return o.nu(),new zP(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Jr:YP.bind(null,n),Zr:QP.bind(null,n),zo:XP.bind(null,n)}),n.wu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.yu.Oo(),FA(n)?kA(n):n.mu.set("Unknown")):(yield n.yu.stop(),Vx(n))});return function(t){return e.apply(this,arguments)}}())),n.yu}function Pd(n){return n.pu||(n.pu=function(e,t,r){const o=Ye(e);return o.nu(),new GP(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Jr:tR.bind(null,n),Zr:iR.bind(null,n),Xo:nR.bind(null,n),Zo:rR.bind(null,n)}),n.wu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.pu.Oo(),yield tm(n)):(yield n.pu.stop(),n.lu.length>0&&(Ne("RemoteStore",`Stopping write stream with ${n.lu.length} pending writes`),n.lu=[]))});return function(t){return e.apply(this,arguments)}}())),n.pu}class KA{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,u){const d=Date.now()+r,m=new KA(e,t,d,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ee(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rm(n,e){if(rr("AsyncQueue",`${e}: ${n}`),ka(n))return new Ee(ue.UNAVAILABLE,`${e}: ${n}`);throw n}class im{constructor(e){this.comparator=e?(t,r)=>e(t,r)||qe.comparator(t.key,r.key):(t,r)=>qe.comparator(t.key,r.key),this.keyedMap=U(),this.sortedSet=new Yn(this.comparator)}static emptySet(e){return new im(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof im)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new im;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Hx{constructor(){this.Iu=new Yn(qe.comparator)}track(e){const t=e.doc.key,r=this.Iu.get(t);r?0!==e.type&&3===r.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==r.type?this.Iu=this.Iu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Iu=this.Iu.remove(t):1===e.type&&2===r.type?this.Iu=this.Iu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):ut():this.Iu=this.Iu.insert(t,e)}Tu(){const e=[];return this.Iu.inorderTraversal((t,r)=>{e.push(r)}),e}}class sm{constructor(e,t,r,o,u,d,m,_,C){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=_,this.hasCachedResults=C}static fromInitialDocuments(e,t,r,o,u){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new sm(e,t,im.emptySet(t),d,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&i(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class sR{constructor(){this.Eu=void 0,this.listeners=[]}}class oR{constructor(){this.queries=new w(e=>s(e),i),this.onlineState="Unknown",this.Au=new Set}}function YA(n,e){return QA.apply(this,arguments)}function QA(){return QA=(0,ve.Z)(function*(n,e){const t=Ye(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new sR),o)try{u.Eu=yield t.onListen(r)}catch(d){const m=rm(d,`Initialization of query '${a(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Ru(t.onlineState),u.Eu&&e.vu(u.Eu)&&eT(t)}),QA.apply(this,arguments)}function XA(n,e){return JA.apply(this,arguments)}function JA(){return JA=(0,ve.Z)(function*(n,e){const t=Ye(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),JA.apply(this,arguments)}function aR(n,e){const t=Ye(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const m of d.listeners)m.vu(o)&&(r=!0);d.Eu=o}}r&&eT(t)}function uR(n,e,t){const r=Ye(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function eT(n){n.Au.forEach(e=>{e.next()})}class tT{constructor(e,t,r){this.query=e,this.bu=t,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new sm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),t=!0):this.Du(e,this.onlineState)&&(this.Cu(e),t=!0),this.Vu=e,t}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}Du(e,t){return!e.fromCache||(!this.options.xu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Su(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(e){e=sm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}class lR{constructor(e,t){this.Nu=e,this.byteLength=t}ku(){return"metadata"in this.Nu}}class zx{constructor(e){this.serializer=e}Hi(e){return Lu(this.serializer,e)}Ji(e){return e.metadata.exists?HM(this.serializer,e.document,!1):Sn.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}Yi(e){return Lr(e)}}class cR{constructor(e,t,r){this.Ou=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Gx(e)}$u(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++t;const r=on.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,r=new zx(this.serializer);for(const o of e)if(o.metadata.queries){const u=r.Hi(o.metadata.name);for(const d of o.metadata.queries){const m=(t.get(d)||je()).add(u);t.set(d,m)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function VP(n,e,t,r){return EA.apply(this,arguments)}(e.localStore,new zx(e.serializer),e.documents,e.Ou.id),r=e.Mu(e.documents);for(const o of e.queries)yield UP(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Fu:e.collectionGroups,Bu:t}})()}}function Gx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Zx{constructor(e){this.key=e}}class qx{constructor(e){this.key=e}}class Wx{constructor(e,t){this.query=e,this.Lu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=je(),this.mutatedKeys=je(),this.Ku=f(e),this.Gu=new im(this.Ku)}get Qu(){return this.Lu}zu(e,t){const r=t?t.ju:new Hx,o=t?t.Gu:this.Gu;let u=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const _="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,C="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,N)=>{const G=o.get(T),J=l(this.query,N)?N:null,ge=!!G&&this.mutatedKeys.has(G.key),Le=!!J&&(J.hasLocalMutations||this.mutatedKeys.has(J.key)&&J.hasCommittedMutations);let ze=!1;G&&J?G.data.isEqual(J.data)?ge!==Le&&(r.track({type:3,doc:J}),ze=!0):this.Wu(G,J)||(r.track({type:2,doc:J}),ze=!0,(_&&this.Ku(J,_)>0||C&&this.Ku(J,C)<0)&&(m=!0)):!G&&J?(r.track({type:0,doc:J}),ze=!0):G&&!J&&(r.track({type:1,doc:G}),ze=!0,(_||C)&&(m=!0)),ze&&(J?(d=d.add(J),u=Le?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const T="F"===this.query.limitType?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{Gu:d,ju:r,Mi:m,mutatedKeys:u}}Wu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const u=e.ju.Tu();u.sort((C,T)=>function(N,G){const J=ge=>{switch(ge){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return J(N)-J(G)}(C.type,T.type)||this.Ku(C.doc,T.doc)),this.Hu(r);const d=t?this.Ju():[],m=0===this.Uu.size&&this.current?1:0,_=m!==this.qu;return this.qu=m,0!==u.length||_?{snapshot:new sm(this.query,e.Gu,o,u,e.mutatedKeys,0===m,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:d}:{Yu:d}}Ru(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new Hx,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=je(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const t=[];return e.forEach(r=>{this.Uu.has(r)||t.push(new qx(r))}),this.Uu.forEach(r=>{e.has(r)||t.push(new Zx(r))}),t}Xu(e){this.Lu=e.Wi,this.Uu=je();const t=this.zu(e.documents);return this.applyChanges(t,!0)}tc(){return sm.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class dR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class hR{constructor(e){this.key=e,this.ec=!1}}class fR{constructor(e,t,r,o,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.nc={},this.sc=new w(m=>s(m),i),this.ic=new Map,this.rc=new Set,this.oc=new Yn(qe.comparator),this.uc=new Map,this.cc=new mA,this.ac={},this.hc=new Map,this.lc=Nf.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function pR(n,e){return nT.apply(this,arguments)}function nT(){return nT=(0,ve.Z)(function*(n,e){const t=DT(n);let r,o;const u=t.sc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.tc();else{const d=yield Xg(t.localStore,Hi(e));t.isPrimaryClient&&$b(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield rT(t,e,r,"current"===m,d.resumeToken)}return o}),nT.apply(this,arguments)}function rT(n,e,t,r,o){return iT.apply(this,arguments)}function iT(){return iT=(0,ve.Z)(function*(n,e,t,r,o){n.dc=(N,G,J)=>{return(ge=(0,ve.Z)(function*(Le,ze,Vt,Qt){let Nt=ze.view.zu(Vt);Nt.Mi&&(Nt=yield Lb(Le.localStore,ze.query,!1).then(({documents:pn})=>ze.view.zu(pn,Nt)));const Jt=Qt&&Qt.targetChanges.get(ze.targetId),en=ze.view.applyChanges(Nt,Le.isPrimaryClient,Jt);return pT(Le,ze.targetId,en.Yu),en.snapshot}),function(Le,ze,Vt,Qt){return ge.apply(this,arguments)})(n,N,G,J);var ge};const u=yield Lb(n.localStore,e,!0),d=new Wx(e,u.Wi),m=d.zu(u.documents),_=m_.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),C=d.applyChanges(m,n.isPrimaryClient,_);pT(n,t,C.Yu);const T=new dR(e,t,d);return n.sc.set(e,T),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),C.snapshot}),iT.apply(this,arguments)}function gR(n,e){return sT.apply(this,arguments)}function sT(){return sT=(0,ve.Z)(function*(n,e){const t=Ye(n),r=t.sc.get(e),o=t.ic.get(r.targetId);if(o.length>1)return t.ic.set(r.targetId,o.filter(u=>!i(u,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Jg(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),x_(t.remoteStore,r.targetId),om(t,r.targetId)}).catch(tc))):(om(t,r.targetId),yield Jg(t.localStore,r.targetId,!0))}),sT.apply(this,arguments)}function oT(){return oT=(0,ve.Z)(function*(n,e,t){const r=AT(n);try{const o=yield function(u,d){const m=Ye(u),_=Gn.now(),C=d.reduce((G,J)=>G.add(J.key),je());let T,N;return m.persistence.runTransaction("Locally write mutations","readwrite",G=>{let J=A(),ge=je();return m.Ki.getEntries(G,C).next(Le=>{J=Le,J.forEach((ze,Vt)=>{Vt.isValidDocument()||(ge=ge.add(ze))})}).next(()=>m.localDocuments.getOverlayedDocuments(G,J)).next(Le=>{T=Le;const ze=[];for(const Vt of d){const Qt=zO(Vt,T.get(Vt.key).overlayedDocument);null!=Qt&&ze.push(new ac(Vt.key,Qt,Nu(Qt.value.mapValue),sr.exists(!0)))}return m.mutationQueue.addMutationBatch(G,_,ze,d)}).next(Le=>{N=Le;const ze=Le.applyToLocalDocumentSet(T,ge);return m.documentOverlayCache.saveOverlays(G,Le.batchId,ze)})}).then(()=>({batchId:N.batchId,changes:Z(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,m){let _=u.ac[u.currentUser.toKey()];_||(_=new Yn(Lt)),_=_.insert(d,m),u.ac[u.currentUser.toKey()]=_}(r,o.batchId,t),yield lc(r,o.changes),yield tm(r.remoteStore)}catch(o){const u=rm(o,"Failed to persist write");t.reject(u)}}),oT.apply(this,arguments)}function Kx(n,e){return aT.apply(this,arguments)}function aT(){return aT=(0,ve.Z)(function*(n,e){const t=Ye(n);try{const r=yield function FP(n,e){const t=Ye(n),r=e.snapshotVersion;let o=t.Li;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Ki.newChangeBuffer({trackRemovals:!0});o=t.Li;const m=[];e.targetChanges.forEach((T,N)=>{const G=o.get(N);if(!G)return;m.push(t.Ds.removeMatchingKeys(u,T.removedDocuments,N).next(()=>t.Ds.addMatchingKeys(u,T.addedDocuments,N)));let J=G.withSequenceNumber(u.currentSequenceNumber);var ge,Le,ze;e.targetMismatches.has(N)?J=J.withResumeToken(Cr.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):T.resumeToken.approximateByteSize()>0&&(J=J.withResumeToken(T.resumeToken,r)),o=o.insert(N,J),Le=J,ze=T,(0===(ge=G).resumeToken.approximateByteSize()||Le.snapshotVersion.toMicroseconds()-ge.snapshotVersion.toMicroseconds()>=3e8||ze.addedDocuments.size+ze.modifiedDocuments.size+ze.removedDocuments.size>0)&&m.push(t.Ds.updateTargetData(u,J))});let _=A(),C=je();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(Tx(u,d,e.documentUpdates).next(T=>{_=T.zi,C=T.ji})),!r.isEqual(wt.min())){const T=t.Ds.getLastRemoteSnapshotVersion(u).next(N=>t.Ds.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(T)}return ie.waitFor(m).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,_,C)).next(()=>_)}).then(u=>(t.Li=o,u))}(t.localStore,e);e.targetChanges.forEach((o,u)=>{const d=t.uc.get(u);d&&(_t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.ec=!0:o.modifiedDocuments.size>0?_t(d.ec):o.removedDocuments.size>0&&(_t(d.ec),d.ec=!1))}),yield lc(t,r,e)}catch(r){yield tc(r)}}),aT.apply(this,arguments)}function Yx(n,e,t){const r=Ye(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.sc.forEach((u,d)=>{const m=d.view.Ru(e);m.snapshot&&o.push(m.snapshot)}),function(u,d){const m=Ye(u);m.onlineState=d;let _=!1;m.queries.forEach((C,T)=>{for(const N of T.listeners)N.Ru(d)&&(_=!0)}),_&&eT(m)}(r.eventManager,e),o.length&&r.nc.zo(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function yR(n,e,t){return uT.apply(this,arguments)}function uT(){return uT=(0,ve.Z)(function*(n,e,t){const r=Ye(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.uc.get(e),u=o&&o.key;if(u){let d=new Yn(qe.comparator);d=d.insert(u,Sn.newNoDocument(u,wt.min()));const m=je().add(u),_=new g_(wt.min(),new Map,new En(Lt),d,m);yield Kx(r,_),r.oc=r.oc.remove(u),r.uc.delete(e),gT(r)}else yield Jg(r.localStore,e,!1).then(()=>om(r,e,t)).catch(tc)}),uT.apply(this,arguments)}function vR(n,e){return lT.apply(this,arguments)}function lT(){return lT=(0,ve.Z)(function*(n,e){const t=Ye(n),r=e.batch.batchId;try{const o=yield function kP(n,e){const t=Ye(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Ki.newChangeBuffer({trackRemovals:!0});return function(d,m,_,C){const T=_.batch,N=T.keys();let G=ie.resolve();return N.forEach(J=>{G=G.next(()=>C.getEntry(m,J)).next(ge=>{const Le=_.docVersions.get(J);_t(null!==Le),ge.version.compareTo(Le)<0&&(T.applyToRemoteDocument(ge,_),ge.isValidDocument()&&(ge.setReadTime(_.commitVersion),C.addEntry(ge)))})}),G.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=je();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(m=m.add(d.batch.mutations[_].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}(t.localStore,e);fT(t,r,null),hT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield lc(t,o)}catch(o){yield tc(o)}}),lT.apply(this,arguments)}function _R(n,e,t){return cT.apply(this,arguments)}function cT(){return cT=(0,ve.Z)(function*(n,e,t){const r=Ye(n);try{const o=yield function(u,d){const m=Ye(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let C;return m.mutationQueue.lookupMutationBatch(_,d).next(T=>(_t(null!==T),C=T.keys(),m.mutationQueue.removeMutationBatch(_,T))).next(()=>m.mutationQueue.performConsistencyCheck(_)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(_,C,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,C)).next(()=>m.localDocuments.getDocuments(_,C))})}(r.localStore,e);fT(r,e,t),hT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield lc(r,o)}catch(o){yield tc(o)}}),cT.apply(this,arguments)}function dT(){return dT=(0,ve.Z)(function*(n,e){const t=Ye(n);uc(t.remoteStore)||Ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=Ye(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.hc.get(r)||[];o.push(e),t.hc.set(r,o)}catch(r){const o=rm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),dT.apply(this,arguments)}function hT(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function fT(n,e,t){const r=Ye(n);let o=r.ac[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.ac[r.currentUser.toKey()]=o}}function om(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc.wc(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.hs(e).forEach(r=>{n.cc.containsKey(r)||Qx(n,r)})}function Qx(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(x_(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),gT(n))}function pT(n,e,t){for(const r of t)r instanceof Zx?(n.cc.addReference(r.key,e),IR(n,r)):r instanceof qx?(Ne("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||Qx(n,r.key)):ut()}function IR(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(Ne("SyncEngine","New document in limbo: "+t),n.rc.add(r),gT(n))}function gT(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new qe(on.fromString(e)),r=n.lc.next();n.uc.set(r,new hR(t)),n.oc=n.oc.insert(t,r),$b(n.remoteStore,new Sd(Hi(Af(t.path)),r,2,hs.ct))}}function lc(n,e,t){return mT.apply(this,arguments)}function mT(){return mT=(0,ve.Z)(function*(n,e,t){const r=Ye(n),o=[],u=[],d=[];var m;r.sc.isEmpty()||(r.sc.forEach((m,_)=>{d.push(r.dc(_,e,t).then(C=>{if((C||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,C?.fromCache?"not-current":"current"),C){o.push(C);const T=wA.Di(_.targetId,C);u.push(T)}}))}),yield Promise.all(d),r.nc.zo(o),yield(m=(0,ve.Z)(function*(_,C){const T=Ye(_);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>ie.forEach(C,G=>ie.forEach(G.Vi,J=>T.persistence.referenceDelegate.addReference(N,G.targetId,J)).next(()=>ie.forEach(G.Si,J=>T.persistence.referenceDelegate.removeReference(N,G.targetId,J)))))}catch(N){if(!ka(N))throw N;Ne("LocalStore","Failed to update sequence numbers: "+N)}for(const N of C){const G=N.targetId;if(!N.fromCache){const J=T.Li.get(G),Le=J.withLastLimboFreeSnapshotVersion(J.snapshotVersion);T.Li=T.Li.insert(G,Le)}}}),function(_,C){return m.apply(this,arguments)})(r.localStore,u))}),mT.apply(this,arguments)}function bR(n,e){return yT.apply(this,arguments)}function yT(){return yT=(0,ve.Z)(function*(n,e){const t=Ye(n);if(!t.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const r=yield Dx(t.localStore,e);t.currentUser=e,(o=t).hc.forEach(d=>{d.forEach(m=>{m.reject(new Ee(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield lc(t,r.Qi)}var o}),yT.apply(this,arguments)}function ER(n,e){const t=Ye(n),r=t.uc.get(e);if(r&&r.ec)return je().add(r.key);{let o=je();const u=t.ic.get(e);if(!u)return o;for(const d of u){const m=t.sc.get(d);o=o.unionWith(m.view.Qu)}return o}}function CR(n,e){return vT.apply(this,arguments)}function vT(){return vT=(0,ve.Z)(function*(n,e){const t=Ye(n),r=yield Lb(t.localStore,e.query,!0),o=e.view.Xu(r);return t.isPrimaryClient&&pT(t,e.targetId,o.Yu),o}),vT.apply(this,arguments)}function DR(n,e){return _T.apply(this,arguments)}function _T(){return _T=(0,ve.Z)(function*(n,e){const t=Ye(n);return Mx(t.localStore,e).then(r=>lc(t,r))}),_T.apply(this,arguments)}function AR(n,e,t,r){return wT.apply(this,arguments)}function wT(){return wT=(0,ve.Z)(function*(n,e,t,r){const o=Ye(n),u=yield function(d,m){const _=Ye(d),C=Ye(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",T=>C.In(T,m).next(N=>N?_.localDocuments.getDocuments(T,N):ie.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield tm(o.remoteStore):"acknowledged"===t||"rejected"===t?(fT(o,e,r||null),hT(o,e),m=e,Ye(Ye(o.localStore).mutationQueue).En(m)):ut(),yield lc(o,u)):Ne("SyncEngine","Cannot apply mutation batch with id: "+e)}),wT.apply(this,arguments)}function IT(){return IT=(0,ve.Z)(function*(n,e){const t=Ye(n);if(DT(t),AT(t),!0===e&&!0!==t.fc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield Xx(t,r.toArray());t.fc=!0,yield qA(t.remoteStore,!0);for(const u of o)$b(t.remoteStore,u)}else if(!1===e&&!1!==t.fc){const r=[];let o=Promise.resolve();t.ic.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(om(t,d),Jg(t.localStore,d,!0))),x_(t.remoteStore,d)}),yield o,yield Xx(t,r),function(u){const d=Ye(u);d.uc.forEach((m,_)=>{x_(d.remoteStore,_)}),d.cc.ls(),d.uc=new Map,d.oc=new Yn(qe.comparator)}(t),t.fc=!1,yield qA(t.remoteStore,!1)}}),IT.apply(this,arguments)}function Xx(n,e,t){return bT.apply(this,arguments)}function bT(){return bT=(0,ve.Z)(function*(n,e,t){const r=Ye(n),o=[],u=[];for(const d of e){let m;const _=r.ic.get(d);if(_&&0!==_.length){m=yield Xg(r.localStore,Hi(_[0]));for(const C of _){const T=r.sc.get(C),N=yield CR(r,T);N.snapshot&&u.push(N.snapshot)}}else{const C=yield Sx(r.localStore,d);m=yield Xg(r.localStore,C),yield rT(r,Jx(C),d,!1,m.resumeToken)}o.push(m)}return r.nc.zo(u),o}),bT.apply(this,arguments)}function Jx(n){return YD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function SR(n){const e=Ye(n);return Ye(Ye(e.localStore).persistence).bi()}function MR(n,e,t,r){return ET.apply(this,arguments)}function ET(){return ET=(0,ve.Z)(function*(n,e,t,r){const o=Ye(n);if(o.fc)return void Ne("SyncEngine","Ignoring unexpected query state notification.");const u=o.ic.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield Mx(o.localStore,h(u[0])),m=g_.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Cr.EMPTY_BYTE_STRING);yield lc(o,d,m);break}case"rejected":yield Jg(o.localStore,e,!0),om(o,e,r);break;default:ut()}}),ET.apply(this,arguments)}function xR(n,e,t){return CT.apply(this,arguments)}function CT(){return CT=(0,ve.Z)(function*(n,e,t){const r=DT(n);if(r.fc){for(const o of e){if(r.ic.has(o)){Ne("SyncEngine","Adding an already active target "+o);continue}const u=yield Sx(r.localStore,o),d=yield Xg(r.localStore,u);yield rT(r,Jx(u),d.targetId,!1,d.resumeToken),$b(r.remoteStore,d)}for(const o of t)r.ic.has(o)&&(yield Jg(r.localStore,o,!1).then(()=>{x_(r.remoteStore,o),om(r,o)}).catch(tc))}}),CT.apply(this,arguments)}function DT(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ER.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yR.bind(null,e),e.nc.zo=aR.bind(null,e.eventManager),e.nc.wc=uR.bind(null,e.eventManager),e}function AT(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_R.bind(null,e),e}class zb{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.serializer=S_(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Cx(this.persistence,new Ex,e.initialUser,this.serializer)}createPersistence(e){return new Ix(kb.Fs,this.serializer)}createSharedClientState(e){return new Rx}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class TT extends zb{constructor(e,t,r){super(),this.mc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e),yield r.mc.initialize(r,e),yield AT(r.mc.syncEngine),yield tm(r.mc.remoteStore),yield r.persistence.hi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Cx(this.persistence,new Ex,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new wP(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new xg(t,this.persistence);return new RD(e.asyncQueue,r)}createPersistence(e){const t=_A(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Vs.withCacheSize(this.cacheSizeBytes):Vs.DEFAULT;return new vA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,kx(),jb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Rx}}class e1 extends TT{constructor(e,t){super(e,t,!1),this.mc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e);const o=r.mc.syncEngine;r.sharedClientState instanceof SA&&(r.sharedClientState.syncEngine={$r:AR.bind(null,o),Mr:MR.bind(null,o),Fr:xR.bind(null,o),bi:SR.bind(null,o),Or:DR.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.hi(function(){var u=(0,ve.Z)(function*(d){yield function TR(n,e){return IT.apply(this,arguments)}(r.mc.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=kx();if(!SA.D(t))throw new Ee(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=_A(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new SA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class am{initialize(e,t){var r=this;return(0,ve.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>Yx(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=bR.bind(null,r.syncEngine),yield qA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new oR}createDatastore(e){const t=S_(e.databaseInfo.databaseId),r=new HP(e.databaseInfo);return new ZP(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>Yx(this.syncEngine,m,0),d=Nx.D()?new Nx:new BP,new KP(t,r,o,u,d);var t,r,o,u,d}createSyncEngine(e,t){return function(r,o,u,d,m,_,C){const T=new fR(r,o,u,d,m,_);return C&&(T.fc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const r=Ye(t);Ne("RemoteStore","RemoteStore shutting down."),r.du.add(5),yield em(r),r._u.shutdown(),r.mu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function t1(n,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Gb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class PR{constructor(e,t){this.Ic=e,this.serializer=t,this.metadata=new kr,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(r=>{r&&r.ku()?this.metadata.resolve(r.Nu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Nu)}`))},r=>this.metadata.reject(r))}close(){return this.Ic.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}_c(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.Ec()})()}Ec(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Ac();if(null===t)return null;const r=e.Tc.decode(t),o=Number(r);isNaN(o)&&e.Rc(`length string (${r}) is not valid number`);const u=yield e.vc(o);return new lR(JSON.parse(u),t.length+o)})()}bc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ac(){var e=this;return(0,ve.Z)(function*(){for(;e.bc()<0&&!(yield e.Pc()););if(0===e.buffer.length)return null;const t=e.bc();t<0&&e.Rc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}vc(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.Pc())&&t.Rc("Reached the end of bundle when more is expected.");const r=t.Tc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Rc(e){throw this.Ic.cancel(),new Error(`Invalid bundle format: ${e}`)}Pc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Ic.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class RR{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ee(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,ve.Z)(function*(u,d){const m=Ye(u),_=v_(m.serializer)+"/documents",C={documents:d.map(J=>y_(m.serializer,J))},T=yield m.fo("BatchGetDocuments",_,C,d.length),N=new Map;T.forEach(J=>{const ge=function eP(n,e){return"found"in e?function(t,r){_t(!!r.found);const o=Lu(t,r.found.name),u=Lr(r.found.updateTime),d=r.found.createTime?Lr(r.found.createTime):wt.min(),m=new Fr({mapValue:{fields:r.found.fields}});return Sn.newFoundDocument(o,u,d,m)}(n,e):"missing"in e?function(t,r){_t(!!r.missing),_t(!!r.readTime);const o=Lu(t,r.missing),u=Lr(r.readTime);return Sn.newNoDocument(o,u)}(n,e):ut()}(m.serializer,J);N.set(ge.key.toString(),ge)});const G=[];return d.forEach(J=>{const ge=N.get(J.toString());_t(!!ge),G.push(ge)}),G}),function(u,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new qg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=qe.fromPath(o);e.mutations.push(new JD(u,e.precondition(u)))}),yield(r=(0,ve.Z)(function*(o,u){const d=Ye(o),m=v_(d.serializer)+"/documents",_={writes:u.map(C=>__(d.serializer,C))};yield d.co("Commit",m,_)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ut();t=wt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ee(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(wt.min())?sr.exists(!1):sr.updateTime(t):sr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(wt.min()))throw new Ee(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sr.updateTime(t)}return sr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class NR{constructor(e,t,r,o,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=u,this.Vc=r.maxAttempts,this.Co=new xA(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){var e=this;this.Co.Ao((0,ve.Z)(function*(){const t=new RR(e.datastore),r=e.Dc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Cc(u)}))}).catch(o=>{e.Cc(o)})}))}Dc(e){try{const t=this.updateFunction(e);return!Og(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Cc(e){this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(e)}xc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!OM(t)}return!1}}class kR{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Kr.UNAUTHENTICATED,this.clientId=ZI.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,ve.Z)(function*(m){Ne("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Ne("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ee(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=rm(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function Zb(n,e){return ST.apply(this,arguments)}function ST(){return ST=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,ve.Z)(function*(u){r.isEqual(u)||(yield Dx(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),ST.apply(this,arguments)}function MT(n,e){return xT.apply(this,arguments)}function xT(){return xT=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield OT(n);Ne("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>$x(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>$x(e.remoteStore,u)),n._onlineComponents=e}),xT.apply(this,arguments)}function n1(n){return"FirebaseError"===n.name?n.code===ue.FAILED_PRECONDITION||n.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function OT(n){return PT.apply(this,arguments)}function PT(){return PT=(0,ve.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ne("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Zb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!n1(t))throw t;so("Error using user provided cache. Falling back to memory cache: "+t),yield Zb(n,new zb)}}else Ne("FirestoreClient","Using default OfflineComponentProvider"),yield Zb(n,new zb);return n._offlineComponents}),PT.apply(this,arguments)}function qb(n){return RT.apply(this,arguments)}function RT(){return RT=(0,ve.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ne("FirestoreClient","Using user provided OnlineComponentProvider"),yield MT(n,n._uninitializedComponentsProvider._online)):(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield MT(n,new am))),n._onlineComponents}),RT.apply(this,arguments)}function r1(n){return OT(n).then(e=>e.persistence)}function Wb(n){return OT(n).then(e=>e.localStore)}function NT(n){return qb(n).then(e=>e.remoteStore)}function kT(n){return qb(n).then(e=>e.syncEngine)}function um(n){return FT.apply(this,arguments)}function FT(){return FT=(0,ve.Z)(function*(n){const e=yield qb(n),t=e.eventManager;return t.onListen=pR.bind(null,e.syncEngine),t.onUnlisten=gR.bind(null,e.syncEngine),t}),FT.apply(this,arguments)}function s1(n,e,t={}){const r=new kr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(o,u,d,m,_){const C=new Gb({next:N=>{u.enqueueAndForget(()=>XA(o,T));const G=N.docs.has(d);!G&&N.fromCache?_.reject(new Ee(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&N.fromCache&&m&&"server"===m.source?_.reject(new Ee(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(N)},error:N=>_.reject(N)}),T=new tT(Af(d.path),C,{includeMetadataChanges:!0,xu:!0});return YA(o,T)}(yield um(n),n.asyncQueue,e,t,r)})),r.promise}function o1(n,e,t={}){const r=new kr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(o,u,d,m,_){const C=new Gb({next:N=>{u.enqueueAndForget(()=>XA(o,T)),N.fromCache&&"server"===m.source?_.reject(new Ee(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(N)},error:N=>_.reject(N)}),T=new tT(d,C,{includeMetadataChanges:!0,xu:!0});return YA(o,T)}(yield um(n),n.asyncQueue,e,t,r)})),r.promise}const a1=new Map;function LT(n,e,t){if(!t)throw new Ee(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function u1(n,e,t,r){if(!0===e&&!0===r)throw new Ee(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function l1(n){if(!qe.isDocumentKey(n))throw new Ee(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function c1(n){if(qe.isDocumentKey(n))throw new Ee(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Kb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ut()}function ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ee(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Kb(n);throw new Ee(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function d1(n,e){if(e<=0)throw new Ee(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class h1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ee(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ee(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,u1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class O_{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ee(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ee(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Gv;switch(t.type){case"firstParty":return new DD(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ee(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=a1.get(e);t&&(Ne("ComponentProvider","Removing Datastore"),a1.delete(e),t.terminate())}(this),Promise.resolve()}}function f1(n,e,t,r={}){var o;const u=(n=ln(n,O_))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&so("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=Kr.MOCK_USER;else{d=(0,dn.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ee(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Kr(_)}n._authCredentials=new fM(new zv(d,m))}}class Qn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qn(this.firestore,e,this._key)}}class Si{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Si(this.firestore,e,this._query)}}class Vu extends Si{constructor(e,t,r){super(e,t,Af(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new qe(e))}withConverter(e){return new Vu(this.firestore,e,this._path)}}function p1(n,e,...t){if(n=(0,dn.m9)(n),LT("collection","path",e),n instanceof O_){const r=on.fromString(e,...t);return c1(r),new Vu(n,null,r)}{if(!(n instanceof Qn||n instanceof Vu))throw new Ee(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return c1(r),new Vu(n.firestore,null,r)}}function Yb(n,e,...t){if(n=(0,dn.m9)(n),1===arguments.length&&(e=ZI.A()),LT("doc","path",e),n instanceof O_){const r=on.fromString(e,...t);return l1(r),new Qn(n,null,new qe(r))}{if(!(n instanceof Qn||n instanceof Vu))throw new Ee(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return l1(r),new Qn(n.firestore,n instanceof Vu?n.converter:null,new qe(r))}}function g1(n,e){return n=(0,dn.m9)(n),e=(0,dn.m9)(e),(n instanceof Qn||n instanceof Vu)&&(e instanceof Qn||e instanceof Vu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function VT(n,e){return n=(0,dn.m9)(n),e=(0,dn.m9)(e),n instanceof Si&&e instanceof Si&&n.firestore===e.firestore&&i(n._query,e._query)&&n.converter===e.converter}class GR{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new xA(this,"async_queue_retry"),this.qc=()=>{const t=jb();t&&Ne("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const e=jb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const t=jb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const t=new kr;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return(0,ve.Z)(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(t){if(!ka(t))throw t;Ne("AsyncQueue","Operation failed with retryable error: "+t)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const t=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{throw this.Mc=r,this.Fc=!1,rr("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.Fc=!1,r))));return this.Nc=t,t}enqueueAfterDelay(e,t,r){this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);const o=KA.createAndSchedule(this,e,t,r,u=>this.Qc(u));return this.$c.push(o),o}Uc(){this.Mc&&ut()}verifyOperationInProgress(){}zc(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.Nc,yield t}while(t!==e.Nc)})()}jc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function UT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class ZR{constructor(){this._progressObserver={},this._taskCompletionResolver=new kr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Xn extends O_{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new GR,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||m1(this),this._firestoreClient.terminate()}}function WR(n,e){const t="object"==typeof n?n:(0,Sa.getApp)(),r="string"==typeof n?n:e||"(default)",o=(0,Sa._getProvider)(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=(0,dn.P0)("firestore");u&&f1(o,...u)}return o}function Vr(n){return n._firestoreClient||m1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function m1(n){var e,t,r;const o=n._freezeSettings(),u=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new sb(n._databaseId,m,n._persistenceKey,(C=o).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,C.useFetchStreams));var m,C;n._firestoreClient=new kR(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=o.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=o.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}function y1(n,e,t){const r=new kr;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield Zb(n,t),yield MT(n,e),r.resolve()}catch(o){const u=o;if(!n1(u))throw u;so("Error enabling indexeddb cache. Falling back to memory cache: "+u),r.reject(u)}})).then(()=>r.promise)}function v1(n){if(n._initialized||n._terminated)throw new Ee(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Uu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uu(Cr.fromBase64String(e))}catch(t){throw new Ee(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Uu(Cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class cc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ee(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ff{constructor(e){this._methodName=e}}class Qb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Lt(this._lat,e._lat)||Lt(this._long,e._long)}}const iN=/^__.*__$/;class sN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ac(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zg(e,this.data,t,this.fieldTransforms)}}class _1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ac(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function w1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class Xb{constructor(e,t,r,o,u,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===u&&this.Jc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new Xb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Zc({path:r,ta:!1});return o.ea(e),o}na(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Zc({path:r,ta:!1});return o.Jc(),o}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return tE(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(w1(this.Yc)&&iN.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class oN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||S_(e)}ua(e,t,r,o=!1){return new Xb({Yc:e,methodName:t,oa:r,path:Kn.emptyPath(),ta:!1,ra:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lf(n){const e=n._freezeSettings(),t=S_(n._databaseId);return new oN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Jb(n,e,t,r,o,u={}){const d=n.ua(u.merge||u.mergeFields?2:0,e,t,o);HT("Data must be an object, but it was:",d,r);const m=E1(r,d);let _,C;if(u.merge)_=new $i(d.fieldMask),C=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const N of u.mergeFields){const G=N_(e,N,t);if(!d.contains(G))throw new Ee(ue.INVALID_ARGUMENT,`Field '${G}' is specified in your field mask but missing from your input data.`);D1(T,G)||T.push(G)}_=new $i(T),C=d.fieldTransforms.filter(N=>_.covers(N.field))}else _=null,C=d.fieldTransforms;return new sN(new Fr(m),_,C)}class R_ extends Ff{_toFieldTransform(e){if(2!==e.Yc)throw e.ia(1===e.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof R_}}function I1(n,e,t){return new Xb({Yc:3,oa:e.settings.oa,methodName:n._methodName,ta:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class BT extends Ff{_toFieldTransform(e){return new f_(e.path,new zg)}isEqual(e){return e instanceof BT}}class aN extends Ff{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=I1(this,e,!0),r=this.ca.map(u=>Vf(u,t)),o=new Tf(r);return new f_(e.path,o)}isEqual(e){return this===e}}class uN extends Ff{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=I1(this,e,!0),r=this.ca.map(u=>Vf(u,t)),o=new Sf(r);return new f_(e.path,o)}isEqual(e){return this===e}}class lN extends Ff{constructor(e,t){super(e),this.aa=t}_toFieldTransform(e){const t=new Gg(e.serializer,XD(e.serializer,this.aa));return new f_(e.path,t)}isEqual(e){return this===e}}function jT(n,e,t,r){const o=n.ua(1,e,t);HT("Data must be an object, but it was:",o,r);const u=[],d=Fr.empty();Pu(r,(_,C)=>{const T=eE(e,_,t);C=(0,dn.m9)(C);const N=o.na(T);if(C instanceof R_)u.push(T);else{const G=Vf(C,N);null!=G&&(u.push(T),d.set(T,G))}});const m=new $i(u);return new _1(d,m,o.fieldTransforms)}function $T(n,e,t,r,o,u){const d=n.ua(1,e,t),m=[N_(e,r,t)],_=[o];if(u.length%2!=0)throw new Ee(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let G=0;G<u.length;G+=2)m.push(N_(e,u[G])),_.push(u[G+1]);const C=[],T=Fr.empty();for(let G=m.length-1;G>=0;--G)if(!D1(C,m[G])){const J=m[G];let ge=_[G];ge=(0,dn.m9)(ge);const Le=d.na(J);if(ge instanceof R_)C.push(J);else{const ze=Vf(ge,Le);null!=ze&&(C.push(J),T.set(J,ze))}}const N=new $i(C);return new _1(T,N,d.fieldTransforms)}function b1(n,e,t,r=!1){return Vf(t,n.ua(r?4:3,e))}function Vf(n,e){if(C1(n=(0,dn.m9)(n)))return HT("Unsupported field value:",e,n),E1(n,e);if(n instanceof Ff)return function(t,r){if(!w1(r.Yc))throw r.ia(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const d of t){let m=Vf(d,r.sa(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,dn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return XD(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Gn.fromDate(t);return{timestampValue:Wg(r.serializer,o)}}if(t instanceof Gn){const o=new Gn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Wg(r.serializer,o)}}if(t instanceof Qb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Uu)return{bytesValue:VM(r.serializer,t._byteString)};if(t instanceof Qn){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.ia(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:sA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ia(`Unsupported field value: ${Kb(t)}`)}(n,e)}function E1(n,e){const t={};return Rg(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pu(n,(r,o)=>{const u=Vf(o,e.Xc(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function C1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Gn||n instanceof Qb||n instanceof Uu||n instanceof Qn||n instanceof Ff)}function HT(n,e,t){if(!C1(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Kb(t);throw e.ia("an object"===r?n+" a custom object":n+" "+r)}var r}function N_(n,e,t){if((e=(0,dn.m9)(e))instanceof cc)return e._internalPath;if("string"==typeof e)return eE(n,e);throw tE("Field path arguments must be of type string or ",n,!1,void 0,t)}const cN=new RegExp("[~\\*/\\[\\]]");function eE(n,e,t){if(e.search(cN)>=0)throw tE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new cc(...e.split("."))._internalPath}catch{throw tE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tE(n,e,t,r,o){const u=r&&!r.isEmpty(),d=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let _="";return(u||d)&&(_+=" (found",u&&(_+=` in field ${r}`),d&&(_+=` in document ${o}`),_+=")"),new Ee(ue.INVALID_ARGUMENT,m+n+_)}function D1(n,e){return n.some(t=>t.isEqual(e))}class k_{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new dN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class dN extends k_{data(){return super.data()}}function nE(n,e){return"string"==typeof e?eE(n,e):e instanceof cc?e._internalPath:e._delegate._internalPath}function A1(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ee(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zT{}class F_ extends zT{}function Rd(n,e,...t){let r=[];e instanceof zT&&r.push(e),r=r.concat(t),function(o){const u=o.filter(m=>m instanceof lm).length,d=o.filter(m=>m instanceof L_).length;if(u>1||u>0&&d>0)throw new Ee(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class L_ extends F_{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new L_(e,t,r)}_apply(e){const t=this._parse(e);return x1(e._query,t),new Si(e.firestore,e.converter,Ib(e._query,t))}_parse(e){const t=Lf(e.firestore);return function(o,u,d,m,_,C,T){let N;if(_.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Ee(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){M1(T,C);const G=[];for(const J of T)G.push(S1(m,o,J));N={arrayValue:{values:G}}}else N=S1(m,o,T)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||M1(T,C),N=b1(d,"where",T,"in"===C||"not-in"===C);return an.create(_,C,N)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class lm extends zT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new lm(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Cn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let u=r;const d=o.getFlattenedFilters();for(const m of d)x1(u,m),u=Ib(u,m)}(e._query,t),new Si(e.firestore,e.converter,Ib(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class GT extends F_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new GT(e,t)}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Ee(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ee(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new ku(o,u);return function(m,_){if(null===c_(m)){const C=d_(m);null!==C&&O1(0,C,_.field)}}(r,d),d}(e._query,this._field,this._direction);return new Si(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new Fu(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class rE extends F_{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new rE(e,t,r)}_apply(e){return new Si(e.firestore,e.converter,h_(e._query,this._limit,this._limitType))}}class iE extends F_{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new iE(e,t,r)}_apply(e){const t=T1(e,this.type,this._docOrFields,this._inclusive);return new Si(e.firestore,e.converter,(o=t,new Fu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class sE extends F_{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new sE(e,t,r)}_apply(e){const t=T1(e,this.type,this._docOrFields,this._inclusive);return new Si(e.firestore,e.converter,(o=t,new Fu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function T1(n,e,t,r){if(t[0]=(0,dn.m9)(t[0]),t[0]instanceof k_)return function(o,u,d,m,_){if(!m)throw new Ee(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const C=[];for(const T of Ad(o))if(T.field.isKeyField())C.push(sc(u,m.key));else{const N=m.data.field(T.field);if(kg(N))throw new Ee(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===N){const G=T.field.canonicalString();throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${G}' (used as the orderBy) does not exist.`)}C.push(N)}return new Uo(C,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Lf(n.firestore);return function(u,d,m,_,C,T){const N=u.explicitOrderBy;if(C.length>N.length)throw new Ee(ue.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const G=[];for(let J=0;J<C.length;J++){const ge=C[J];if(N[J].field.isKeyField()){if("string"!=typeof ge)throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof ge}`);if(!wb(u)&&-1!==ge.indexOf("/"))throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${ge}' contains a slash.`);const Le=u.path.child(on.fromString(ge));if(!qe.isDocumentKey(Le))throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${Le}' is not because it contains an odd number of segments.`);const ze=new qe(Le);G.push(sc(d,ze))}else{const Le=b1(m,_,ge);G.push(Le)}}return new Uo(G,T)}(n._query,n.firestore._databaseId,o,e,t,r)}}function S1(n,e,t){if("string"==typeof(t=(0,dn.m9)(t))){if(""===t)throw new Ee(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wb(e)&&-1!==t.indexOf("/"))throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(on.fromString(t));if(!qe.isDocumentKey(r))throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sc(n,new qe(r))}if(t instanceof Qn)return sc(n,t._key);throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kb(t)}.`)}function M1(n,e){if(!Array.isArray(n)||0===n.length)throw new Ee(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function x1(n,e){if(e.isInequality()){const r=d_(n),o=e.field;if(null!==r&&!r.isEqual(o))throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const u=c_(n);null!==u&&O1(0,o,u)}const t=function(r,o){for(const u of r)for(const d of u.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ee(ue.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function O1(n,e,t){if(!t.isEqual(e))throw new Ee(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class ZT{convertValue(e,t="none"){switch(Ru(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ut()}}convertObject(e,t){const r={};return Pu(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new Qb(fr(e.latitude),fr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=t_(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Dd(e));default:return null}}convertTimestamp(e){const t=Va(e);return new Gn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=on.fromString(e);_t(WM(r));const o=new Ba(r.get(1),r.get(3)),u=new qe(r.popFirst(5));return o.isEqual(t)||rr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function oE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class wN extends ZT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,t)}}class Uf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dc extends k_{constructor(e,t,r,o,u,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new V_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(nE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class V_ extends dc{data(e={}){return super.data(e)}}class Nd{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Uf(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new V_(this._firestore,this._userDataWriter,r.key,r,new Uf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ee(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new V_(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Uf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const m=new V_(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Uf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,C=-1;return 0!==d.type&&(_=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),C=u.indexOf(d.doc.key)),{type:bN(d.type),doc:m,oldIndex:_,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function bN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function R1(n,e){return n instanceof dc&&e instanceof dc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Nd&&e instanceof Nd&&n._firestore===e._firestore&&VT(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class kd extends ZT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,t)}}function N1(n,e,t){n=ln(n,Qn);const r=ln(n.firestore,Xn),o=oE(n.converter,e,t);return cm(r,[Jb(Lf(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,sr.none())])}function k1(n,e,t,...r){n=ln(n,Qn);const o=ln(n.firestore,Xn),u=Lf(o);let d;return d="string"==typeof(e=(0,dn.m9)(e))||e instanceof cc?$T(u,"updateDoc",n._key,e,t,r):jT(u,"updateDoc",n._key,e),cm(o,[d.toMutation(n._key,sr.exists(!0))])}function F1(n,...e){var t,r,o;n=(0,dn.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||UT(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges};if(UT(e[d])){const N=e[d];e[d]=null===(t=N.next)||void 0===t?void 0:t.bind(N),e[d+1]=null===(r=N.error)||void 0===r?void 0:r.bind(N),e[d+2]=null===(o=N.complete)||void 0===o?void 0:o.bind(N)}let _,C,T;if(n instanceof Qn)C=ln(n.firestore,Xn),T=Af(n._key.path),_={next:N=>{e[d]&&e[d](qT(C,n,N))},error:e[d+1],complete:e[d+2]};else{const N=ln(n,Si);C=ln(N.firestore,Xn),T=N._query;const G=new kd(C);_={next:J=>{e[d]&&e[d](new Nd(C,G,N,J))},error:e[d+1],complete:e[d+2]},A1(n._query)}return function(N,G,J,ge){const Le=new Gb(ge),ze=new tT(G,Le,J);return N.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return YA(yield um(N),ze)})),()=>{Le.yc(),N.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return XA(yield um(N),ze)}))}}(Vr(C),T,m,_)}function cm(n,e){return function(t,r){const o=new kr;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function mR(n,e,t){return oT.apply(this,arguments)}(yield kT(t),r,o)})),o.promise}(Vr(n),e)}function qT(n,e,t){const r=t.docs.get(e._key),o=new kd(n);return new dc(n,o,e._key,r,new Uf(t.hasPendingWrites,t.fromCache),e.converter)}const VN={maxAttempts:5};class L1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Lf(e)}set(e,t,r){this._verifyNotCommitted();const o=Fd(e,this._firestore),u=oE(o.converter,t,r),d=Jb(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,sr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Fd(e,this._firestore);let d;return d="string"==typeof(t=(0,dn.m9)(t))||t instanceof cc?$T(this._dataReader,"WriteBatch.update",u._key,t,r,o):jT(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,sr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Fd(e,this._firestore);return this._mutations=this._mutations.concat(new qg(t._key,sr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ee(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Fd(n,e){if((n=(0,dn.m9)(n)).firestore!==e)throw new Ee(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class UN extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Lf(e)}get(e){const t=Fd(e,this._firestore),r=new wN(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return ut();const u=o[0];if(u.isFoundDocument())return new k_(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new k_(this._firestore,r,t._key,null,t.converter);throw ut()})}set(e,t,r){const o=Fd(e,this._firestore),u=oE(o.converter,t,r),d=Jb(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const u=Fd(e,this._firestore);let d;return d="string"==typeof(t=(0,dn.m9)(t))||t instanceof cc?$T(this._dataReader,"Transaction.update",u._key,t,r,o):jT(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=Fd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Fd(e,this._firestore),r=new kd(this._firestore);return super.get(e).then(o=>new dc(this._firestore,r,t._key,o._document,new Uf(!1,!1),t.converter))}}!function(n,e=!0){Jl=Sa.SDK_VERSION,(0,Sa._registerComponent)(new Zp.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const u=t.getProvider("app").getImmediate(),d=new Xn(new CD(t.getProvider("auth-internal")),new AD(t.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ee(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ba(m.options.projectId,_)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),(0,Sa.registerVersion)(Ag,"3.10.0",n),(0,Sa.registerVersion)(Ag,"3.10.0","esm2017")}();function WT(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ee("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function U1(){if(typeof Uint8Array>"u")throw new Ee("unimplemented","Uint8Arrays are not available in this environment.")}function B1(){if(!function _M(){return typeof atob<"u"}())throw new Ee("unimplemented","Blobs are unavailable in Firestore in this environment.")}class U_{constructor(e){this._delegate=e}static fromBase64String(e){return B1(),new U_(Uu.fromBase64String(e))}static fromUint8Array(e){return U1(),new U_(Uu.fromUint8Array(e))}toBase64(){return B1(),this._delegate.toBase64()}toUint8Array(){return U1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function KT(n){return function WN(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class KN{enableIndexedDbPersistence(e,t){return function KR(n,e){v1(n=ln(n,Xn));const t=Vr(n);if(t._uninitializedComponentsProvider)throw new Ee(ue.FAILED_PRECONDITION,"SDK cache is already specified.");so("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),o=new am;return y1(t,o,new TT(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function YR(n){v1(n=ln(n,Xn));const e=Vr(n);if(e._uninitializedComponentsProvider)throw new Ee(ue.FAILED_PRECONDITION,"SDK cache is already specified.");so("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new am;return y1(e,r,new e1(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function QR(n){if(n._initialized&&!n._terminated)throw new Ee(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new kr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(r){if(!Fs.D())return Promise.resolve();const o=r+"main";yield Fs.delete(o)}),function(r){return t.apply(this,arguments)})(_A(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class j1{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ba||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&so("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){f1(this._delegate,e,t,r)}enableNetwork(){return function JR(n){return function FR(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield r1(n),t=yield NT(n);return e.setNetworkEnabled(!0),function(r){const o=Ye(r);return o.du.delete(0),M_(o)}(t)}))}(Vr(n=ln(n,Xn)))}(this._delegate)}disableNetwork(){return function eN(n){return function LR(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield r1(n),t=yield NT(n);return e.setNetworkEnabled(!1),(r=(0,ve.Z)(function*(o){const u=Ye(o);u.du.add(0),yield em(u),u.mu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Vr(n=ln(n,Xn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,u1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function XR(n){return function(e){const t=new kr;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function wR(n,e){return dT.apply(this,arguments)}(yield kT(e),t)})),t.promise}(Vr(n=ln(n,Xn)))}(this._delegate)}onSnapshotsInSync(e){return function ON(n,e){return function BR(n,e){const t=new Gb(e);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield um(n),o=t,Ye(r).Au.add(o),void o.next();var r,o})),()=>{t.yc(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield um(n),o=t,void Ye(r).Au.delete(o);var r,o}))}}(Vr(n=ln(n,Xn)),UT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ee("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new dm(this,p1(this._delegate,e))}catch(t){throw fs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Bo(this,Yb(this._delegate,e))}catch(t){throw fs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ps(this,function zR(n,e){if(n=ln(n,O_),LT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ee(ue.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Si(n,null,(t=e,new Fu(on.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw fs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function BN(n,e,t){n=ln(n,Xn);const r=Object.assign(Object.assign({},VN),t);return function(o){if(o.maxAttempts<1)throw new Ee(ue.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,d){const m=new kr;return o.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const _=yield function i1(n){return qb(n).then(e=>e.datastore)}(o);new NR(o.asyncQueue,_,d,u,m).run()})),m.promise}(Vr(n),o=>e(new UN(n,o)),r)}(this._delegate,t=>e(new $1(this,t)))}batch(){return Vr(this._delegate),new H1(new L1(this._delegate,e=>cm(this._delegate,e)))}loadBundle(e){return function tN(n,e){const t=Vr(n=ln(n,Xn)),r=new ZR;return function jR(n,e,t,r){const o=function(u,d){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,_=function(_,C){if(_ instanceof Uint8Array)return t1(_,C);if(_ instanceof ArrayBuffer)return t1(new Uint8Array(_),C);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new PR(_,d);var _}(t,S_(e));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function OR(n,e,t){const r=Ye(n);var o;(o=(0,ve.Z)(function*(u,d,m){try{const _=yield d.getMetadata();if(yield function(G,J){const ge=Ye(G),Le=Lr(J.createTime);return ge.persistence.runTransaction("hasNewerBundle","readonly",ze=>ge.xs.getBundleMetadata(ze,J.id)).then(ze=>!!ze&&ze.createTime.compareTo(Le)>=0)}(u.localStore,_))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(G=_).totalDocuments,bytesLoaded:G.totalBytes,totalDocuments:G.totalDocuments,totalBytes:G.totalBytes}),Promise.resolve(new Set);m._updateProgress(Gx(_));const C=new cR(_,u.localStore,d.serializer);let T=yield d._c();for(;T;){const G=yield C.$u(T);G&&m._updateProgress(G),T=yield d._c()}const N=yield C.complete();return yield lc(u,N.Bu,void 0),yield function(G,J){const ge=Ye(G);return ge.persistence.runTransaction("Save bundle","readwrite",Le=>ge.xs.saveBundleMetadata(Le,J))}(u.localStore,_),m._completeWith(N.progress),Promise.resolve(N.Fu)}catch(_){return so("SyncEngine",`Loading bundle failed with ${_}`),m._failWith(_),Promise.resolve(new Set)}var G}),function(u,d,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield kT(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function nN(n,e){return function $R(n,e){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,r){const o=Ye(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.xs.getNamedQuery(u,r))}(yield Wb(n),e)}))}(Vr(n=ln(n,Xn)),e).then(t=>t?new Si(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ps(this,t):null)}}class aE extends ZT{constructor(e){super(),this.firestore=e}convertBytes(e){return new U_(new Uu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Bo.forKey(t,this.firestore,null)}}class $1{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new aE(e)}get(e){const t=jf(e);return this._delegate.get(t).then(r=>new B_(this._firestore,new dc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=jf(e);return r?(WT("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=jf(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=jf(e);return this._delegate.delete(t),this}}class H1{constructor(e){this._delegate=e}set(e,t,r){const o=jf(e);return r?(WT("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=jf(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=jf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Bf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new V_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new j_(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Bf.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new Bf(e,new aE(e),t),o.set(t,u)),u}}Bf.INSTANCES=new WeakMap;class Bo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new aE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ee("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Bo(t,new Qn(t._delegate,r,new qe(e)))}static forKey(e,t,r){return new Bo(t,new Qn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new dm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new dm(this.firestore,p1(this._delegate,e))}catch(t){throw fs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,dn.m9)(e))instanceof Qn&&g1(this._delegate,e)}set(e,t){t=WT("DocumentReference.set",t);try{return t?N1(this._delegate,e,t):N1(this._delegate,e)}catch(r){throw fs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?k1(this._delegate,e):k1(this._delegate,e,t,...r)}catch(o){throw fs(o,"updateDoc()","DocumentReference.update()")}}delete(){return function MN(n){return cm(ln(n.firestore,Xn),[new qg(n._key,sr.none())])}(this._delegate)}onSnapshot(...e){const t=z1(e),r=G1(e,o=>new B_(this.firestore,new dc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return F1(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function CN(n){n=ln(n,Qn);const e=ln(n.firestore,Xn),t=Vr(e),r=new kd(e);return function VR(n,e){const t=new kr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(o,u,d){try{const m=yield function(_,C){const T=Ye(_);return T.persistence.runTransaction("read document","readonly",N=>T.localDocuments.getDocument(N,C))}(o,u);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Ee(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const _=rm(m,`Failed to get document '${u} from cache`);d.reject(_)}}),function(o,u,d){return r.apply(this,arguments)})(yield Wb(n),e,t);var r})),t.promise}(t,n._key).then(o=>new dc(e,r,n._key,o,new Uf(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function DN(n){n=ln(n,Qn);const e=ln(n.firestore,Xn);return s1(Vr(e),n._key,{source:"server"}).then(t=>qT(e,n,t))}(this._delegate):function EN(n){n=ln(n,Qn);const e=ln(n.firestore,Xn);return s1(Vr(e),n._key).then(t=>qT(e,n,t))}(this._delegate),t.then(r=>new B_(this.firestore,new dc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Bo(this.firestore,this._delegate.withConverter(e?Bf.getInstance(this.firestore,e):null))}}function fs(n,e,t){return n.message=n.message.replace(e,t),n}function z1(n){for(const e of n)if("object"==typeof e&&!KT(e))return e;return{}}function G1(n,e){var t,r;let o;return o=KT(n[0])?n[0]:KT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class B_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Bo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return R1(this._delegate,e._delegate)}}class j_ extends B_{data(e){const t=this._delegate.data(e);return function HI(n,e){n||ut()}(void 0!==t),t}}class ps{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new aE(e)}where(e,t,r){try{return new ps(this.firestore,Rd(this._delegate,function hN(n,e,t){const r=e,o=nE("where",n);return L_._create(o,r,t)}(e,t,r)))}catch(o){throw fs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ps(this.firestore,Rd(this._delegate,function fN(n,e="asc"){const t=e,r=nE("orderBy",n);return GT._create(r,t)}(e,t)))}catch(r){throw fs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ps(this.firestore,Rd(this._delegate,function pN(n){return d1("limit",n),rE._create("limit",n,"F")}(e)))}catch(t){throw fs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ps(this.firestore,Rd(this._delegate,function gN(n){return d1("limitToLast",n),rE._create("limitToLast",n,"L")}(e)))}catch(t){throw fs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ps(this.firestore,Rd(this._delegate,function mN(...n){return iE._create("startAt",n,!0)}(...e)))}catch(t){throw fs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ps(this.firestore,Rd(this._delegate,function yN(...n){return iE._create("startAfter",n,!1)}(...e)))}catch(t){throw fs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ps(this.firestore,Rd(this._delegate,function vN(...n){return sE._create("endBefore",n,!1)}(...e)))}catch(t){throw fs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ps(this.firestore,Rd(this._delegate,function _N(...n){return sE._create("endAt",n,!0)}(...e)))}catch(t){throw fs(t,"endAt()","Query.endAt()")}}isEqual(e){return VT(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function TN(n){n=ln(n,Si);const e=ln(n.firestore,Xn),t=Vr(e),r=new kd(e);return function UR(n,e){const t=new kr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(o,u,d){try{const m=yield Lb(o,u,!0),_=new Wx(u,m.Wi),C=_.zu(m.documents),T=_.applyChanges(C,!1);d.resolve(T.snapshot)}catch(m){const _=rm(m,`Failed to execute query '${u} against cache`);d.reject(_)}}),function(o,u,d){return r.apply(this,arguments)})(yield Wb(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Nd(e,r,n,o))}(this._delegate):"server"===e?.source?function SN(n){n=ln(n,Si);const e=ln(n.firestore,Xn),t=Vr(e),r=new kd(e);return o1(t,n._query,{source:"server"}).then(o=>new Nd(e,r,n,o))}(this._delegate):function AN(n){n=ln(n,Si);const e=ln(n.firestore,Xn),t=Vr(e),r=new kd(e);return A1(n._query),o1(t,n._query).then(o=>new Nd(e,r,n,o))}(this._delegate),t.then(r=>new YT(this.firestore,new Nd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=z1(e),r=G1(e,o=>new YT(this.firestore,new Nd(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return F1(this._delegate,t,r)}withConverter(e){return new ps(this.firestore,this._delegate.withConverter(e?Bf.getInstance(this.firestore,e):null))}}class QN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new j_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class YT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ps(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new j_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new QN(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new j_(this._firestore,r))})}isEqual(e){return R1(this._delegate,e._delegate)}}class dm extends ps{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Bo(this.firestore,e):null}doc(e){try{return new Bo(this.firestore,void 0===e?Yb(this._delegate):Yb(this._delegate,e))}catch(t){throw fs(t,"doc()","CollectionReference.doc()")}}add(e){return function xN(n,e){const t=ln(n.firestore,Xn),r=Yb(n),o=oE(n.converter,e);return cm(t,[Jb(Lf(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,sr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Bo(this.firestore,t))}isEqual(e){return g1(this._delegate,e._delegate)}withConverter(e){return new dm(this.firestore,this._delegate.withConverter(e?Bf.getInstance(this.firestore,e):null))}}function jf(n){return ln(n,Qn)}class QT{constructor(...e){this._delegate=new cc(...e)}static documentId(){return new QT(Kn.keyField().canonicalString())}isEqual(e){return(e=(0,dn.m9)(e))instanceof cc&&this._delegate._internalPath.isEqual(e._internalPath)}}class $f{constructor(e){this._delegate=e}static serverTimestamp(){const e=function $N(){return new BT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new $f(e)}static delete(){const e=function jN(){return new R_("deleteField")}();return e._methodName="FieldValue.delete",new $f(e)}static arrayUnion(...e){const t=function HN(...n){return new aN("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new $f(t)}static arrayRemove(...e){const t=function zN(...n){return new uN("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new $f(t)}static increment(e){const t=function GN(n){return new lN("increment",n)}(e);return t._methodName="FieldValue.increment",new $f(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const XN={Firestore:j1,GeoPoint:Qb,Timestamp:Gn,Blob:U_,Transaction:$1,WriteBatch:H1,DocumentReference:Bo,DocumentSnapshot:B_,Query:ps,QueryDocumentSnapshot:j_,QuerySnapshot:YT,CollectionReference:dm,FieldPath:QT,FieldValue:$f,setLogLevel:function YN(n){!function ED(n){Ou.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function ek(n){(function JN(n,e){n.INTERNAL.registerComponent(new Zp.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},XN)))})(n,(e,t)=>new j1(e,t,new KN)),n.registerVersion("@firebase/firestore-compat","0.3.6")}(KC.Z);var tk=L(6451),uE=L(5363),nk=L(6063);class rk extends es.x{constructor(e=1/0,t=1/0,r=nk.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!o&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const d=t.now();let m=0;for(let _=1;_<r.length&&r[_]<=d;_+=2)m=_;m&&r.splice(0,m+1)}}}var ik=L(3099);function Z1(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,ik.B)({connector:()=>new rk(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function q1(n,e){return(0,eo.m)(e)?Or(()=>n,e):Or(()=>n)}var XT=L(9468),Hf=L(259);class hm{constructor(e){return e}}class W1{constructor(){return(0,Hf.C6)()}}const JT=new c.OlP("angularfire2._apps"),ok={provide:hm,useFactory:function sk(n){return n&&1===n.length?n[0]:new hm((0,Hf.Mq)())},deps:[[new c.FiY,JT]]},ak={provide:W1,deps:[[new c.FiY,JT]]};function uk(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new hm(r)}}let lk=(()=>{class n{constructor(t){(0,Hf.KN)("angularfire",_n.q4.full,"core"),(0,Hf.KN)("angularfire",_n.q4.full,"app"),(0,Hf.KN)("angular",c.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[ok,ak]}),n})();function ck(n,...e){return{ngModule:lk,providers:[{provide:JT,useFactory:uk(n),multi:!0,deps:[c.R0b,c.zs3,_n.HU,...e]}]}}const dk=(0,_n.u3)(Hf.ZF,!0),eS=new Map,K1={activated:!1,tokenObservers:[]},hk={initialized:!1,enabled:!1};function Mi(n){return eS.get(n)||Object.assign({},K1)}function lE(){return hk}const tS="https://content-firebaseappcheck.googleapis.com/v1",mk="exchangeDebugToken",Y1={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class vk{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ve.Z)(function*(){t.stop();try{t.pending=new dn.BH,yield function _k(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new dn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const gs=new dn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function iS(){return iS=(0,ve.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const N=yield o.getHeartbeatsHeader();N&&(r["X-Firebase-Client"]=N)}const u={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,u)}catch(N){throw gs.create("fetch-network-error",{originalErrorMessage:N?.message})}if(200!==d.status)throw gs.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(N){throw gs.create("fetch-parse-error",{originalErrorMessage:N?.message})}const _=m.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw gs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const C=1e3*Number(_[1]),T=Date.now();return{token:m.token,expireTimeMillis:T+C,issuedAtTimeMillis:T}}),iS.apply(this,arguments)}const Ck="firebase-app-check-database",Dk=1,$_="firebase-app-check-store";let hE=null;function sS(){return sS=(0,ve.Z)(function*(n,e){const r=(yield function J1(){return hE||(hE=new Promise((n,e)=>{try{const t=indexedDB.open(Ck,Dk);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(gs.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore($_,{keyPath:"compositeKey"})}}catch(t){e(gs.create("storage-open",{originalErrorMessage:t?.message}))}}),hE)}()).transaction($_,"readwrite"),u=r.objectStore($_).put({compositeKey:n,value:e});return new Promise((d,m)=>{u.onsuccess=_=>{d()},r.onerror=_=>{var C;m(gs.create("storage-set",{originalErrorMessage:null===(C=_.target.error)||void 0===C?void 0:C.message}))}})}),sS.apply(this,arguments)}const H_=new Au.Yd("@firebase/app-check");function uS(n,e){return(0,dn.hl)()?function Tk(n,e){return function eO(n,e){return sS.apply(this,arguments)}(function nO(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{H_.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function cS(){return cS=(0,ve.Z)(function*(){const n=lE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),cS.apply(this,arguments)}const Rk={error:"UNKNOWN_ERROR"};function Nk(n){return dn.US.encodeString(JSON.stringify(n),!1)}function fE(n){return dS.apply(this,arguments)}function dS(){return dS=(0,ve.Z)(function*(n,e=!1){const t=n.app;!function Q1(n){if(!Mi(n).activated)throw gs.create("use-before-activation",{appName:n.name})}(t);const r=Mi(t);let u,o=r.token;if(o&&!fm(o)&&(r.token=void 0,o=void 0),!o){const _=yield r.cachedTokenPromise;_&&(fm(_)?o=_:yield uS(t,void 0))}if(!e&&o&&fm(o))return{token:o.token};let m,d=!1;if(function rO(){return lE().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function rS(n,e){return iS.apply(this,arguments)}(function Ek(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`${tS}/projects/${t}/apps/${r}:${mk}?key=${o}`,body:{debug_token:e}}}(t,yield function iO(){return cS.apply(this,arguments)}()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const _=yield r.exchangeTokenPromise;return yield uS(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),o=yield Mi(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?H_.warn(_.message):H_.error(_),u=_}return o?u?m=fm(o)?{token:o.token,internalError:u}:aO(u):(m={token:o.token},r.token=o,yield uS(t,o)):m=aO(u),d&&function oO(n,e){const t=Mi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,m),m}),dS.apply(this,arguments)}function fS(n,e){const t=Mi(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function sO(n){const{app:e}=n,t=Mi(e);let r=t.tokenRefresher;r||(r=function kk(n){const{app:e}=n;return new vk((0,ve.Z)(function*(){let r;if(r=Mi(e).token?yield fE(n,!0):yield fE(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Mi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Y1.RETRIAL_MIN_WAIT,Y1.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function fm(n){return n.expireTimeMillis-Date.now()>0}function aO(n){return{token:Nk(Rk),error:n}}class Fk{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Mi(this.app);for(const t of e)fS(this.app,t.next);return Promise.resolve()}}const gO="app-check-internal";!function Yk(){(0,Sa._registerComponent)(new Zp.wA("app-check",n=>function Lk(n,e){return new Fk(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(gO).initialize()})),(0,Sa._registerComponent)(new Zp.wA(gO,n=>function Vk(n){return{getToken:e=>fE(n,e),addTokenListener:e=>function hS(n,e,t,r){const{app:o}=n,u=Mi(o);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&fm(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),sO(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>sO(n))}(n,"INTERNAL",e),removeTokenListener:e=>fS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Sa.registerVersion)("@firebase/app-check","0.6.4")}();class gE{constructor(){return(0,_n.vb)("app-check")}}typeof window<"u"&&window;var tF=L(9260);const yO=new c.OlP("angularfire2.auth.use-emulator"),vO=new c.OlP("angularfire2.auth.settings"),_O=new c.OlP("angularfire2.auth.tenant-id"),wO=new c.OlP("angularfire2.auth.langugage-code"),IO=new c.OlP("angularfire2.auth.use-device-language"),bO=new c.OlP("angularfire.auth.persistence"),EO=(n,e,t,r,o,u,d,m)=>(0,Ps.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=o,u&&_.useDeviceLanguage(),d)for(const[C,T]of Object.entries(d))_.settings[C]=T;return m&&_.setPersistence(m),_},[t,r,o,u,d,m]);let CO=(()=>{class n{constructor(t,r,o,u,d,m,_,C,T,N,G,J){const ge=new es.x,Le=lt(void 0).pipe((0,uE.Q)(d.outsideAngular),Or(()=>u.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,9568)))),(0,Dt.U)(()=>(0,Ps.on)(t,u,r)),(0,Dt.U)(ze=>EO(ze,u,m,C,T,N,_,G)),Z1({bufferSize:1,refCount:!1}));if(yc(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=lt(null);else{Le.pipe(ss()).subscribe();const Vt=Le.pipe(Or(Jt=>Jt.getRedirectResult().then(en=>en,()=>null)),_n.iC,Z1({bufferSize:1,refCount:!1})),Qt=Le.pipe(Or(Jt=>new ts.y(en=>({unsubscribe:u.runOutsideAngular(()=>Jt.onAuthStateChanged(pn=>en.next(pn),pn=>en.error(pn),()=>en.complete()))})))),Nt=Le.pipe(Or(Jt=>new ts.y(en=>({unsubscribe:u.runOutsideAngular(()=>Jt.onIdTokenChanged(pn=>en.next(pn),pn=>en.error(pn),()=>en.complete()))}))));this.authState=Vt.pipe(q1(Qt),(0,XT.R)(d.outsideAngular),(0,uE.Q)(d.insideAngular)),this.user=Vt.pipe(q1(Nt),(0,XT.R)(d.outsideAngular),(0,uE.Q)(d.insideAngular)),this.idToken=this.user.pipe(Or(Jt=>Jt?(0,Wt.D)(Jt.getIdToken()):lt(null))),this.idTokenResult=this.user.pipe(Or(Jt=>Jt?(0,Wt.D)(Jt.getIdTokenResult()):lt(null))),this.credential=(0,tk.T)(Vt,ge,this.authState.pipe(is(Jt=>!Jt))).pipe((0,Dt.U)(Jt=>Jt?.user?Jt:null),(0,XT.R)(d.outsideAngular),(0,uE.Q)(d.insideAngular))}return(0,Ps.pX)(this,Le,u,{spy:{apply:(ze,Vt,Qt)=>{(ze.startsWith("signIn")||ze.startsWith("createUser"))&&Qt.then(Nt=>ge.next(Nt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ps.Dh),c.LFG(Ps.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(_n.HU),c.LFG(yO,8),c.LFG(vO,8),c.LFG(_O,8),c.LFG(wO,8),c.LFG(IO,8),c.LFG(bO,8),c.LFG(gE,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function DO(n,e){return function rF(n,e=zw.z){return new ts.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function vS(n,e){return DO(n,e).pipe((0,Dt.U)(t=>({payload:t,type:"query"})))}function mE(n,e){return vS(n,e).pipe(bl(void 0),Gp(),(0,Dt.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const _=o.find(T=>T.doc.ref.isEqual(d.ref)),C=t?.payload.docs.find(T=>T.ref.isEqual(d.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(d.metadata)||!_&&C&&JSON.stringify(C.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),u}))}function AO(n,e,t){return mE(n,t).pipe(kc((r,o)=>function sF(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function oF(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return _S(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return _S(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return _S(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function Gw(n,e=Vi.y){return n=n??Zw,(0,bn.e)((t,r)=>{let o,u=!0;t.subscribe((0,V.x)(r,d=>{const m=e(d);(u||!n(o,m))&&(u=!1,o=m,r.next(d))}))})}(),(0,Dt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function _S(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function TO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class SO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=mE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Dt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(bl(void 0),Gp(),is(([r,o])=>o.length>0||!r),(0,Dt.U)(([r,o])=>o),_n.iC)}auditTrail(e){return this.stateChanges(e).pipe(kc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=TO(e);return AO(this.query,t,this.afs.schedulers.outsideAngular).pipe(_n.iC)}valueChanges(e={}){return vS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),_n.iC)}get(e){return(0,Wt.D)(this.query.get(e)).pipe(_n.iC)}add(e){return this.ref.add(e)}doc(e){return new MO(this.ref.doc(e),this.afs)}}class MO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=PO(r,t);return new SO(o,u,this.afs)}snapshotChanges(){return function iF(n,e){return DO(n,e).pipe(bl(void 0),Gp(),(0,Dt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(_n.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Dt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Wt.D)(this.ref.get(e)).pipe(_n.iC)}}class aF{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?mE(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),is(t=>t.length>0),_n.iC):mE(this.query,this.afs.schedulers.outsideAngular).pipe(_n.iC)}auditTrail(e){return this.stateChanges(e).pipe(kc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=TO(e);return AO(this.query,t,this.afs.schedulers.outsideAngular).pipe(_n.iC)}valueChanges(e={}){return vS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),_n.iC)}get(e){return(0,Wt.D)(this.query.get(e)).pipe(_n.iC)}}const xO=new c.OlP("angularfire2.enableFirestorePersistence"),OO=new c.OlP("angularfire2.firestore.persistenceSettings"),uF=new c.OlP("angularfire2.firestore.settings"),lF=new c.OlP("angularfire2.firestore.use-emulator");function PO(n,e=(t=>t)){return{query:e(n),ref:n}}let wS=(()=>{class n{constructor(t,r,o,u,d,m,_,C,T,N,G,J,ge,Le,ze,Vt,Qt){this.schedulers=_;const Nt=(0,Ps.on)(t,m,r),Jt=T;N&&EO(Nt,m,G,ge,Le,ze,J,Vt),[this.firestore,this.persistenceEnabled$]=(0,Ps.cc)(`${Nt.name}.firestore`,"AngularFirestore",Nt.name,()=>{const en=m.runOutsideAngular(()=>Nt.firestore());if(u&&en.settings(u),Jt&&en.useEmulator(...Jt),o&&!yc(d)){const pn=()=>{try{return(0,Wt.D)(en.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(ms){return typeof console<"u"&&console.warn(ms),lt(!1)}};return[en,m.runOutsideAngular(pn)]}return[en,lt(!1)]},[u,Jt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=PO(o,r),m=this.schedulers.ngZone.run(()=>u);return new SO(m,d,this)}collectionGroup(t,r){const o=r||(d=>d),u=this.firestore.collectionGroup(t);return new aF(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new MO(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ps.Dh),c.LFG(Ps.xv,8),c.LFG(xO,8),c.LFG(uF,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(_n.HU),c.LFG(OO,8),c.LFG(lF,8),c.LFG(CO,8),c.LFG(yO,8),c.LFG(vO,8),c.LFG(_O,8),c.LFG(wO,8),c.LFG(IO,8),c.LFG(bO,8),c.LFG(gE,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),cF=(()=>{class n{constructor(){tF.Z.registerVersion("angularfire",_n.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:xO,useValue:!0},{provide:OO,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[wS]}),n})(),RO=(()=>{class n{constructor(t){this.store=t}addBooking(t){this.store.collection("bookingRequests").add(Object.assign({},t))}getBookings(){return this.store.collection("bookingRequests").valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(wS))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dF(n,e){if(1&n&&(c.TgZ(0,"li"),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Oqu(t)}}const hF=function(n){return{selected:n}};let fF=(()=>{class n{constructor(t){this.productSvc=t,this.productType=""}ngOnInit(){this.product=""===this.productType?this.productObj:this.productSvc.GetProducts(this.productType)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Xy))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dynamic-service-card"]],inputs:{productType:"productType",productObj:"productObj"},decls:17,vars:11,consts:[[1,"product_container",3,"id","ngClass"],[1,"product_id","hidden"],[1,"product_header"],[1,"product_icon",3,"innerHtml"],[1,"product_header_title"],[1,"product_title"],[1,"product_subtitle"],[1,"product_features"],[4,"ngFor","ngForOf"],[1,"product_price","hidden"],[1,"product_sqFtPrice","hidden"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c._uU(2),c.qZA(),c.TgZ(3,"div",2),c._UZ(4,"div",3),c.TgZ(5,"div",4)(6,"div",5),c._uU(7),c.qZA(),c.TgZ(8,"div",6),c._uU(9),c.qZA()()(),c.TgZ(10,"div",7)(11,"ul"),c.YNc(12,dF,2,1,"li",8),c.qZA()(),c.TgZ(13,"div",9),c._uU(14),c.qZA(),c.TgZ(15,"div",10),c._uU(16),c.qZA()()),2&t&&(c.s9C("id",null==r.product?null:r.product.id),c.Q6J("ngClass",c.VKq(9,hF,1==(null==r.product?null:r.product.selected))),c.xp6(2),c.hij(" ",null==r.product?null:r.product.id,""),c.xp6(2),c.Q6J("innerHtml",null==r.product?null:r.product.icon,c.oJD),c.xp6(3),c.hij(" ",null==r.product?null:r.product.title,""),c.xp6(2),c.hij(" ",null==r.product?null:r.product.subtitle,""),c.xp6(3),c.Q6J("ngForOf",null==r.product?null:r.product.features),c.xp6(2),c.hij("$ ",null==r.product?null:r.product.price," / base"),c.xp6(2),c.hij("+$ ",null==r.product?null:r.product.sqFtPrice," / per 500sq ft"))},dependencies:[Xe,Dn],styles:['.product_container[_ngcontent-%COMP%]{background-color:hsl(var(--clr-white));padding:0 1.5rem;height:18rem;border-radius:.75rem;border:1px solid rgba(0,0,0,.125)}.hidden[_ngcontent-%COMP%]{visibility:hidden}.product_header[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}.product_title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;word-wrap:normal;width:12rem}.product_subtitle[_ngcontent-%COMP%]{line-height:.25rem;font-size:.75rem}.product_icon[_ngcontent-%COMP%]{width:4rem}.selected[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:10px;border-radius:5rem 0 0 5rem;height:100%;background-color:#ff4500}ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{font-size:.9rem;width:10rem}']}),n})();function pF(n,e){if(1&n&&(c.TgZ(0,"tr")(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td"),c._uU(8),c.qZA(),c.TgZ(9,"td"),c._uU(10),c.qZA(),c.TgZ(11,"td"),c._uU(12),c.qZA(),c.TgZ(13,"td"),c._uU(14),c.qZA()()),2&n){const t=e.$implicit;c.xp6(2),c.Oqu(t.name),c.xp6(2),c.Oqu(t.email),c.xp6(2),c.Oqu(t.address),c.xp6(2),c.Oqu(t.date),c.xp6(2),c.Oqu(t.time),c.xp6(2),c.Oqu(t.size),c.xp6(2),c.Oqu(t.total)}}let gF=(()=>{class n{constructor(t){this.db=t,this.listOfBootings=[]}ngOnInit(){this.db.getBookings().subscribe(t=>{this.listOfBootings=t}),this.listOfBootings.forEach(t=>{console.log(t)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(RO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-booking-list"]],decls:25,vars:1,consts:[[1,"bookingInfo"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(c.TgZ(0,"table",0)(1,"thead")(2,"td")(3,"strong"),c._uU(4,"Customer Name"),c.qZA()(),c.TgZ(5,"td")(6,"strong"),c._uU(7,"Email Address"),c.qZA()(),c.TgZ(8,"td")(9,"strong"),c._uU(10,"Property Address"),c.qZA()(),c.TgZ(11,"td")(12,"strong"),c._uU(13,"Appointment Date"),c.qZA()(),c.TgZ(14,"td")(15,"strong"),c._uU(16,"Time"),c.qZA()(),c.TgZ(17,"td")(18,"strong"),c._uU(19,"Property Size"),c.qZA()(),c.TgZ(20,"td")(21,"strong"),c._uU(22,"Total Cost"),c.qZA()()(),c.TgZ(23,"tbody"),c.YNc(24,pF,15,7,"tr",1),c.qZA()()),2&t&&(c.xp6(24),c.Q6J("ngForOf",r.listOfBootings))},dependencies:[Dn],styles:[".bookingInfo[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.9rem}.bookingInfo[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .bookingInfo[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #eaeaea;padding:1rem;text-align:left}.bookingInfo[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:700}.bookingInfo[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f9f9f9}.bookingInfotbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}"]}),n})();function mF(n,e){if(1&n&&(c.TgZ(0,"option",28),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("value",t),c.xp6(1),c.Oqu(t)}}function yF(n,e){if(1&n&&(c.TgZ(0,"option",28),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("value",t),c.xp6(1),c.Oqu(t)}}function vF(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"app-dynamic-service-card",29),c.NdJ("click",function(){const u=c.CHM(t).$implicit,d=c.oxw();return c.KtG(d.addToTotal(u))}),c.qZA()}2&n&&c.Q6J("productObj",e.$implicit)}let _F=(()=>{class n{constructor(t,r,o,u){this.productSvc=t,this.formBuilder=r,this.store=o,this.db=u,this.timeSlots=["8:00 AM - 10:00 AM","10:00 AM - 12:00 PM","12:00 PM - 2:00 PM","2:00 PM - 4:00 PM","4:00 PM - 6:00 PM","Twilight"],this.homeSize=["500 sqft - 2000 sqft","2000 sqft - 2500  sqft","2500 sqft - 3000 sqft","3000  sqft - 3500 sqft","3500 sqft - 4000 sqft","4000 sqft - 5000 sqft"],this.listOfProducts=[],this.listOfBootings=[],this.total=0,this.selectedHomeSize=0,this.fakeCustomer=new Hh(1,"John Doe","johndoe@example.com","1234 Elm Street","4/14/2023","5pm","2000sqft","showcase",0),this.today=new Date}ngOnInit(){const t=new Date(this.today.setDate(this.today.getDate()+1));this.myForm=this.formBuilder.group({name:["Alex",Ll.required],email:["alex@gmail.com",[Ll.required,Ll.email]],address:["15325 Se 155th pl",Ll.required],date:["",Ll.required],time:["4:00 PM - 6:00 PM",Ll.required],size:["500 sqft - 2000 sqft",[Ll.required]]}),this.myForm.get("date")?.patchValue(this.formatDate(t)),this.listOfProducts=this.productSvc.GetAllProducts();const r=document.querySelector(".estimator");Array.from(r?.children)}formatDate(t){const r=new Date(t);let o=""+(r.getMonth()+1),u=""+r.getDate();const d=r.getFullYear();return o.length<2&&(o="0"+o),u.length<2&&(u="0"+u),[d,o,u].join("-")}onSubmit(){if(this.myForm?.valid){let _=new Hh(1,this.myForm.controls.name.value,this.myForm.controls.email.value,this.myForm.controls.address.value,this.myForm.controls.date.value,this.myForm.controls.time.value,this.myForm.controls.size.value,"showcase",this.total);this.db.addBooking(_)}else console.log("not valid")}addToTotal(t){const r=document.getElementById(t.id.toString());0==t.selected?(t.selected=!0,r.classList.add("selected"),this.total+=t.price,1==t.id&&1==this.listOfProducts.find(o=>2===o.id)?.selected?(this.listOfProducts[1].selected=!1,this.total-=this.listOfProducts[1].price):2==t.id&&1==this.listOfProducts.find(o=>1===o.id)?.selected&&(this.listOfProducts[0].selected=!1,this.total-=this.listOfProducts[0].price)):(this.total-=t.price,t.selected=!1,r.classList.remove("selected"))}onSelected(t){t===this.homeSize[1]?(this.selectedHomeSize=2,this.listOfProducts[0].sqFtPrice=this.listOfProducts[0].price+60):this.listOfProducts[0].sqFtPrice=this.listOfProducts[0].price}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Xy),c.Y36($w),c.Y36(wS),c.Y36(RO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-estimator"]],decls:55,vars:6,consts:[[1,"section-container"],[1,"estimator_container"],[3,"formGroup","ngSubmit"],[1,"info"],[1,"client_info_form"],[1,"client_info_form_input"],["for","name"],["type","text","id","name","formControlName","name","required",""],["for","email"],["type","email","id","email","formControlName","email","required",""],["for","address"],["id","address","formControlName","address","required",""],["for","date"],["type","date","id","date","formControlName","date","required","",3,"min"],["for","time"],["id","time","formControlName","time","required",""],[3,"value",4,"ngFor","ngForOf"],["for","size"],["id","size","formControlName","size","required","",3,"change"],["homeSizeInput",""],[1,"notes_cart"],[1,"notes"],["id","invalid_package",1,"error",2,"color","red"],[1,"cart"],[1,"estimator_total"],[1,"estimator"],["class","estimator_card",3,"productObj","click",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-secondary"],[3,"value"],[1,"estimator_card",3,"productObj","click"]],template:function(t,r){if(1&t){const o=c.EpF();c.TgZ(0,"div",0),c._UZ(1,"app-booking-list"),c.TgZ(2,"div",1)(3,"form",2),c.NdJ("ngSubmit",function(){return r.onSubmit()}),c.TgZ(4,"div",3)(5,"h1"),c._uU(6,"Online Booking"),c.qZA()(),c.TgZ(7,"div",4)(8,"div",5)(9,"label",6),c._uU(10,"Name:"),c.qZA(),c._UZ(11,"input",7),c.qZA(),c.TgZ(12,"div",5)(13,"label",8),c._uU(14,"Email address:"),c.qZA(),c._UZ(15,"input",9),c.qZA(),c.TgZ(16,"div",5)(17,"label",10),c._uU(18,"Property Address:"),c.qZA(),c._UZ(19,"textarea",11),c.qZA(),c.TgZ(20,"div",5)(21,"label",12),c._uU(22,"Prefered Date:"),c.qZA(),c._UZ(23,"input",13),c.qZA(),c.TgZ(24,"div",5)(25,"label",14),c._uU(26,"Prefered Time Slot:"),c.qZA(),c.TgZ(27,"select",15),c.YNc(28,mF,2,2,"option",16),c.qZA()(),c.TgZ(29,"div",5)(30,"label",17),c._uU(31,"Home Size(sq ft):"),c.qZA(),c.TgZ(32,"select",18,19),c.NdJ("change",function(){c.CHM(o);const d=c.MAs(33);return c.KtG(r.onSelected(d.value))}),c.YNc(34,yF,2,2,"option",16),c.qZA()()(),c.TgZ(35,"div",20)(36,"div",21)(37,"small",22),c._uU(38,"Please select between Essentials and Showcase Packages."),c.qZA()(),c.TgZ(39,"div",23)(40,"div",24),c._uU(41),c.qZA()()(),c.TgZ(42,"div",25),c.YNc(43,vF,1,1,"app-dynamic-service-card",26),c.qZA(),c.TgZ(44,"button",27),c._uU(45,"Book Now"),c.qZA(),c.TgZ(46,"div"),c._UZ(47,"br"),c.TgZ(48,"p")(49,"small"),c._uU(50,"* All images delivered MLS optimized in less than 24 hours, print size by request. Fires in Fireplace and TV reflections removed standard for all packages. "),c._UZ(51,"br"),c._uU(52,"** Virtual Staging is done by a 3rd party, 24 hour turnaround. "),c._UZ(53,"br"),c._uU(54,"$2 per mile, travel fee applies to locations that are 20 miles or more one way from my business address with the zip code of 98042 in Kent, WA"),c.qZA()()()()()()}2&t&&(c.xp6(3),c.Q6J("formGroup",r.myForm),c.xp6(20),c.s9C("min",r.today),c.xp6(5),c.Q6J("ngForOf",r.timeSlots),c.xp6(6),c.Q6J("ngForOf",r.homeSize),c.xp6(7),c.hij("Total: ",r.total,""),c.xp6(2),c.Q6J("ngForOf",r.listOfProducts))},dependencies:[Dn,Hp,zy,Gy,Pp,tr,uw,lw,cs,nd,$y,fF,gF],styles:['.info[_ngcontent-%COMP%]{width:100%}.client_info_form[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(2,1fr);gap:10px;height:100%}.section-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;background:#fff;height:100%}h1[_ngcontent-%COMP%]{font-size:calc(3rem + 3vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:50%;color:hsl(var(--clr-dark))}.estimator[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;position:relative}.estimator_card[_ngcontent-%COMP%]{flex-grow:1;max-width:17rem;position:relative;display:block;cursor:pointer}.estimator_card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:10px;border-radius:5rem 0 0 5rem;height:100%;background-color:#aaa}.notes_cart[_ngcontent-%COMP%]{width:100%;display:flex;flex:1;justify-content:space-between}form[_ngcontent-%COMP%]{max-width:80%;margin:0 auto;padding:20px;display:flex;flex-wrap:wrap}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]{width:250px;padding:8px;margin-bottom:15px;border:1px solid #ccc;border-radius:3px}select[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none}button[type=submit][_ngcontent-%COMP%]{display:block;margin-top:20px;margin-left:auto;margin-right:0;padding:10px 20px;background-color:#ff533d;color:#fff;font-size:18px;font-weight:700;text-align:center;border:none;border-radius:3px;cursor:pointer}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#333;color:#ff533d}input.ng-invalid[_ngcontent-%COMP%], textarea.ng-invalid[_ngcontent-%COMP%], select.ng-invalid[_ngcontent-%COMP%]{border-color:red}input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{color:#007bff;font-size:14px;padding:0;margin-left:5px;cursor:pointer}.btn-group[_ngcontent-%COMP%]{margin:2em 0;display:relative}.btn[_ngcontent-%COMP%]{padding:1em 2em;text-decoration:none;text-transform:uppercase;border-radius:5px;position:relative;display:inline-block;line-height:1}.btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:1em}.btn-secondary[_ngcontent-%COMP%]{background:var(--foreground);color:var(--background)}.btn-accent[_ngcontent-%COMP%]{background:hsl(var(--clr-light));color:var(--foreground)}.btn[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:100%;left:-4px;top:4px;border-radius:inherit;z-index:-1}.hiddenControl[_ngcontent-%COMP%]{display:none}.btn-outline-secondary[_ngcontent-%COMP%]{border-style:3px}.btn-outline-secondary[_ngcontent-%COMP%]:hover{color:#6c757d!important;background-color:#f7f7f7!important;box-shadow:0 4px 8px #0003,0 6px 20px #00000030}#stdPkgButton[_ngcontent-%COMP%], #proPkgButton[_ngcontent-%COMP%], #twilightButton[_ngcontent-%COMP%], #rushDeliveryButton[_ngcontent-%COMP%], #virtualTourButton[_ngcontent-%COMP%], #floorPlanButton[_ngcontent-%COMP%], #zillowTourButton[_ngcontent-%COMP%], #aerialPhotoButton[_ngcontent-%COMP%], #aerialVideoButton[_ngcontent-%COMP%], #slideShowTourButton[_ngcontent-%COMP%], #reelTourButton[_ngcontent-%COMP%], #headshotButton[_ngcontent-%COMP%], #videoTourButton[_ngcontent-%COMP%], #lifeStyleButton[_ngcontent-%COMP%]{margin:0!important;padding:0!important}div.card-deck[_ngcontent-%COMP%]   div.card[_ngcontent-%COMP%]{display:table;margin:16px 1.66666%;flex:0 1 210px;background-color:#f5f5f5;border-width:0 0 0 6px;border-radius:6px;color:#aaa;font-size:14px;font-family:Arial,sans-serif;line-height:18px}div.card-block[_ngcontent-%COMP%]{width:250px;padding:14px;box-shadow:4px}div.card-block[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0003,0 6px 20px #00000030}.card-title[_ngcontent-%COMP%]{max-width:70%}.card.attribute[_ngcontent-%COMP%]{border-color:#a9a9a9}.card.metric[_ngcontent-%COMP%]{border-color:orange}.card[_ngcontent-%COMP%]{position:relative;display:block;margin-bottom:.75rem;background-color:#fff;border-radius:.25rem;border:1px solid rgba(0,0,0,.125)}.card-block[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:18px;color:#404040;margin-top:0;margin-bottom:14px}.card-title[_ngcontent-%COMP%], .card-heading[_ngcontent-%COMP%]{font-weight:700}.card-description[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{padding:0;margin:0}.bundle[_ngcontent-%COMP%]{border:solid 1px #0f1626;background-color:#000;height:100px}.text-block[_ngcontent-%COMP%]{bottom:0;background:rgb(0,0,0);background:rgba(0,0,0,.5);color:#f1f1f1;width:100%;padding:20px;font-size:1.1em}#contact[_ngcontent-%COMP%]{background-color:#fff;margin:30px 0!important}.contact-form-name[_ngcontent-%COMP%], .contact-form-email[_ngcontent-%COMP%], .contact-form-email-message[_ngcontent-%COMP%]{max-width:420px!important;width:100%}.contact-form-widget[_ngcontent-%COMP%]{height:320;margin-left:0;max-width:100%!important;padding:0;width:100%}*[_ngcontent-%COMP%]{margin:0 auto}']}),n})(),wF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-reviews"]],decls:61,vars:0,consts:[[1,"section-container"],[1,"intro"],[1,"fs-500","text-dark"],[1,"testimonals"],[1,"testimonial__container","text-center"],[1,"testimonial__text"],[1,"testimonial__title","italic"],[1,"testimonial__image_container"],[1,"circle"],["src","../../assets/reviewers/deanna.jpg","alt",""],["src","","alt",""],["src","../../assets/reviewers/christian.jpg","alt",""],["src","../../assets/reviewers/luba.jpg","alt",""],["src","../../assets/reviewers/IvanG.jpg","alt",""],["src","../../assets/reviewers/Ryant.jpg","alt",""]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"h1"),c._uU(3,"Feedback"),c.qZA(),c.TgZ(4,"span",2),c._uU(5,"What others have to say."),c.qZA()(),c.TgZ(6,"div",3)(7,"div",4)(8,"div",5)(9,"span",6),c._uU(10,"\"Alex and his wife were amazing for my son's senior pictures! He was really nervous as he's never done a photo shoot before but they were very calming and we got a ton of really great pictures. I will definitely use them again and highly recommend them!\""),c.qZA()(),c.TgZ(11,"div",7)(12,"div",8),c._UZ(13,"img",9),c.qZA()(),c.TgZ(14,"span"),c._uU(15,"Deanna A"),c.qZA()(),c.TgZ(16,"div",4)(17,"div",5)(18,"span",6),c._uU(19,'"Alex was rapid with response times from the very beginning, and overall was easy to communicate with. When it was time for the shoot, my daughter was very shy, but Alex was incredibly patient and went out of his way to try to help/guide her through it. The end result was great photos that we were all happy with. I would definitely recommend!"'),c.qZA()(),c.TgZ(20,"div",7)(21,"div",8),c._UZ(22,"img",10),c.qZA()(),c.TgZ(23,"span"),c._uU(24," Tashaney M."),c.qZA()(),c.TgZ(25,"div",4)(26,"div",5)(27,"span",6),c._uU(28,'"Alex is always a pleasure to work with and he takes great pride in his work! Have used his services for both head shots and events."'),c.qZA()(),c.TgZ(29,"div",7)(30,"div",8),c._UZ(31,"img",11),c.qZA()(),c.TgZ(32,"div"),c._uU(33,"Christian S."),c.qZA()(),c.TgZ(34,"div",4)(35,"div",5)(36,"span",6),c._uU(37,'"Great pictures! Alex is fast to respond and process your pictures. He takes pictures in his studio which is setup in the garage. Once it\'s done he will send you pictures where you have to pick 7 and he will process it. So if you fast to pick your favorite pictures you will get your photos in few days electronically. Remember to download them. Great experience, will definitely come back!"'),c.qZA()(),c.TgZ(38,"div",7)(39,"div",8),c._UZ(40,"img",12),c.qZA()(),c.TgZ(41,"div"),c._uU(42,"Luba E."),c.qZA()(),c.TgZ(43,"div",4)(44,"div",5)(45,"span",6),c._uU(46,'"Worked with Monkifoto on a professional photo shoot for our non profit organization. He was a professional and took some great photos. He was also very helpful in providing the copies of the photos again after I formatted my hard drive. I would definitely recommend this business."'),c.qZA()(),c.TgZ(47,"div",7)(48,"div",8),c._UZ(49,"img",13),c.qZA()(),c.TgZ(50,"span"),c._uU(51,"Ivan G."),c.qZA()(),c.TgZ(52,"div",4)(53,"div",5)(54,"span",6),c._uU(55,'"Alex is very personable, patient, and enjoyable to work with. I am a photographer myself and am very pleased with his portrait work. If you live in the Seattle/Renton area and need a quality photographer, I would definitely check him out."'),c.qZA()(),c.TgZ(56,"div",7)(57,"div",8),c._UZ(58,"img",14),c.qZA()(),c.TgZ(59,"span"),c._uU(60," Ryan T."),c.qZA()()()())},styles:[".section-container[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-wrap:wrap;padding:5rem;height:100%;align-content:center;align-items:center}.intro[_ngcontent-%COMP%]{height:30vh;padding:10rem;display:grid;color:hsl(var(--clr-dark));align-content:center}h1[_ngcontent-%COMP%]{font-size:calc(3rem + 3vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:50%;color:hsl(var(--clr-dark))}.testimonial__heading[_ngcontent-%COMP%]{text-align:center;padding:0 3rem 3rem}.testimonals[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;gap:1rem;justify-content:center}.testimonial__container[_ngcontent-%COMP%]{width:100%;max-width:400px;height:25rem;background-color:hsl(var(--clr-light));padding:2rem}.testimonial__text[_ngcontent-%COMP%]{color:hsl(var(--clr-dark));height:160px;font-style:italic}.testimonial__image_container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;padding:2rem}.circle[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;overflow:hidden}.circle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}@media (max-width: 35rem){h1[_ngcontent-%COMP%]{font-size:calc(2.5rem + 2vw);font-family:var(--ff-Montserrat);margin:0 0 .25em;line-height:1;max-width:80%;color:hsl(var(--clr-dark))}.intro[_ngcontent-%COMP%]{height:100%;padding:1rem;display:grid;color:hsl(var(--clr-dark));align-content:center}.section-container[_ngcontent-%COMP%]{padding:2rem;display:flex;flex-wrap:wrap;background:#fff;height:100%;flex-direction:column}.carousel-container[_ngcontent-%COMP%]{display:unset;padding:2rem}}"]}),n})(),IF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-brands"]],decls:50,vars:0,consts:[[1,"section-container"],[1,"text-center","fs-600","--ff-source-sans-pro",2,"width","100%"],[1,"client__container"],[1,"client__logo"],["src","../../assets/brands/agencyone.jpg","alt","agencyone"],["src","../../assets/brands/Compass.jpg","alt",""],["src","../../assets/brands/exp.jpg","alt",""],["src","../../assets/brands/ezlip.jpg","alt",""],["src","../../assets/brands/Glencrest.jpg","alt",""],["src","../../assets/brands/Hilton.jpg","alt",""],["src","../../assets/brands/JLS.jpg","alt",""],["src","../../assets/brands/lenovo.jpg","alt",""],["src","../../assets/brands/Princess.jpg","alt",""],["src","../../assets/brands/REMAX.jpg","alt",""],["src","../../assets/brands/Key.jpg","alt",""],["src","../../assets/brands/206Realty.jpg","alt","206Realty"],["src","../../assets/brands/PanoramicDoord.jpg","alt","206Realty"],["src","../../assets/brands/cosmos.jpg","alt","206Realty"],["src","../../assets/brands/rcd.jpg","alt","206Realty"],["src","../../assets/brands/slpr.jpg","alt","206Realty"],["src","../../assets/brands/communitylaw.jpg","alt",""],["src","../../assets/brands/WestlakeLaw.jpg","alt",""],["src","../../assets/brands/air.jpg","alt",""],["src","../../assets/brands/KR.jpg","alt",""],["src","../../assets/brands/skyline.jpg","alt",""],["src","../../assets/brands/dc.jpg","alt",""]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c._uU(2," We've had the pleasure of collaborating with some incredible clients."),c._UZ(3,"br")(4,"br"),c.qZA(),c.TgZ(5,"div",2)(6,"div",3),c._UZ(7,"img",4),c.qZA(),c.TgZ(8,"div",3),c._UZ(9,"img",5),c.qZA(),c.TgZ(10,"div",3),c._UZ(11,"img",6),c.qZA(),c.TgZ(12,"div",3),c._UZ(13,"img",7),c.qZA(),c.TgZ(14,"div",3),c._UZ(15,"img",8),c.qZA(),c.TgZ(16,"div",3),c._UZ(17,"img",9),c.qZA(),c.TgZ(18,"div",3),c._UZ(19,"img",10),c.qZA(),c.TgZ(20,"div",3),c._UZ(21,"img",11),c.qZA(),c.TgZ(22,"div",3),c._UZ(23,"img",12),c.qZA(),c.TgZ(24,"div",3),c._UZ(25,"img",13),c.qZA(),c.TgZ(26,"div",3),c._UZ(27,"img",14),c.qZA(),c.TgZ(28,"div",3),c._UZ(29,"img",15),c.qZA(),c.TgZ(30,"div",3),c._UZ(31,"img",16),c.qZA(),c.TgZ(32,"div",3),c._UZ(33,"img",17),c.qZA(),c.TgZ(34,"div",3),c._UZ(35,"img",18),c.qZA(),c.TgZ(36,"div",3),c._UZ(37,"img",19),c.qZA(),c.TgZ(38,"div",3),c._UZ(39,"img",20),c.qZA(),c.TgZ(40,"div",3),c._UZ(41,"img",21),c.qZA(),c.TgZ(42,"div",3),c._UZ(43,"img",22),c.qZA(),c.TgZ(44,"div",3),c._UZ(45,"img",23),c.qZA(),c.TgZ(46,"div",3),c._UZ(47,"img",24),c.qZA(),c.TgZ(48,"div",3),c._UZ(49,"img",25),c.qZA()()())},styles:[".section-container[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-wrap:wrap;padding:5rem;height:100%}.client__container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3rem;justify-content:center}.client__logo[_ngcontent-%COMP%]{width:150px;height:50px}"]}),n})(),bF=(()=>{class n{constructor(){this.title="seattlerealestatemedia"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:22,vars:0,consts:[["id","about"],["id","portfolio"],["id","aerial"],["id","floorplan"],["id","matterport"],["id","staging"],["id","video"],["id","estimator"],["id","reviews"],["id","brands"]],template:function(t,r){1&t&&(c._UZ(0,"app-navbar"),c.TgZ(1,"section",0),c._UZ(2,"app-hero"),c.qZA(),c.TgZ(3,"section",1),c._UZ(4,"app-photo"),c.qZA(),c.TgZ(5,"section",2),c._UZ(6,"app-aerial"),c.qZA(),c.TgZ(7,"section",3),c._UZ(8,"app-floorplan"),c.qZA(),c.TgZ(9,"section",4),c._UZ(10,"app-tour3d"),c.qZA(),c.TgZ(11,"section",5),c._UZ(12,"app-staging"),c.qZA(),c.TgZ(13,"section",6),c._UZ(14,"app-video"),c.qZA(),c.TgZ(15,"section",7),c._UZ(16,"app-estimator"),c.qZA(),c.TgZ(17,"section",8),c._UZ(18,"app-reviews"),c.qZA(),c.TgZ(19,"section",9),c._UZ(20,"app-brands"),c.qZA(),c._UZ(21,"app-footer"))},dependencies:[Sh,py,Mp,mC,ls,yC,vC,$S,vy,_F,wF,IF]}),n})();const NO_firebase={projectId:"seattlerealestatemedia",appId:"1:188058057245:web:53845acab161c0969464f4",databaseURL:"https://seattlerealestatemedia-default-rtdb.firebaseio.com",storageBucket:"seattlerealestatemedia.appspot.com",apiKey:"AIzaSyDk5vxQCHtXQwUPrgSHT57P2qg6Fvc_v7A",authDomain:"seattlerealestatemedia.firebaseapp.com",messagingSenderId:"188058057245",measurementId:"G-EP2DD51D6W"};L(3432);class FO{constructor(){return(0,_n.vb)("auth")}}class ES{constructor(e){return e}}const LO="firestore",CS=new c.OlP("angularfire2.firestore-instances");function SF(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ES(r)}}const MF={provide:class AF{constructor(){return(0,_n.vb)(LO)}},deps:[[new c.FiY,CS]]},xF={provide:ES,useFactory:function TF(n,e){const t=(0,_n.JM)(LO,n,e);return t&&new ES(t)},deps:[[new c.FiY,CS],hm]};let OF=(()=>{class n{constructor(){(0,Hf.KN)("angularfire",_n.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[xF,MF]}),n})();function PF(n,...e){return{ngModule:OF,providers:[{provide:CS,useFactory:SF(n),multi:!0,deps:[c.R0b,c.zs3,_n.HU,W1,[new c.FiY,FO],[new c.FiY,gE],...e]}]}}const RF=(0,_n.u3)(WR,!0);let NF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[bF]}),n.\u0275inj=c.cJS({imports:[Io,fy,Hw,Qy,cF,Ps.hO.initializeApp(NO_firebase),ck(()=>dk(NO_firebase)),PF(()=>RF())]}),n})();gl().bootstrapModule(NF).catch(n=>console.error(n))},9751:(ft,De,L)=>{L.d(De,{y:()=>le});var c=L(2961),B=L(727),P=L(8822),ee=L(9635),ne=L(2416),se=L(576),he=L(2806);let le=(()=>{class q{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const Ge=new q;return Ge.source=this,Ge.operator=Ae,Ge}subscribe(Ae,Ge,ot){const fe=function z(q){return q&&q instanceof c.Lv||function H(q){return q&&(0,se.m)(q.next)&&(0,se.m)(q.error)&&(0,se.m)(q.complete)}(q)&&(0,B.Nn)(q)}(Ae)?Ae:new c.Hp(Ae,Ge,ot);return(0,he.x)(()=>{const{operator:Ie,source:we}=this;fe.add(Ie?Ie.call(fe,we):we?this._subscribe(fe):this._trySubscribe(fe))}),fe}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(Ge){Ae.error(Ge)}}forEach(Ae,Ge){return new(Ge=de(Ge))((ot,fe)=>{const Ie=new c.Hp({next:we=>{try{Ae(we)}catch(Pe){fe(Pe),Ie.unsubscribe()}},error:fe,complete:ot});this.subscribe(Ie)})}_subscribe(Ae){var Ge;return null===(Ge=this.source)||void 0===Ge?void 0:Ge.subscribe(Ae)}[P.L](){return this}pipe(...Ae){return(0,ee.U)(Ae)(this)}toPromise(Ae){return new(Ae=de(Ae))((Ge,ot)=>{let fe;this.subscribe(Ie=>fe=Ie,Ie=>ot(Ie),()=>Ge(fe))})}}return q.create=Ue=>new q(Ue),q})();function de(q){var Ue;return null!==(Ue=q??ne.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(ft,De,L)=>{L.d(De,{x:()=>he});var c=L(9751),B=L(727);const ee=(0,L(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=L(8737),se=L(2806);let he=(()=>{class de extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const q=new le(this,this);return q.operator=z,q}_throwIfClosed(){if(this.closed)throw new ee}next(z){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const q of this.currentObservers)q.next(z)}})}error(z){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:q}=this;for(;q.length;)q.shift().error(z)}})}complete(){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:q,isStopped:Ue,observers:Ae}=this;return q||Ue?B.Lc:(this.currentObservers=null,Ae.push(z),new B.w0(()=>{this.currentObservers=null,(0,ne.P)(Ae,z)}))}_checkFinalizedStatuses(z){const{hasError:q,thrownError:Ue,isStopped:Ae}=this;q?z.error(Ue):Ae&&z.complete()}asObservable(){const z=new c.y;return z.source=this,z}}return de.create=(H,z)=>new le(H,z),de})();class le extends he{constructor(H,z){super(),this.destination=H,this.source=z}next(H){var z,q;null===(q=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===q||q.call(z,H)}error(H){var z,q;null===(q=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===q||q.call(z,H)}complete(){var H,z;null===(z=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===z||z.call(H)}_subscribe(H){var z,q;return null!==(q=null===(z=this.source)||void 0===z?void 0:z.subscribe(H))&&void 0!==q?q:B.Lc}}},2961:(ft,De,L)=>{L.d(De,{Hp:()=>ot,Lv:()=>q});var c=L(576),B=L(727),P=L(2416),ee=L(7849);function ne(){}const se=de("C",void 0,void 0);function de(Te,xe,be){return{kind:Te,value:xe,error:be}}var H=L(3410),z=L(2806);class q extends B.w0{constructor(xe){super(),this.isStopped=!1,xe?(this.destination=xe,(0,B.Nn)(xe)&&xe.add(this)):this.destination=Pe}static create(xe,be,He){return new ot(xe,be,He)}next(xe){this.isStopped?we(function le(Te){return de("N",Te,void 0)}(xe),this):this._next(xe)}error(xe){this.isStopped?we(function he(Te){return de("E",void 0,Te)}(xe),this):(this.isStopped=!0,this._error(xe))}complete(){this.isStopped?we(se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(xe){this.destination.next(xe)}_error(xe){try{this.destination.error(xe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Ae(Te,xe){return Ue.call(Te,xe)}class Ge{constructor(xe){this.partialObserver=xe}next(xe){const{partialObserver:be}=this;if(be.next)try{be.next(xe)}catch(He){fe(He)}}error(xe){const{partialObserver:be}=this;if(be.error)try{be.error(xe)}catch(He){fe(He)}else fe(xe)}complete(){const{partialObserver:xe}=this;if(xe.complete)try{xe.complete()}catch(be){fe(be)}}}class ot extends q{constructor(xe,be,He){let K;if(super(),(0,c.m)(xe)||!xe)K={next:xe??void 0,error:be??void 0,complete:He??void 0};else{let oe;this&&P.v.useDeprecatedNextContext?(oe=Object.create(xe),oe.unsubscribe=()=>this.unsubscribe(),K={next:xe.next&&Ae(xe.next,oe),error:xe.error&&Ae(xe.error,oe),complete:xe.complete&&Ae(xe.complete,oe)}):K=xe}this.destination=new Ge(K)}}function fe(Te){P.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Te):(0,ee.h)(Te)}function we(Te,xe){const{onStoppedNotification:be}=P.v;be&&H.z.setTimeout(()=>be(Te,xe))}const Pe={closed:!0,next:ne,error:function Ie(Te){throw Te},complete:ne}},727:(ft,De,L)=>{L.d(De,{Lc:()=>se,w0:()=>ne,Nn:()=>he});var c=L(576);const P=(0,L(3888).d)(de=>function(z){de(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((q,Ue)=>`${Ue+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var ee=L(8737);class ne{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Ae of z)Ae.remove(this);else z.remove(this);const{initialTeardown:q}=this;if((0,c.m)(q))try{q()}catch(Ae){H=Ae instanceof P?Ae.errors:[Ae]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Ae of Ue)try{le(Ae)}catch(Ge){H=H??[],Ge instanceof P?H=[...H,...Ge.errors]:H.push(Ge)}}if(H)throw new P(H)}}add(H){var z;if(H&&H!==this)if(this.closed)le(H);else{if(H instanceof ne){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(H)}}_hasParent(H){const{_parentage:z}=this;return z===H||Array.isArray(z)&&z.includes(H)}_addParent(H){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(H),z):z?[z,H]:H}_removeParent(H){const{_parentage:z}=this;z===H?this._parentage=null:Array.isArray(z)&&(0,ee.P)(z,H)}remove(H){const{_finalizers:z}=this;z&&(0,ee.P)(z,H),H instanceof ne&&H._removeParent(this)}}ne.EMPTY=(()=>{const de=new ne;return de.closed=!0,de})();const se=ne.EMPTY;function he(de){return de instanceof ne||de&&"closed"in de&&(0,c.m)(de.remove)&&(0,c.m)(de.add)&&(0,c.m)(de.unsubscribe)}function le(de){(0,c.m)(de)?de():de.unsubscribe()}},2416:(ft,De,L)=>{L.d(De,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ft,De,L)=>{L.d(De,{E:()=>B});const B=new(L(9751).y)(ne=>ne.complete())},8996:(ft,De,L)=>{L.d(De,{D:()=>xe});var c=L(8421),B=L(5363),P=L(9468),se=L(9751),le=L(2202),de=L(576),H=L(9672);function q(be,He){if(!be)throw new Error("Iterable cannot be null");return new se.y(K=>{(0,H.f)(K,He,()=>{const oe=be[Symbol.asyncIterator]();(0,H.f)(K,He,()=>{oe.next().then(pe=>{pe.done?K.complete():K.next(pe.value)})},0,!0)})})}var Ue=L(3670),Ae=L(8239),Ge=L(1144),ot=L(6495),fe=L(2206),Ie=L(4532),we=L(3260);function xe(be,He){return He?function Te(be,He){if(null!=be){if((0,Ue.c)(be))return function ee(be,He){return(0,c.Xf)(be).pipe((0,P.R)(He),(0,B.Q)(He))}(be,He);if((0,Ge.z)(be))return function he(be,He){return new se.y(K=>{let oe=0;return He.schedule(function(){oe===be.length?K.complete():(K.next(be[oe++]),K.closed||this.schedule())})})}(be,He);if((0,Ae.t)(be))return function ne(be,He){return(0,c.Xf)(be).pipe((0,P.R)(He),(0,B.Q)(He))}(be,He);if((0,fe.D)(be))return q(be,He);if((0,ot.T)(be))return function z(be,He){return new se.y(K=>{let oe;return(0,H.f)(K,He,()=>{oe=be[le.h](),(0,H.f)(K,He,()=>{let pe,Ze;try{({value:pe,done:Ze}=oe.next())}catch($e){return void K.error($e)}Ze?K.complete():K.next(pe)},0,!0)}),()=>(0,de.m)(oe?.return)&&oe.return()})}(be,He);if((0,we.L)(be))return function Pe(be,He){return q((0,we.Q)(be),He)}(be,He)}throw(0,Ie.z)(be)}(be,He):(0,c.Xf)(be)}},8421:(ft,De,L)=>{L.d(De,{Xf:()=>Ue});var c=L(655),B=L(1144),P=L(8239),ee=L(9751),ne=L(3670),se=L(2206),he=L(4532),le=L(6495),de=L(3260),H=L(576),z=L(7849),q=L(8822);function Ue(Te){if(Te instanceof ee.y)return Te;if(null!=Te){if((0,ne.c)(Te))return function Ae(Te){return new ee.y(xe=>{const be=Te[q.L]();if((0,H.m)(be.subscribe))return be.subscribe(xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,B.z)(Te))return function Ge(Te){return new ee.y(xe=>{for(let be=0;be<Te.length&&!xe.closed;be++)xe.next(Te[be]);xe.complete()})}(Te);if((0,P.t)(Te))return function ot(Te){return new ee.y(xe=>{Te.then(be=>{xe.closed||(xe.next(be),xe.complete())},be=>xe.error(be)).then(null,z.h)})}(Te);if((0,se.D)(Te))return Ie(Te);if((0,le.T)(Te))return function fe(Te){return new ee.y(xe=>{for(const be of Te)if(xe.next(be),xe.closed)return;xe.complete()})}(Te);if((0,de.L)(Te))return function we(Te){return Ie((0,de.Q)(Te))}(Te)}throw(0,he.z)(Te)}function Ie(Te){return new ee.y(xe=>{(function Pe(Te,xe){var be,He,K,oe;return(0,c.mG)(this,void 0,void 0,function*(){try{for(be=(0,c.KL)(Te);!(He=yield be.next()).done;)if(xe.next(He.value),xe.closed)return}catch(pe){K={error:pe}}finally{try{He&&!He.done&&(oe=be.return)&&(yield oe.call(be))}finally{if(K)throw K.error}}xe.complete()})})(Te,xe).catch(be=>xe.error(be))})}},6451:(ft,De,L)=>{L.d(De,{T:()=>se});var c=L(8189),B=L(8421),P=L(515),ee=L(7669),ne=L(8996);function se(...he){const le=(0,ee.yG)(he),de=(0,ee._6)(he,1/0),H=he;return H.length?1===H.length?(0,B.Xf)(H[0]):(0,c.J)(de)((0,ne.D)(H,le)):P.E}},5403:(ft,De,L)=>{L.d(De,{x:()=>B});var c=L(2961);function B(ee,ne,se,he,le){return new P(ee,ne,se,he,le)}class P extends c.Lv{constructor(ne,se,he,le,de,H){super(ne),this.onFinalize=de,this.shouldUnsubscribe=H,this._next=se?function(z){try{se(z)}catch(q){ne.error(q)}}:super._next,this._error=le?function(z){try{le(z)}catch(q){ne.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(z){ne.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:se}=this;super.unsubscribe(),!se&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},4004:(ft,De,L)=>{L.d(De,{U:()=>P});var c=L(4482),B=L(5403);function P(ee,ne){return(0,c.e)((se,he)=>{let le=0;se.subscribe((0,B.x)(he,de=>{he.next(ee.call(ne,de,le++))}))})}},8189:(ft,De,L)=>{L.d(De,{J:()=>P});var c=L(5577),B=L(4671);function P(ee=1/0){return(0,c.z)(B.y,ee)}},5577:(ft,De,L)=>{L.d(De,{z:()=>le});var c=L(4004),B=L(8421),P=L(4482),ee=L(9672),ne=L(5403),he=L(576);function le(de,H,z=1/0){return(0,he.m)(H)?le((q,Ue)=>(0,c.U)((Ae,Ge)=>H(q,Ae,Ue,Ge))((0,B.Xf)(de(q,Ue))),z):("number"==typeof H&&(z=H),(0,P.e)((q,Ue)=>function se(de,H,z,q,Ue,Ae,Ge,ot){const fe=[];let Ie=0,we=0,Pe=!1;const Te=()=>{Pe&&!fe.length&&!Ie&&H.complete()},xe=He=>Ie<q?be(He):fe.push(He),be=He=>{Ae&&H.next(He),Ie++;let K=!1;(0,B.Xf)(z(He,we++)).subscribe((0,ne.x)(H,oe=>{Ue?.(oe),Ae?xe(oe):H.next(oe)},()=>{K=!0},void 0,()=>{if(K)try{for(Ie--;fe.length&&Ie<q;){const oe=fe.shift();Ge?(0,ee.f)(H,Ge,()=>be(oe)):be(oe)}Te()}catch(oe){H.error(oe)}}))};return de.subscribe((0,ne.x)(H,xe,()=>{Pe=!0,Te()})),()=>{ot?.()}}(q,Ue,de,z)))}},5363:(ft,De,L)=>{L.d(De,{Q:()=>ee});var c=L(9672),B=L(4482),P=L(5403);function ee(ne,se=0){return(0,B.e)((he,le)=>{he.subscribe((0,P.x)(le,de=>(0,c.f)(le,ne,()=>le.next(de),se),()=>(0,c.f)(le,ne,()=>le.complete(),se),de=>(0,c.f)(le,ne,()=>le.error(de),se)))})}},3099:(ft,De,L)=>{L.d(De,{B:()=>ne});var c=L(8421),B=L(7579),P=L(2961),ee=L(4482);function ne(he={}){const{connector:le=(()=>new B.x),resetOnError:de=!0,resetOnComplete:H=!0,resetOnRefCountZero:z=!0}=he;return q=>{let Ue,Ae,Ge,ot=0,fe=!1,Ie=!1;const we=()=>{Ae?.unsubscribe(),Ae=void 0},Pe=()=>{we(),Ue=Ge=void 0,fe=Ie=!1},Te=()=>{const xe=Ue;Pe(),xe?.unsubscribe()};return(0,ee.e)((xe,be)=>{ot++,!Ie&&!fe&&we();const He=Ge=Ge??le();be.add(()=>{ot--,0===ot&&!Ie&&!fe&&(Ae=se(Te,z))}),He.subscribe(be),!Ue&&ot>0&&(Ue=new P.Hp({next:K=>He.next(K),error:K=>{Ie=!0,we(),Ae=se(Pe,de,K),He.error(K)},complete:()=>{fe=!0,we(),Ae=se(Pe,H),He.complete()}}),(0,c.Xf)(xe).subscribe(Ue))})(q)}}function se(he,le,...de){if(!0===le)return void he();if(!1===le)return;const H=new P.Hp({next:()=>{H.unsubscribe(),he()}});return(0,c.Xf)(le(...de)).subscribe(H)}},9468:(ft,De,L)=>{L.d(De,{R:()=>B});var c=L(4482);function B(P,ee=0){return(0,c.e)((ne,se)=>{se.add(P.schedule(()=>ne.subscribe(se),ee))})}},8505:(ft,De,L)=>{L.d(De,{b:()=>ne});var c=L(576),B=L(4482),P=L(5403),ee=L(4671);function ne(se,he,le){const de=(0,c.m)(se)||he||le?{next:se,error:he,complete:le}:se;return de?(0,B.e)((H,z)=>{var q;null===(q=de.subscribe)||void 0===q||q.call(de);let Ue=!0;H.subscribe((0,P.x)(z,Ae=>{var Ge;null===(Ge=de.next)||void 0===Ge||Ge.call(de,Ae),z.next(Ae)},()=>{var Ae;Ue=!1,null===(Ae=de.complete)||void 0===Ae||Ae.call(de),z.complete()},Ae=>{var Ge;Ue=!1,null===(Ge=de.error)||void 0===Ge||Ge.call(de,Ae),z.error(Ae)},()=>{var Ae,Ge;Ue&&(null===(Ae=de.unsubscribe)||void 0===Ae||Ae.call(de)),null===(Ge=de.finalize)||void 0===Ge||Ge.call(de)}))}):ee.y}},4408:(ft,De,L)=>{L.d(De,{o:()=>ne});var c=L(727);class B extends c.w0{constructor(he,le){super()}schedule(he,le=0){return this}}const P={setInterval(se,he,...le){const{delegate:de}=P;return de?.setInterval?de.setInterval(se,he,...le):setInterval(se,he,...le)},clearInterval(se){const{delegate:he}=P;return(he?.clearInterval||clearInterval)(se)},delegate:void 0};var ee=L(8737);class ne extends B{constructor(he,le){super(he,le),this.scheduler=he,this.work=le,this.pending=!1}schedule(he,le=0){var de;if(this.closed)return this;this.state=he;const H=this.id,z=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId(z,H,le)),this.pending=!0,this.delay=le,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(z,this.id,le),this}requestAsyncId(he,le,de=0){return P.setInterval(he.flush.bind(he,this),de)}recycleAsyncId(he,le,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return le;null!=le&&P.clearInterval(le)}execute(he,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(he,le);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(he,le){let H,de=!1;try{this.work(he)}catch(z){de=!0,H=z||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:he,scheduler:le}=this,{actions:de}=le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(de,this),null!=he&&(this.id=this.recycleAsyncId(le,he,null)),this.delay=null,super.unsubscribe()}}}},7565:(ft,De,L)=>{L.d(De,{v:()=>P});var c=L(6063);class B{constructor(ne,se=B.now){this.schedulerActionCtor=ne,this.now=se}schedule(ne,se=0,he){return new this.schedulerActionCtor(this,ne).schedule(he,se)}}B.now=c.l.now;class P extends B{constructor(ne,se=B.now){super(ne,se),this.actions=[],this._active=!1}flush(ne){const{actions:se}=this;if(this._active)return void se.push(ne);let he;this._active=!0;do{if(he=ne.execute(ne.state,ne.delay))break}while(ne=se.shift());if(this._active=!1,he){for(;ne=se.shift();)ne.unsubscribe();throw he}}}},4986:(ft,De,L)=>{L.d(De,{z:()=>P});var c=L(4408);const P=new(L(7565).v)(c.o)},6063:(ft,De,L)=>{L.d(De,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(ft,De,L)=>{L.d(De,{z:()=>c});const c={setTimeout(B,P,...ee){const{delegate:ne}=c;return ne?.setTimeout?ne.setTimeout(B,P,...ee):setTimeout(B,P,...ee)},clearTimeout(B){const{delegate:P}=c;return(P?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(ft,De,L)=>{L.d(De,{h:()=>B});const B=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ft,De,L)=>{L.d(De,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ft,De,L)=>{L.d(De,{_6:()=>se,jO:()=>ee,yG:()=>ne});var c=L(576);function P(he){return he[he.length-1]}function ee(he){return(0,c.m)(P(he))?he.pop():void 0}function ne(he){return function B(he){return he&&(0,c.m)(he.schedule)}(P(he))?he.pop():void 0}function se(he,le){return"number"==typeof P(he)?he.pop():le}},8737:(ft,De,L)=>{function c(B,P){if(B){const ee=B.indexOf(P);0<=ee&&B.splice(ee,1)}}L.d(De,{P:()=>c})},3888:(ft,De,L)=>{function c(B){const ee=B(ne=>{Error.call(ne),ne.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}L.d(De,{d:()=>c})},2806:(ft,De,L)=>{L.d(De,{O:()=>ee,x:()=>P});var c=L(2416);let B=null;function P(ne){if(c.v.useDeprecatedSynchronousErrorHandling){const se=!B;if(se&&(B={errorThrown:!1,error:null}),ne(),se){const{errorThrown:he,error:le}=B;if(B=null,he)throw le}}else ne()}function ee(ne){c.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=ne)}},9672:(ft,De,L)=>{function c(B,P,ee,ne=0,se=!1){const he=P.schedule(function(){ee(),se?B.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(B.add(he),!se)return he}L.d(De,{f:()=>c})},4671:(ft,De,L)=>{function c(B){return B}L.d(De,{y:()=>c})},1144:(ft,De,L)=>{L.d(De,{z:()=>c});const c=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(ft,De,L)=>{L.d(De,{D:()=>B});var c=L(576);function B(P){return Symbol.asyncIterator&&(0,c.m)(P?.[Symbol.asyncIterator])}},576:(ft,De,L)=>{function c(B){return"function"==typeof B}L.d(De,{m:()=>c})},3670:(ft,De,L)=>{L.d(De,{c:()=>P});var c=L(8822),B=L(576);function P(ee){return(0,B.m)(ee[c.L])}},6495:(ft,De,L)=>{L.d(De,{T:()=>P});var c=L(2202),B=L(576);function P(ee){return(0,B.m)(ee?.[c.h])}},8239:(ft,De,L)=>{L.d(De,{t:()=>B});var c=L(576);function B(P){return(0,c.m)(P?.then)}},3260:(ft,De,L)=>{L.d(De,{L:()=>ee,Q:()=>P});var c=L(655),B=L(576);function P(ne){return(0,c.FC)(this,arguments,function*(){const he=ne.getReader();try{for(;;){const{value:le,done:de}=yield(0,c.qq)(he.read());if(de)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(le)}}finally{he.releaseLock()}})}function ee(ne){return(0,B.m)(ne?.getReader)}},4482:(ft,De,L)=>{L.d(De,{A:()=>B,e:()=>P});var c=L(576);function B(ee){return(0,c.m)(ee?.lift)}function P(ee){return ne=>{if(B(ne))return ne.lift(function(se){try{return ee(se,this)}catch(he){this.error(he)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(ft,De,L)=>{L.d(De,{U:()=>P,z:()=>B});var c=L(4671);function B(...ee){return P(ee)}function P(ee){return 0===ee.length?c.y:1===ee.length?ee[0]:function(se){return ee.reduce((he,le)=>le(he),se)}}},7849:(ft,De,L)=>{L.d(De,{h:()=>P});var c=L(2416),B=L(3410);function P(ee){B.z.setTimeout(()=>{const{onUnhandledError:ne}=c.v;if(!ne)throw ee;ne(ee)})}},4532:(ft,De,L)=>{function c(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(De,{z:()=>c})},655:(ft,De,L)=>{function ee(re,ce){var ye={};for(var Me in re)Object.prototype.hasOwnProperty.call(re,Me)&&ce.indexOf(Me)<0&&(ye[Me]=re[Me]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(Me=Object.getOwnPropertySymbols(re);ke<Me.length;ke++)ce.indexOf(Me[ke])<0&&Object.prototype.propertyIsEnumerable.call(re,Me[ke])&&(ye[Me[ke]]=re[Me[ke]])}return ye}function q(re,ce,ye,Me){return new(ye||(ye=Promise))(function(Ve,et){function Ke(dt){try{mt(Me.next(dt))}catch(tt){et(tt)}}function rn(dt){try{mt(Me.throw(dt))}catch(tt){et(tt)}}function mt(dt){dt.done?Ve(dt.value):function ke(Ve){return Ve instanceof ye?Ve:new ye(function(et){et(Ve)})}(dt.value).then(Ke,rn)}mt((Me=Me.apply(re,ce||[])).next())})}function Te(re){return this instanceof Te?(this.v=re,this):new Te(re)}function xe(re,ce,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,Me=ye.apply(re,ce||[]),Ve=[];return ke={},et("next"),et("throw"),et("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function et(tn){Me[tn]&&(ke[tn]=function(Ln){return new Promise(function(cn,sn){Ve.push([tn,Ln,cn,sn])>1||Ke(tn,Ln)})})}function Ke(tn,Ln){try{!function rn(tn){tn.value instanceof Te?Promise.resolve(tn.value.v).then(mt,dt):tt(Ve[0][2],tn)}(Me[tn](Ln))}catch(cn){tt(Ve[0][3],cn)}}function mt(tn){Ke("next",tn)}function dt(tn){Ke("throw",tn)}function tt(tn,Ln){tn(Ln),Ve.shift(),Ve.length&&Ke(Ve[0][0],Ve[0][1])}}function He(re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,ce=re[Symbol.asyncIterator];return ce?ce.call(re):(re=function ot(re){var ce="function"==typeof Symbol&&Symbol.iterator,ye=ce&&re[ce],Me=0;if(ye)return ye.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&Me>=re.length&&(re=void 0),{value:re&&re[Me++],done:!re}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(re),ye={},Me("next"),Me("throw"),Me("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function Me(Ve){ye[Ve]=re[Ve]&&function(et){return new Promise(function(Ke,rn){!function ke(Ve,et,Ke,rn){Promise.resolve(rn).then(function(mt){Ve({value:mt,done:Ke})},et)}(Ke,rn,(et=re[Ve](et)).done,et.value)})}}}L.d(De,{FC:()=>xe,KL:()=>He,_T:()=>ee,mG:()=>q,qq:()=>Te})},4650:(ft,De,L)=>{L.d(De,{$8M:()=>wo,$WT:()=>Xr,$Z:()=>H0,AFp:()=>vf,AaK:()=>le,CHM:()=>wc,CRH:()=>Lv,CZH:()=>ie,CqO:()=>Ew,D6c:()=>_b,EJc:()=>hs,EpF:()=>ky,F4k:()=>PC,FYo:()=>C0,FiY:()=>Vi,GfV:()=>D0,Gpc:()=>z,JOm:()=>hi,KtG:()=>Bd,LFG:()=>Be,LSH:()=>yh,Lbi:()=>OD,Lck:()=>hD,MAs:()=>xC,MMx:()=>Pa,NdJ:()=>$p,OlP:()=>vn,Oqu:()=>Qy,P3R:()=>Zm,PXZ:()=>rb,Q6J:()=>Uh,QGY:()=>$l,Qsj:()=>BE,R0b:()=>Ls,RDi:()=>wE,Rgc:()=>yd,SBq:()=>ba,Sil:()=>kD,Suo:()=>Fv,TTD:()=>js,TgZ:()=>ed,Udp:()=>Zy,VKq:()=>TI,X6Q:()=>If,XFs:()=>it,Xpm:()=>jr,Xts:()=>yu,Y36:()=>Yc,YKP:()=>yg,YNc:()=>Bp,Yjl:()=>Hu,Yz7:()=>tt,Z0I:()=>sn,ZZ4:()=>jg,_Bn:()=>dd,_UZ:()=>bw,_Vd:()=>_u,_c5:()=>Hg,_uU:()=>Hw,aQg:()=>a_,c2e:()=>Wv,cJS:()=>Ln,cg1:()=>Rs,dDg:()=>nb,dqk:()=>xt,eFA:()=>Cr,eJc:()=>$v,ekj:()=>qy,eoX:()=>e_,f3M:()=>nt,g9A:()=>ka,h0i:()=>Ns,hGG:()=>vb,hij:()=>Hh,iGM:()=>kv,ifc:()=>O,ip1:()=>Mg,jDz:()=>tf,kL8:()=>Xw,lG2:()=>$u,lqb:()=>Pl,lri:()=>Jv,n5z:()=>ua,oAB:()=>$a,oJD:()=>l0,oxw:()=>Fy,q4F:()=>ty,qLn:()=>bh,qOj:()=>Ay,qZA:()=>jp,rWj:()=>tb,s9C:()=>Hp,sBO:()=>sc,s_b:()=>hf,soG:()=>xg,tb:()=>Yn,tp0:()=>fa,uIk:()=>gw,vHH:()=>fe,vpe:()=>Lo,wAp:()=>At,xp6:()=>N0,z2F:()=>ao,zSh:()=>Ym,zs3:()=>Wc});var c=L(7579),B=L(727),P=L(9751),ee=L(6451),ne=L(3099);function se(i){for(let s in i)if(i[s]===se)return s;throw Error("Could not find renamed property on target object.")}function he(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function le(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(le).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function de(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const H=se({__forward_ref__:se});function z(i){return i.__forward_ref__=z,i.toString=function(){return le(this())},i}function q(i){return Ue(i)?i():i}function Ue(i){return"function"==typeof i&&i.hasOwnProperty(H)&&i.__forward_ref__===z}function Ae(i){return i&&!!i.\u0275providers}const ot="https://g.co/ng/security#xss";class fe extends Error{constructor(s,a){super(Ie(s,a)),this.code=s}}function Ie(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}function we(i){return"string"==typeof i?i:null==i?"":String(i)}function He(i,s){throw new fe(-201,!1)}function et(i,s){null==i&&function Ke(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function tt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Ln(i){return{providers:i.providers||[],imports:i.imports||[]}}function cn(i){return Jn(i,oi)||Jn(i,mn)}function sn(i){return null!==cn(i)}function Jn(i,s){return i.hasOwnProperty(s)?i[s]:null}function Vn(i){return i&&(i.hasOwnProperty(ai)||i.hasOwnProperty(or))?i[ai]:null}const oi=se({\u0275prov:se}),ai=se({\u0275inj:se}),mn=se({ngInjectableDef:se}),or=se({ngInjectorDef:se});var it=(()=>((it=it||{})[it.Default=0]="Default",it[it.Host=1]="Host",it[it.Self=2]="Self",it[it.SkipSelf=4]="SkipSelf",it[it.Optional=8]="Optional",it))();let pr;function Zn(i){const s=pr;return pr=i,s}function Un(i,s,a){const l=cn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&it.Optional?null:void 0!==s?s:void He(le(i))}const xt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Mn={},qn="__NG_DI_FLAG__",mr="ngTempTokenPath",er="ngTokenPath",vi=/\n/gm,Ut="\u0275",_i="__source";let Gt;function Br(i){const s=Gt;return Gt=i,s}function Bn(i,s=it.Default){if(void 0===Gt)throw new fe(-203,!1);return null===Gt?Un(i,void 0,s):Gt.get(i,s&it.Optional?null:void 0,s)}function Be(i,s=it.Default){return(function gr(){return pr}()||Bn)(q(i),s)}function nt(i,s=it.Default){return Be(i,yt(s))}function yt(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Tt(i){const s=[];for(let a=0;a<i.length;a++){const l=q(i[a]);if(Array.isArray(l)){if(0===l.length)throw new fe(900,!1);let h,f=it.Default;for(let y=0;y<l.length;y++){const w=l[y],b=jn(w);"number"==typeof b?-1===b?h=w.token:f|=b:h=w}s.push(Be(h,f))}else s.push(Be(l))}return s}function Yt(i,s){return i[qn]=s,i.prototype[qn]=s,i}function jn(i){return i[qn]}function R(i){return{toString:i}.toString()}var F=(()=>((F=F||{})[F.OnPush=0]="OnPush",F[F.Default=1]="Default",F))(),O=(()=>{return(i=O||(O={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",O;var i})();const Y={},ae=[],st=se({\u0275cmp:se}),It=se({\u0275dir:se}),St=se({\u0275pipe:se}),qt=se({\u0275mod:se}),bt=se({\u0275fac:se}),yn=se({__NG_ELEMENT_ID__:se});let Bt=0;function jr(i){return R(()=>{const s=_r(i),a={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,data:i.data||{},encapsulation:i.encapsulation||O.Emulated,id:"c"+Bt++,styles:i.styles||ae,_:null,schemas:i.schemas||null,tView:null};zu(a);const l=i.dependencies;return a.directiveDefs=ys(l,!1),a.pipeDefs=ys(l,!0),a})}function ja(i){return nn(i)||$n(i)}function ju(i){return null!==i}function $a(i){return R(()=>({type:i.type,bootstrap:i.bootstrap||ae,declarations:i.declarations||ae,imports:i.imports||ae,exports:i.exports||ae,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function jo(i,s){if(null==i)return Y;const a={};for(const l in i)if(i.hasOwnProperty(l)){let h=i[l],f=h;Array.isArray(h)&&(f=h[1],h=h[0]),a[h]=l,s&&(s[h]=f)}return a}function $u(i){return R(()=>{const s=_r(i);return zu(s),s})}function Hu(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function nn(i){return i[st]||null}function $n(i){return i[It]||null}function vr(i){return i[St]||null}function Xr(i){const s=nn(i)||$n(i)||vr(i);return null!==s&&s.standalone}function $r(i,s){const a=i[qt]||null;if(!a&&!0===s)throw new Error(`Type ${le(i)} does not have '\u0275mod' property.`);return a}function _r(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,exportAs:i.exportAs||null,standalone:!0===i.standalone,selectors:i.selectors||ae,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:jo(i.inputs,s),outputs:jo(i.outputs)}}function zu(i){i.features?.forEach(s=>s(i))}function ys(i,s){if(!i)return null;const a=s?vr:ja;return()=>("function"==typeof i?i():i).map(l=>a(l)).filter(ju)}const Oi=0,Xe=1,jt=2,gn=3,Hr=4,Gi=5,Dn=6,Zi=7,xn=8,vs=9,Gu=10,kt=11,Ha=12,_s=13,$o=14,Us=15,Dr=16,ws=17,qi=18,ar=19,uo=20,Vd=21,Pt=22,Ho=1,hc=2,Wi=7,Pi=8,Is=9,Ar=10;function Tr(i){return Array.isArray(i)&&"object"==typeof i[Ho]}function ur(i){return Array.isArray(i)&&!0===i[Ho]}function Zu(i){return 0!=(4&i.flags)}function za(i){return i.componentOffset>-1}function Ri(i){return 1==(1&i.flags)}function Ni(i){return!!i.template}function zo(i){return 0!=(256&i[jt])}function li(i,s){return i.hasOwnProperty(bt)?i[bt]:null}class Za{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function js(){return Zo}function Zo(i){return i.type.prototype.ngOnChanges&&(i.setInput=qo),$s}function $s(){const i=Wa(this),s=i?.current;if(s){const a=i.previous;if(a===Y)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function qo(i,s,a,l){const h=this.declaredInputs[a],f=Wa(i)||function qu(i,s){return i[qa]=s}(i,{previous:Y,current:null}),y=f.current||(f.current={}),w=f.previous,b=w[h];y[h]=new Za(b&&b.currentValue,s,w===Y),i[l]=s}js.ngInherit=!0;const qa="__ngSimpleChanges__";function Wa(i){return i[qa]||null}const un=function(i,s,a){};function On(i){for(;Array.isArray(i);)i=i[Oi];return i}function Es(i,s){return On(s[i])}function lr(i,s){return On(s[i.index])}function Ko(i,s){return i.data[s]}function cr(i,s){const a=s[i];return Tr(a)?a:a[Oi]}function Hs(i){return 64==(64&i[jt])}function wi(i,s){return null==s?null:i[s]}function Ka(i){i[qi]=0}function Yo(i,s){i[Gi]+=s;let a=i,l=i[gn];for(;null!==l&&(1===s&&1===a[Gi]||-1===s&&0===a[Gi]);)l[Gi]+=s,a=l,l=l[gn]}const Ot={lFrame:Xf(null),bindingsEnabled:!0};function _c(){return Ot.bindingsEnabled}function Se(){return Ot.lFrame.lView}function Xt(){return Ot.lFrame.tView}function wc(i){return Ot.lFrame.contextLView=i,i[xn]}function Bd(i){return Ot.lFrame.contextLView=null,i}function Hn(){let i=jd();for(;null!==i&&64===i.type;)i=i.parent;return i}function jd(){return Ot.lFrame.currentTNode}function Ii(i,s){const a=Ot.lFrame;a.currentTNode=i,a.isParent=s}function Qa(){return Ot.lFrame.isParent}function zs(){return Ot.lFrame.bindingIndex++}function sl(i,s){const a=Ot.lFrame;a.bindingIndex=a.bindingRootIndex=i,Yi(s)}function Yi(i){Ot.lFrame.currentDirectiveIndex=i}function bc(){return Ot.lFrame.currentQueryIndex}function tu(i){Ot.lFrame.currentQueryIndex=i}function Qf(i){const s=i[Xe];return 2===s.type?s.declTNode:1===s.type?i[Dn]:null}function al(i,s,a){if(a&it.SkipSelf){let h=s,f=i;for(;!(h=h.parent,null!==h||a&it.Host||(h=Qf(f),null===h||(f=f[Us],10&h.type))););if(null===h)return!1;s=h,i=f}const l=Ot.lFrame=pm();return l.currentTNode=s,l.lView=i,!0}function Ec(i){const s=pm(),a=i[Xe];Ot.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function pm(){const i=Ot.lFrame,s=null===i?null:i.child;return null===s?Xf(i):s}function Xf(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function ul(){const i=Ot.lFrame;return Ot.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const gm=ul;function Hd(){const i=ul();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function zr(){return Ot.lFrame.selectedIndex}function Ds(i){Ot.lFrame.selectedIndex=i}function hn(){const i=Ot.lFrame;return Ko(i.tView,i.selectedIndex)}function ll(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:b,ngAfterViewChecked:A,ngOnDestroy:x}=f;y&&(i.contentHooks??(i.contentHooks=[])).push(-a,y),w&&((i.contentHooks??(i.contentHooks=[])).push(a,w),(i.contentCheckHooks??(i.contentCheckHooks=[])).push(a,w)),b&&(i.viewHooks??(i.viewHooks=[])).push(-a,b),A&&((i.viewHooks??(i.viewHooks=[])).push(a,A),(i.viewCheckHooks??(i.viewCheckHooks=[])).push(a,A)),null!=x&&(i.destroyHooks??(i.destroyHooks=[])).push(a,x)}}function Xo(i,s,a){bi(i,s,3,a)}function po(i,s,a,l){(3&i[jt])===a&&bi(i,s,a,l)}function Jo(i,s){let a=i[jt];(3&a)===s&&(a&=2047,a+=1,i[jt]=a)}function bi(i,s,a,l){const f=l??-1,y=s.length-1;let w=0;for(let b=void 0!==l?65535&i[qi]:0;b<y;b++)if("number"==typeof s[b+1]){if(w=s[b],null!=l&&w>=l)break}else s[b]<0&&(i[qi]+=65536),(w<f||-1==f)&&(Dc(i,a,s,b),i[qi]=(4294901760&i[qi])+b+2),b++}function Dc(i,s,a,l){const h=a[l]<0,f=a[l+1],w=i[h?-a[l]:a[l]];if(h){if(i[jt]>>11<i[qi]>>16&&(3&i[jt])===s){i[jt]+=2048,un(4,w,f);try{f.call(w)}finally{un(5,w,f)}}}else{un(4,w,f);try{f.call(w)}finally{un(5,w,f)}}}const Ei=-1;class ea{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function go(i,s,a){let l=0;for(;l<a.length;){const h=a[l];if("number"==typeof h){if(0!==h)break;l++;const f=a[l++],y=a[l++],w=a[l++];i.setAttribute(s,y,w,f)}else{const f=h,y=a[++l];mo(f)?i.setProperty(s,f,y):i.setAttribute(s,f,y),l++}}return l}function In(i){return 3===i||4===i||6===i}function mo(i){return 64===i.charCodeAt(0)}function Li(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const h=s[l];"number"==typeof h?a=h:0===a||ra(i,a,h,null,-1===a||2===a?s[++l]:null)}}return i}function ra(i,s,a,l,h){let f=0,y=i.length;if(-1===s)y=-1;else for(;f<i.length;){const w=i[f++];if("number"==typeof w){if(w===s){y=-1;break}if(w>s){y=f-1;break}}}for(;f<i.length;){const w=i[f];if("number"==typeof w)break;if(w===a){if(null===l)return void(null!==h&&(i[f+1]=h));if(l===i[f+1])return void(i[f+2]=h)}f++,null!==l&&f++,null!==h&&f++}-1!==y&&(i.splice(y,0,s),f=y+1),i.splice(f++,0,a),null!==l&&i.splice(f++,0,l),null!==h&&i.splice(f++,0,h)}function ia(i){return i!==Ei}function iu(i){return 32767&i}function Gs(i,s){let a=function Gd(i){return i>>16}(i),l=s;for(;a>0;)l=l[Us],a--;return l}let su=!0;function Qi(i){const s=su;return su=i,s}const Xi=255,yo=5;let sa=0;const Gr={};function Zs(i,s){const a=_o(i,s);if(-1!==a)return a;const l=s[Xe];l.firstCreatePass&&(i.injectorIndex=s.length,vo(l.data,i),vo(s,null),vo(l.blueprint,null));const h=qs(i,s),f=i.injectorIndex;if(ia(h)){const y=iu(h),w=Gs(h,s),b=w[Xe].data;for(let A=0;A<8;A++)s[f+A]=w[y+A]|b[y+A]}return s[f+8]=h,f}function vo(i,s){i.push(0,0,0,0,0,0,0,0,s)}function _o(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function qs(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,h=s;for(;null!==h;){if(l=Mc(h),null===l)return Ei;if(a++,h=h[Us],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return Ei}function oa(i,s,a){!function ou(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(yn)&&(l=a[yn]),null==l&&(l=a[yn]=sa++);const h=l&Xi;s.data[i+(h>>yo)]|=1<<h}(i,s,a)}function au(i,s,a){if(a&it.Optional||void 0!==i)return i;He()}function hl(i,s,a,l){if(a&it.Optional&&void 0===l&&(l=null),!(a&(it.Self|it.Host))){const h=i[vs],f=Zn(void 0);try{return h?h.get(s,l,a&it.Optional):Un(s,l,a&it.Optional)}finally{Zn(f)}}return au(l,0,a)}function uu(i,s,a,l=it.Default,h){if(null!==i){if(1024&s[jt]){const y=function Sc(i,s,a,l,h){let f=i,y=s;for(;null!==f&&null!==y&&1024&y[jt]&&!(256&y[jt]);){const w=Tc(f,y,a,l|it.Self,Gr);if(w!==Gr)return w;let b=f.parent;if(!b){const A=y[Vd];if(A){const x=A.get(a,Gr,l);if(x!==Gr)return x}b=Mc(y),y=y[Us]}f=b}return h}(i,s,a,l,Gr);if(y!==Gr)return y}const f=Tc(i,s,a,l,Gr);if(f!==Gr)return f}return hl(s,a,l,h)}function Tc(i,s,a,l,h){const f=function aa(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(yn)?i[yn]:void 0;return"number"==typeof s?s>=0?s&Xi:pl:s}(a);if("function"==typeof f){if(!al(s,i,l))return l&it.Host?au(h,0,l):hl(s,a,l,h);try{const y=f(l);if(null!=y||l&it.Optional)return y;He()}finally{gm()}}else if("number"==typeof f){let y=null,w=_o(i,s),b=Ei,A=l&it.Host?s[Dr][Dn]:null;for((-1===w||l&it.SkipSelf)&&(b=-1===w?qs(i,s):s[w+8],b!==Ei&&cu(l,!1)?(y=s[Xe],w=iu(b),s=Gs(b,s)):w=-1);-1!==w;){const x=s[Xe];if(fl(f,w,x.data)){const U=Ci(w,s,a,y,l,A);if(U!==Gr)return U}b=s[w+8],b!==Ei&&cu(l,s[Xe].data[w+8]===A)&&fl(f,w,s)?(y=x,w=iu(b),s=Gs(b,s)):w=-1}}return h}function Ci(i,s,a,l,h,f){const y=s[Xe],w=y.data[i+8],x=lu(w,y,a,null==l?za(w)&&su:l!=y&&0!=(3&w.type),h&it.Host&&f===w);return null!==x?Ji(s,y,x,w):Gr}function lu(i,s,a,l,h){const f=i.providerIndexes,y=s.data,w=1048575&f,b=i.directiveStart,x=f>>20,Z=h?w+x:i.directiveEnd;for(let Q=l?w:w+x;Q<Z;Q++){const me=y[Q];if(Q<b&&a===me||Q>=b&&me.type===a)return Q}if(h){const Q=y[b];if(Q&&Ni(Q)&&Q.type===a)return b}return null}function Ji(i,s,a,l){let h=i[a];const f=s.data;if(function Ac(i){return i instanceof ea}(h)){const y=h;y.resolving&&function Te(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new fe(-200,`Circular dependency in DI detected for ${i}${a}`)}(function Pe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():we(i)}(f[a]));const w=Qi(y.canSeeViewProviders);y.resolving=!0;const b=y.injectImpl?Zn(y.injectImpl):null;al(i,l,it.Default);try{h=i[a]=y.factory(void 0,f,i,l),s.firstCreatePass&&a>=l.directiveStart&&function zd(i,s,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:f}=s.type.prototype;if(l){const y=Zo(s);(a.preOrderHooks??(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(i,y)}h&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-i,h),f&&((a.preOrderHooks??(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==b&&Zn(b),Qi(w),y.resolving=!1,gm()}}return h}function fl(i,s,a){return!!(a[s+(i>>yo)]&1<<i)}function cu(i,s){return!(i&it.Self||i&it.Host&&s)}class Zr{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return uu(this._tNode,this._lView,s,yt(l),a)}}function pl(){return new Zr(Hn(),Se())}function ua(i){return R(()=>{const s=i.prototype.constructor,a=s[bt]||gl(s),l=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==l;){const f=h[bt]||gl(h);if(f&&f!==a)return f;h=Object.getPrototypeOf(h)}return f=>new f})}function gl(i){return Ue(i)?()=>{const s=gl(q(i));return s&&s()}:li(i)}function Mc(i){const s=i[Xe],a=s.type;return 2===a?s.declTNode:1===a?i[Dn]:null}function wo(i){return function qd(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const f=a[h];if(In(f))break;if(0===f)h+=2;else if("number"==typeof f)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(f===s)return a[h+1];h+=2}}}return null}(Hn(),i)}const Ws="__parameters__";function Ks(i,s,a){return R(()=>{const l=function xc(i){return function(...a){if(i){const l=i(...a);for(const h in l)this[h]=l[h]}}}(s);function h(...f){if(this instanceof h)return l.apply(this,f),this;const y=new h(...f);return w.annotation=y,w;function w(b,A,x){const U=b.hasOwnProperty(Ws)?b[Ws]:Object.defineProperty(b,Ws,{value:[]})[Ws];for(;U.length<=x;)U.push(null);return(U[x]=U[x]||[]).push(y),b}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}class vn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=tt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ts(i,s){i.forEach(a=>Array.isArray(a)?Ts(a,s):s(a))}function wl(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Qs(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Wt(i,s,a){let l=lt(i,s);return l>=0?i[1|l]=a:(l=~l,function ca(i,s,a,l){let h=i.length;if(h==s)i.push(a,l);else if(1===h)i.push(l,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>s;)i[h]=i[h-2],h--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function Js(i,s){const a=lt(i,s);if(a>=0)return i[1|a]}function lt(i,s){return function hr(i,s,a){let l=0,h=i.length>>a;for(;h!==l;){const f=l+(h-l>>1),y=i[f<<a];if(s===y)return f<<a;y>s?h=f:l=f+1}return~(h<<a)}(i,s,1)}const Vi=Yt(Ks("Optional"),8),fa=Yt(Ks("SkipSelf"),4);var hi=(()=>((hi=hi||{})[hi.Important=1]="Important",hi[hi.DashCase=2]="DashCase",hi))();const Ui=new Map;let op=0;const nh="__ngContext__";function Ir(i,s){Tr(s)?(i[nh]=s[uo],function ap(i){Ui.set(i[uo],i)}(s)):i[nh]=s}let fu;function v(i,s){return fu(i,s)}function g(i){const s=i[gn];return ur(s)?s[gn]:s}function k(i){return Ce(i[_s])}function X(i){return Ce(i[Hr])}function Ce(i){for(;null!==i&&!ur(i);)i=i[Hr];return i}function We(i,s,a,l,h){if(null!=l){let f,y=!1;ur(l)?f=l:Tr(l)&&(y=!0,l=l[Oi]);const w=On(l);0===i&&null!==a?null==h?Z_(s,a,w):mu(s,a,w,h||null,!0):1===i&&null!==a?mu(s,a,w,h||null,!0):2===i?function dh(i,s,a){const l=ch(i,s);l&&function uh(i,s,a,l){i.removeChild(s,a,l)}(i,l,s,a)}(s,w,y):3===i&&s.destroyNode(w),null!=f&&function So(i,s,a,l,h){const f=a[Wi];f!==On(a)&&We(s,i,l,f,h);for(let w=Ar;w<a.length;w++){const b=a[w];$c(b[Xe],b,i,s,l,f)}}(s,i,f,a,h)}}function Bi(i,s,a){return i.createElement(s,a)}function Uc(i,s){const a=i[Is],l=a.indexOf(s),h=s[gn];512&s[jt]&&(s[jt]&=-513,Yo(h,-1)),a.splice(l,1)}function pu(i,s){if(i.length<=Ar)return;const a=Ar+s,l=i[a];if(l){const h=l[ws];null!==h&&h!==i&&Uc(h,l),s>0&&(i[a-1][Hr]=l[Hr]);const f=Qs(i,Ar+s);!function Ao(i,s){$c(i,s,s[kt],2,null,null),s[Oi]=null,s[Dn]=null}(l[Xe],l);const y=f[ar];null!==y&&y.detachView(f[Xe]),l[gn]=null,l[Hr]=null,l[jt]&=-65}return l}function gu(i,s){if(!(128&s[jt])){const a=s[kt];a.destroyNode&&$c(i,s,a,3,null,null),function ih(i){let s=i[_s];if(!s)return Sl(i[Xe],i);for(;s;){let a=null;if(Tr(s))a=s[_s];else{const l=s[Ar];l&&(a=l)}if(!a){for(;s&&!s[Hr]&&s!==i;)Tr(s)&&Sl(s[Xe],s),s=s[gn];null===s&&(s=i),Tr(s)&&Sl(s[Xe],s),a=s&&s[Hr]}s=a}}(s)}}function Sl(i,s){if(!(128&s[jt])){s[jt]&=-65,s[jt]|=128,function sh(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const h=s[a[l]];if(!(h instanceof ea)){const f=a[l+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const w=h[f[y]],b=f[y+1];un(4,w,b);try{b.call(w)}finally{un(5,w,b)}}else{un(4,h,f);try{f.call(h)}finally{un(5,h,f)}}}}}(i,s),function To(i,s){const a=i.cleanup,l=s[Zi];let h=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const y=a[f+3];y>=0?l[h=y]():l[h=-y].unsubscribe(),f+=2}else{const y=l[h=a[f+1]];a[f].call(y)}if(null!==l){for(let f=h+1;f<l.length;f++)(0,l[f])();s[Zi]=null}}(i,s),1===s[Xe].type&&s[kt].destroy();const a=s[ws];if(null!==a&&ur(s[gn])){a!==s[gn]&&Uc(a,s);const l=s[ar];null!==l&&l.detachView(i)}!function Pr(i){Ui.delete(i[uo])}(s)}}function oh(i,s,a){return function ah(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[Oi];{const{componentOffset:h}=l;if(h>-1){const{encapsulation:f}=i.data[l.directiveStart+h];if(f===O.None||f===O.Emulated)return null}return lr(l,a)}}(i,s.parent,a)}function mu(i,s,a,l,h){i.insertBefore(s,a,l,h)}function Z_(i,s,a){i.appendChild(s,a)}function Bc(i,s,a,l,h){null!==l?mu(i,s,a,l,h):Z_(i,s,a)}function ch(i,s){return i.parentNode(s)}let Tm,zc,Rm,fp,W_=function Ml(i,s,a){return 40&i.type?lr(i,a):null};function hp(i,s,a,l){const h=oh(i,l,s),f=s[kt],w=function Am(i,s,a){return W_(i,s,a)}(l.parent||s[Dn],l,s);if(null!=h)if(Array.isArray(a))for(let b=0;b<a.length;b++)Bc(f,h,a[b],w,!1);else Bc(f,h,a,w,!1);void 0!==Tm&&Tm(f,l,s,a,h)}function jc(i,s){if(null!==s){const a=s.type;if(3&a)return lr(s,i);if(4&a)return Mm(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return jc(i,l);{const h=i[s.index];return ur(h)?Mm(-1,h):On(h)}}if(32&a)return v(s,i)()||On(i[s.index]);{const l=xl(i,s);return null!==l?Array.isArray(l)?l[0]:jc(g(i[Dr]),l):jc(i,s.next)}}return null}function xl(i,s){return null!==s?i[Dr][Dn].projection[s.projection]:null}function Mm(i,s){const a=Ar+i+1;if(a<s.length){const l=s[a],h=l[Xe].firstChild;if(null!==h)return jc(l,h)}return s[Wi]}function xm(i,s,a,l,h,f,y){for(;null!=a;){const w=l[a.index],b=a.type;if(y&&0===s&&(w&&Ir(On(w),l),a.flags|=2),32!=(32&a.flags))if(8&b)xm(i,s,a.child,l,h,f,!1),We(s,i,h,w,f);else if(32&b){const A=v(a,l);let x;for(;x=A();)We(s,i,h,x,f);We(s,i,h,w,f)}else 16&b?Hc(i,s,l,a,h,f):We(s,i,h,w,f);a=y?a.projectionNext:a.next}}function $c(i,s,a,l,h,f){xm(a,l,i.firstChild,s,h,f,!1)}function Hc(i,s,a,l,h,f){const y=a[Dr],b=y[Dn].projection[l.projection];if(Array.isArray(b))for(let A=0;A<b.length;A++)We(s,i,h,b[A],f);else xm(i,s,b,y[gn],h,f,!0)}function hh(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function fh(i,s,a){const{mergedAttrs:l,classes:h,styles:f}=a;null!==l&&go(i,s,l),null!==h&&hh(i,s,h),null!==f&&function Ol(i,s,a){i.setAttribute(s,"style",a)}(i,s,f)}function Gc(i){return function Pm(){if(void 0===zc&&(zc=null,xt.trustedTypes))try{zc=xt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return zc}()?.createHTML(i)||i}function wE(i){Rm=i}function Nm(){if(void 0===fp&&(fp=null,xt.trustedTypes))try{fp=xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return fp}function km(i){return Nm()?.createHTML(i)||i}function X_(i){return Nm()?.createScriptURL(i)||i}class J_{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ot})`}}function fi(i){return i instanceof J_?i.changingThisBreaksApplicationSecurity:i}function Mo(i,s){const a=function t0(i){return i instanceof J_&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${ot})`)}return a===s}class n0{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Gc(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class Vm{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=Gc(s),a}}const Um=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function mh(i){return(i=String(i)).match(Um)?i:"unsafe:"+i}function wa(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function Ia(...i){const s={};for(const a of i)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const s0=wa("area,br,col,hr,img,wbr"),o0=wa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pp=wa("rp,rt"),gp=Ia(s0,Ia(o0,wa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ia(pp,wa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ia(pp,o0)),Bm=wa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$m=Ia(Bm,wa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),wa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),SE=wa("script,style,template");class ME{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!gp.hasOwnProperty(a))return this.sanitizedSomething=!0,!SE.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=s.attributes;for(let h=0;h<l.length;h++){const f=l.item(h),y=f.name,w=y.toLowerCase();if(!$m.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let b=f.value;Bm[w]&&(b=mh(b)),this.buf.push(" ",y,'="',xE(b),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();gp.hasOwnProperty(a)&&!s0.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(xE(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Hm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,a0=/([^\#-~ |!])/g;function xE(i){return i.replace(/&/g,"&amp;").replace(Hm,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(a0,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zm;function u0(i){return"content"in i&&function Gm(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var br=(()=>((br=br||{})[br.NONE=0]="NONE",br[br.HTML=1]="HTML",br[br.STYLE=2]="STYLE",br[br.SCRIPT=3]="SCRIPT",br[br.URL=4]="URL",br[br.RESOURCE_URL=5]="RESOURCE_URL",br))();function l0(i){const s=_h();return s?km(s.sanitize(br.HTML,i)||""):Mo(i,"HTML")?km(fi(i)):function SS(i,s){let a=null;try{zm=zm||function gh(i){const s=new Vm(i);return function r0(){try{return!!(new window.DOMParser).parseFromString(Gc(""),"text/html")}catch{return!1}}()?new n0(s):s}(i);let l=s?String(s):"";a=zm.getInertBodyElement(l);let h=5,f=l;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,l=f,f=a.innerHTML,a=zm.getInertBodyElement(l)}while(l!==f);return Gc((new ME).sanitizeChildren(u0(a)||a))}finally{if(a){const l=u0(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}(function Y_(){return void 0!==Rm?Rm:typeof document<"u"?document:void 0}(),we(i))}function yh(i){const s=_h();return s?s.sanitize(br.URL,i)||"":Mo(i,"URL")?fi(i):mh(we(i))}function os(i){const s=_h();if(s)return X_(s.sanitize(br.RESOURCE_URL,i)||"");if(Mo(i,"ResourceURL"))return X_(fi(i));throw new fe(904,!1)}function Zm(i,s,a){return function RE(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?os:yh}(s,a)(i)}function _h(){const i=Se();return i&&i[Ha]}const yu=new vn("ENVIRONMENT_INITIALIZER"),Zc=new vn("INJECTOR",-1),d0=new vn("INJECTOR_DEF_TYPES");class h0{get(s,a=Mn){if(a===Mn){const l=new Error(`NullInjectorError: No provider for ${le(s)}!`);throw l.name="NullInjectorError",l}return a}}function wh(...i){return{\u0275providers:f0(0,i),\u0275fromNgModule:!0}}function f0(i,...s){const a=[],l=new Set;let h;return Ts(s,f=>{const y=f;Wm(y,a,[],l)&&(h||(h=[]),h.push(y))}),void 0!==h&&p0(h,a),a}function p0(i,s){for(let a=0;a<i.length;a++){const{providers:h}=i[a];Km(h,f=>{s.push(f)})}}function Wm(i,s,a,l){if(!(i=q(i)))return!1;let h=null,f=Vn(i);const y=!f&&nn(i);if(f||y){if(y&&!y.standalone)return!1;h=i}else{const b=i.ngModule;if(f=Vn(b),!f)return!1;h=b}const w=l.has(h);if(y){if(w)return!1;if(l.add(h),y.dependencies){const b="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const A of b)Wm(A,s,a,l)}}else{if(!f)return!1;{if(null!=f.imports&&!w){let A;l.add(h);try{Ts(f.imports,x=>{Wm(x,s,a,l)&&(A||(A=[]),A.push(x))})}finally{}void 0!==A&&p0(A,s)}if(!w){const A=li(h)||(()=>new h);s.push({provide:h,useFactory:A,deps:ae},{provide:d0,useValue:h,multi:!0},{provide:yu,useValue:()=>Be(h),multi:!0})}const b=f.providers;null==b||w||Km(b,x=>{s.push(x)})}}return h!==i&&void 0!==i.providers}function Km(i,s){for(let a of i)Ae(a)&&(a=a.\u0275providers),Array.isArray(a)?Km(a,s):s(a)}const NE=se({provide:String,useValue:se});function g0(i){return null!==i&&"object"==typeof i&&NE in i}function xo(i){return"function"==typeof i}const Ym=new vn("Set Injector scope."),_p={},kE={};let Qm;function wp(){return void 0===Qm&&(Qm=new h0),Qm}class Pl{}class y0 extends Pl{get destroyed(){return this._destroyed}constructor(s,a,l,h){super(),this.parent=a,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ey(s,y=>this.processProvider(y)),this.records.set(Zc,vu(void 0,this)),h.has("environment")&&this.records.set(Pl,vu(void 0,this));const f=this.records.get(Ym);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(d0.multi,ae,it.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=Br(this),l=Zn(void 0);try{return s()}finally{Br(a),Zn(l)}}get(s,a=Mn,l=it.Default){this.assertNotDestroyed(),l=yt(l);const h=Br(this),f=Zn(void 0);try{if(!(l&it.SkipSelf)){let w=this.records.get(s);if(void 0===w){const b=function Ip(i){return"function"==typeof i||"object"==typeof i&&i instanceof vn}(s)&&cn(s);w=b&&this.injectableDefInScope(b)?vu(Xm(s),_p):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(l&it.Self?wp():this.parent).get(s,a=l&it.Optional&&a===Mn?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[mr]=y[mr]||[]).unshift(le(s)),h)throw y;return function $(i,s,a,l){const h=i[mr];throw s[_i]&&h.unshift(s[_i]),i.message=function j(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&i.charAt(1)==Ut?i.slice(2):i;let h=le(s);if(Array.isArray(s))h=s.map(le).join(" -> ");else if("object"==typeof s){let f=[];for(let y in s)if(s.hasOwnProperty(y)){let w=s[y];f.push(y+":"+("string"==typeof w?JSON.stringify(w):le(w)))}h=`{${f.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${i.replace(vi,"\n  ")}`}("\n"+i.message,h,a,l),i[er]=h,i[mr]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{Zn(f),Br(h)}}resolveInjectorInitializers(){const s=Br(this),a=Zn(void 0);try{const l=this.get(yu.multi,ae,it.Self);for(const h of l)h()}finally{Br(s),Zn(a)}}toString(){const s=[],a=this.records;for(const l of a.keys())s.push(le(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new fe(205,!1)}processProvider(s){let a=xo(s=q(s))?s:q(s&&s.provide);const l=function v0(i){return g0(i)?vu(void 0,i.useValue):vu(_0(i),_p)}(s);if(xo(s)||!0!==s.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=vu(void 0,_p,!0),h.factory=()=>Tt(h.multi),this.records.set(a,h)),a=s,h.multi.push(s)}this.records.set(a,l)}hydrate(s,a){return a.value===_p&&(a.value=kE,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Jm(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=q(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Xm(i){const s=cn(i),a=null!==s?s.factory:li(i);if(null!==a)return a;if(i instanceof vn)throw new fe(204,!1);if(i instanceof Function)return function FE(i){const s=i.length;if(s>0)throw function Xs(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}(s,"?"),new fe(204,!1);const a=function Ur(i){const s=i&&(i[oi]||i[mn]);return s?(function xi(i){if(i.hasOwnProperty("name"))return i.name;(""+i).match(/^function\s*([^\s(]+)/)}(i),s):null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new fe(204,!1)}function _0(i,s,a){let l;if(xo(i)){const h=q(i);return li(h)||Xm(h)}if(g0(i))l=()=>q(i.useValue);else if(function vp(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...Tt(i.deps||[]));else if(function m0(i){return!(!i||!i.useExisting)}(i))l=()=>Be(q(i.useExisting));else{const h=q(i&&(i.useClass||i.provide));if(!function w0(i){return!!i.deps}(i))return li(h)||Xm(h);l=()=>new h(...Tt(i.deps))}return l}function vu(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function ey(i,s){for(const a of i)Array.isArray(a)?ey(a,s):a&&Ae(a)?ey(a.\u0275providers,s):s(a)}class LE{}class I0{}class b0{resolveComponentFactory(s){throw function VE(i){const s=Error(`No component factory found for ${le(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let _u=(()=>{class i{}return i.NULL=new b0,i})();function bp(){return Rl(Hn(),Se())}function Rl(i,s){return new ba(lr(i,s))}let ba=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=bp,i})();function E0(i){return i instanceof ba?i.nativeElement:i}class C0{}let BE=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function jE(){const i=Se(),a=cr(Hn().index,i);return(Tr(a)?a:i)[kt]}(),i})(),$E=(()=>{class i{}return i.\u0275prov=tt({token:i,providedIn:"root",factory:()=>null}),i})();class D0{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const ty=new D0("15.2.7"),ny={},ry="ngOriginalError";function iy(i){return i[ry]}class bh{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&iy(s);for(;a&&iy(a);)a=iy(a);return a||null}}function Oo(i){return i instanceof Function?i():i}function sy(i,s,a){let l=i.length;for(;;){const h=i.indexOf(s,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const f=s.length;if(h+f===l||i.charCodeAt(h+f)<=32)return h}a=h+1}}const Ep="ng-template";function x0(i,s,a){let l=0,h=!0;for(;l<i.length;){let f=i[l++];if("string"==typeof f&&h){const y=i[l++];if(a&&"class"===f&&-1!==sy(y.toLowerCase(),s,0))return!0}else{if(1===f){for(;l<i.length&&"string"==typeof(f=i[l++]);)if(f.toLowerCase()===s)return!0;return!1}"number"==typeof f&&(h=!1)}}return!1}function kl(i){return 4===i.type&&i.value!==Ep}function oy(i,s,a){return s===(4!==i.type||a?i.value:Ep)}function KE(i,s,a){let l=4;const h=i.attrs||[],f=function P0(i){for(let s=0;s<i.length;s++)if(In(i[s]))return s;return i.length}(h);let y=!1;for(let w=0;w<s.length;w++){const b=s[w];if("number"!=typeof b){if(!y)if(4&l){if(l=2|1&l,""!==b&&!oy(i,b,a)||""===b&&1===s.length){if(Ms(l))return!1;y=!0}}else{const A=8&l?b:s[++w];if(8&l&&null!==i.attrs){if(!x0(i.attrs,A,a)){if(Ms(l))return!1;y=!0}continue}const U=Cp(8&l?"class":b,h,kl(i),a);if(-1===U){if(Ms(l))return!1;y=!0;continue}if(""!==A){let Z;Z=U>f?"":h[U+1].toLowerCase();const Q=8&l?Z:null;if(Q&&-1!==sy(Q,A,0)||2&l&&A!==Z){if(Ms(l))return!1;y=!0}}}}else{if(!y&&!Ms(l)&&!Ms(b))return!1;if(y&&Ms(b))continue;y=!1,l=b|1&l}}return Ms(l)||y}function Ms(i){return 0==(1&i)}function Cp(i,s,a,l){if(null===s)return-1;let h=0;if(l||!a){let f=!1;for(;h<s.length;){const y=s[h];if(y===i)return h;if(3===y||6===y)f=!0;else{if(1===y||2===y){let w=s[++h];for(;"string"==typeof w;)w=s[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=f?1:2}return-1}return function YE(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function Eh(i,s,a=!1){for(let l=0;l<s.length;l++)if(KE(i,s[l],a))return!0;return!1}function R0(i,s){return i?":not("+s.trim()+")":s}function XE(i){let s=i[0],a=1,l=2,h="",f=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&l){const w=i[++a];h+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?h+="."+y:4&l&&(h+=" "+y);else""!==h&&!Ms(y)&&(s+=R0(f,h),h=""),l=y,f=f||!Ms(l);a++}return""!==h&&(s+=R0(f,h)),s}const zt={};function N0(i){Ap(Xt(),Se(),zr()+i,!1)}function Ap(i,s,a,l){if(!l)if(3==(3&s[jt])){const f=i.preOrderCheckHooks;null!==f&&Xo(s,f,a)}else{const f=i.preOrderHooks;null!==f&&po(s,f,0,a)}Ds(a)}function uy(i,s=null,a=null,l){const h=rC(i,s,a,l);return h.resolveInjectorInitializers(),h}function rC(i,s=null,a=null,l,h=new Set){const f=[a||ae,wh(i)];return l=l||("object"==typeof i?void 0:le(i)),new y0(f,s||wp(),l||null,h)}let Wc=(()=>{class i{static create(a,l){if(Array.isArray(a))return uy({name:""},l,a,"");{const h=a.name??"";return uy({name:h},a.parent,a.providers,h)}}}return i.THROW_IF_NOT_FOUND=Mn,i.NULL=new h0,i.\u0275prov=tt({token:i,providedIn:"any",factory:()=>Be(Zc)}),i.__NG_ELEMENT_ID__=-1,i})();function Yc(i,s=it.Default){const a=Se();return null===a?Be(i,s):uu(Hn(),a,q(i),s)}function H0(){throw new Error("invalid")}function z0(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const f=a[l+1];if(-1!==f){const y=i.data[f];tu(a[l]),y.contentQueries(2,s[f],f)}}}function hy(i,s,a,l,h,f,y,w,b,A,x){const U=s.blueprint.slice();return U[Oi]=h,U[jt]=76|l,(null!==x||i&&1024&i[jt])&&(U[jt]|=1024),Ka(U),U[gn]=U[Us]=i,U[xn]=a,U[Gu]=y||i&&i[Gu],U[kt]=w||i&&i[kt],U[Ha]=b||i&&i[Ha]||null,U[vs]=A||i&&i[vs]||null,U[Dn]=f,U[uo]=function Lc(){return op++}(),U[Vd]=x,U[Dr]=2==s.type?i[Dr]:U,U}function Qc(i,s,a,l,h){let f=i.data[s];if(null===f)f=function fy(i,s,a,l,h){const f=jd(),y=Qa(),b=i.data[s]=function gC(i,s,a,l,h,f){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,a,s,l,h);return null===i.firstChild&&(i.firstChild=b),null!==f&&(y?null==f.child&&null!==b.parent&&(f.child=b):null===f.next&&(f.next=b,b.prev=f)),b}(i,s,a,l,h),function eu(){return Ot.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=a,f.value=l,f.attrs=h;const y=function Cs(){const i=Ot.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return Ii(f,!0),f}function Sh(i,s,a,l){if(0===a)return-1;const h=s.length;for(let f=0;f<a;f++)s.push(l),i.blueprint.push(l),i.data.push(null);return h}function py(i,s,a){Ec(s);try{const l=i.viewQuery;null!==l&&Np(1,l,a);const h=i.template;null!==h&&wu(i,s,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&z0(i,s),i.staticViewQueries&&Np(2,i.viewQuery,a);const f=i.components;null!==f&&function hC(i,s){for(let a=0;a<s.length;a++)rw(i,s[a])}(s,f)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[jt]&=-5,Hd()}}function Mp(i,s,a,l){const h=s[jt];if(128!=(128&h)){Ec(s);try{Ka(s),function rl(i){return Ot.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&wu(i,s,a,2,l);const y=3==(3&h);if(y){const A=i.preOrderCheckHooks;null!==A&&Xo(s,A,null)}else{const A=i.preOrderHooks;null!==A&&po(s,A,0,null),Jo(s,0)}if(function tw(i){for(let s=k(i);null!==s;s=X(s)){if(!s[hc])continue;const a=s[Is];for(let l=0;l<a.length;l++){const h=a[l];512&h[jt]||Yo(h[gn],1),h[jt]|=512}}}(s),function ew(i){for(let s=k(i);null!==s;s=X(s))for(let a=Ar;a<s.length;a++){const l=s[a],h=l[Xe];Hs(l)&&Mp(h,l,h.template,l[xn])}}(s),null!==i.contentQueries&&z0(i,s),y){const A=i.contentCheckHooks;null!==A&&Xo(s,A)}else{const A=i.contentHooks;null!==A&&po(s,A,1),Jo(s,1)}!function dC(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const h=a[l];if(h<0)Ds(~h);else{const f=h,y=a[++l],w=a[++l];sl(y,f),w(2,s[f])}}}finally{Ds(-1)}}(i,s);const w=i.components;null!==w&&function G0(i,s){for(let a=0;a<s.length;a++)nw(i,s[a])}(s,w);const b=i.viewQuery;if(null!==b&&Np(2,b,l),y){const A=i.viewCheckHooks;null!==A&&Xo(s,A)}else{const A=i.viewHooks;null!==A&&po(s,A,2),Jo(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[jt]&=-41,512&s[jt]&&(s[jt]&=-513,Yo(s[gn],-1))}finally{Hd()}}}function wu(i,s,a,l,h){const f=zr(),y=2&l;try{Ds(-1),y&&s.length>Pt&&Ap(i,s,Pt,!1),un(y?2:0,h),a(l,h)}finally{Ds(f),un(y?3:1,h)}}function xp(i,s,a){if(Zu(s)){const h=s.directiveEnd;for(let f=s.directiveStart;f<h;f++){const y=i.data[f];y.contentQueries&&y.contentQueries(1,a[f],f)}}}function gy(i,s,a){_c()&&(function Po(i,s,a,l){const h=a.directiveStart,f=a.directiveEnd;za(a)&&function J0(i,s,a){const l=lr(s,i),h=Mh(a),f=i[Gu],y=xh(i,hy(i,h,null,a.onPush?32:16,l,s,f,f.createRenderer(l,a),null,null,null));i[s.index]=y}(s,a,i.data[h+a.componentOffset]),i.firstCreatePass||Zs(a,s),Ir(l,s);const y=a.initialInputs;for(let w=h;w<f;w++){const b=i.data[w],A=Ji(s,i,w,a);Ir(A,s),null!==y&&bC(0,w-h,A,b,0,y),Ni(b)&&(cr(a.index,s)[xn]=Ji(s,i,w,a))}}(i,s,a,lr(a,s)),64==(64&a.flags)&&Q0(i,s,a))}function my(i,s,a=lr){const l=s.localNames;if(null!==l){let h=s.index+1;for(let f=0;f<l.length;f+=2){const y=l[f+1],w=-1===y?a(s,i):i[y];i[h++]=w}}}function Mh(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=yy(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function yy(i,s,a,l,h,f,y,w,b,A){const x=Pt+l,U=x+h,Z=function fC(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:zt);return a}(x,U),Q="function"==typeof A?A():A;return Z[Xe]={type:i,blueprint:Z,template:a,queries:null,viewQuery:w,declTNode:s,data:Z.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:b,consts:Q,incompleteFirstPass:!1}}function Z0(i,s,a,l){const h=sw(s);null===a?h.push(l):(h.push(a),i.firstCreatePass&&Iy(i).push(l,h.length-1))}function q0(i,s,a,l){for(let h in i)if(i.hasOwnProperty(h)){a=null===a?{}:a;const f=i[h];null===l?W0(a,s,h,f):l.hasOwnProperty(h)&&W0(a,s,l[h],f)}return a}function W0(i,s,a,l){i.hasOwnProperty(a)?i[a].push(s,l):i[a]=[s,l]}function ls(i,s,a,l,h,f,y,w){const b=lr(s,a);let x,A=s.inputs;!w&&null!=A&&(x=A[l])?(Fp(i,a,x,l,h),za(s)&&function yC(i,s){const a=cr(s,i);16&a[jt]||(a[jt]|=32)}(a,s.index)):3&s.type&&(l=function mC(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),h=null!=y?y(h,s.value||"",l):h,f.setProperty(b,l,h))}function vy(i,s,a,l){if(_c()){const h=null===l?null:{"":-1},f=function _C(i,s){const a=i.directiveRegistry;let l=null,h=null;if(a)for(let f=0;f<a.length;f++){const y=a[f];if(Eh(s,y.selectors,!1))if(l||(l=[]),Ni(y))if(null!==y.findHostDirectiveDefs){const w=[];h=h||new Map,y.findHostDirectiveDefs(y,w,h),l.unshift(...w,y),_y(i,s,w.length)}else l.unshift(y),_y(i,s,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,l,h),l.push(y)}return null===l?null:[l,h]}(i,a);let y,w;null===f?y=w=null:[y,w]=f,null!==y&&K0(i,s,a,y,h,w),h&&function wC(i,s,a){if(s){const l=i.localNames=[];for(let h=0;h<s.length;h+=2){const f=a[s[h+1]];if(null==f)throw new fe(-301,!1);l.push(s[h],f)}}}(a,l,h)}a.mergedAttrs=Li(a.mergedAttrs,a.attrs)}function K0(i,s,a,l,h,f){for(let A=0;A<l.length;A++)oa(Zs(a,s),i,l[A].type);!function IC(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}(a,i.data.length,l.length);for(let A=0;A<l.length;A++){const x=l[A];x.providersResolver&&x.providersResolver(x)}let y=!1,w=!1,b=Sh(i,s,l.length,null);for(let A=0;A<l.length;A++){const x=l[A];a.mergedAttrs=Li(a.mergedAttrs,x.hostAttrs),Iu(i,a,s,b,x),Pp(b,x,h),null!==x.contentQueries&&(a.flags|=4),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(a.flags|=64);const U=x.type.prototype;!y&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((i.preOrderHooks??(i.preOrderHooks=[])).push(a.index),y=!0),!w&&(U.ngOnChanges||U.ngDoCheck)&&((i.preOrderCheckHooks??(i.preOrderCheckHooks=[])).push(a.index),w=!0),b++}!function Op(i,s,a){const h=s.directiveEnd,f=i.data,y=s.attrs,w=[];let b=null,A=null;for(let x=s.directiveStart;x<h;x++){const U=f[x],Z=a?a.get(U):null,me=Z?Z.outputs:null;b=q0(U.inputs,x,b,Z?Z.inputs:null),A=q0(U.outputs,x,A,me);const Fe=null===b||null===y||kl(s)?null:Ll(b,x,y);w.push(Fe)}null!==b&&(b.hasOwnProperty("class")&&(s.flags|=8),b.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=w,s.inputs=b,s.outputs=A}(i,a,f)}function Q0(i,s,a){const l=a.directiveStart,h=a.directiveEnd,f=a.index,y=function $d(){return Ot.lFrame.currentDirectiveIndex}();try{Ds(f);for(let w=l;w<h;w++){const b=i.data[w],A=s[w];Yi(w),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&X0(b,A)}}finally{Ds(-1),Yi(y)}}function X0(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function _y(i,s,a){s.componentOffset=a,(i.components??(i.components=[])).push(s.index)}function Pp(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;Ni(s)&&(a[""]=i)}}function Iu(i,s,a,l,h){i.data[l]=h;const f=h.factory||(h.factory=li(h.type)),y=new ea(f,Ni(h),Yc);i.blueprint[l]=y,a[l]=y,function Y0(i,s,a,l,h){const f=h.hostBindings;if(f){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const w=~s.index;(function Fl(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(y)!=w&&y.push(w),y.push(a,l,f)}}(i,s,l,Sh(i,a,h.hostVars,zt),h)}function Nn(i,s,a,l,h,f){const y=lr(i,s);!function Ro(i,s,a,l,h,f,y){if(null==f)i.removeAttribute(s,h,a);else{const w=null==y?we(f):y(f,l||"",h);i.setAttribute(s,h,w,a)}}(s[kt],y,f,i.value,a,l,h)}function bC(i,s,a,l,h,f){const y=f[s];if(null!==y){const w=l.setInput;for(let b=0;b<y.length;){const A=y[b++],x=y[b++],U=y[b++];null!==w?l.setInput(a,U,A,x):a[x]=U}}}function Ll(i,s,a){let l=null,h=0;for(;h<a.length;){const f=a[h];if(0!==f)if(5!==f){if("number"==typeof f)break;if(i.hasOwnProperty(f)){null===l&&(l=[]);const y=i[f];for(let w=0;w<y.length;w+=2)if(y[w]===s){l.push(f,y[w+1],a[h+1]);break}}h+=2}else h+=2;else h+=4}return l}function wy(i,s,a,l){return[i,!0,!1,s,null,0,l,a,null,null]}function nw(i,s){const a=cr(s,i);if(Hs(a)){const l=a[Xe];48&a[jt]?Mp(l,a,l.template,a[xn]):a[Gi]>0&&Rp(a)}}function Rp(i){for(let l=k(i);null!==l;l=X(l))for(let h=Ar;h<l.length;h++){const f=l[h];if(Hs(f))if(512&f[jt]){const y=f[Xe];Mp(y,f,y.template,f[xn])}else f[Gi]>0&&Rp(f)}const a=i[Xe].components;if(null!==a)for(let l=0;l<a.length;l++){const h=cr(a[l],i);Hs(h)&&h[Gi]>0&&Rp(h)}}function rw(i,s){const a=cr(s,i),l=a[Xe];(function iw(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),py(l,a,a[xn])}function xh(i,s){return i[_s]?i[$o][Hr]=s:i[_s]=s,i[$o]=s,s}function Vl(i){for(;i;){i[jt]|=32;const s=g(i);if(zo(i)&&!s)return i;i=s}return null}function Oh(i,s,a,l=!0){const h=s[Gu];h.begin&&h.begin();try{Mp(i,s,i.template,a)}catch(y){throw l&&kp(s,y),y}finally{h.end&&h.end()}}function Np(i,s,a){tu(0),s(i,a)}function sw(i){return i[Zi]||(i[Zi]=[])}function Iy(i){return i.cleanup||(i.cleanup=[])}function kp(i,s){const a=i[vs],l=a?a.get(bh,null):null;l&&l.handleError(s)}function Fp(i,s,a,l,h){for(let f=0;f<a.length;){const y=a[f++],w=a[f++],b=s[y],A=i.data[y];null!==A.setInput?A.setInput(b,h,l,w):b[w]=h}}function Ph(i,s,a){let l=a?i.styles:null,h=a?i.classes:null,f=0;if(null!==s)for(let y=0;y<s.length;y++){const w=s[y];"number"==typeof w?f=w:1==f?h=de(h,w):2==f&&(l=de(l,w+": "+s[++y]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=h:i.classesWithoutHost=h}function Rh(i,s,a,l,h=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&l.push(On(f)),ur(f))for(let w=Ar;w<f.length;w++){const b=f[w],A=b[Xe].firstChild;null!==A&&Rh(b[Xe],b,A,l)}const y=a.type;if(8&y)Rh(i,s,a.child,l);else if(32&y){const w=v(a,s);let b;for(;b=w();)l.push(b)}else if(16&y){const w=xl(s,a);if(Array.isArray(w))l.push(...w);else{const b=g(s[Dr]);Rh(b[Xe],b,w,l,!0)}}a=h?a.projectionNext:a.next}return l}class Xc{get rootNodes(){const s=this._lView,a=s[Xe];return Rh(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xn]}set context(s){this._lView[xn]=s}get destroyed(){return 128==(128&this._lView[jt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[gn];if(ur(s)){const a=s[Pi],l=a?a.indexOf(this):-1;l>-1&&(pu(s,l),Qs(a,l))}this._attachedToViewContainer=!1}gu(this._lView[Xe],this._lView)}onDestroy(s){Z0(this._lView[Xe],this._lView,null,s)}markForCheck(){Vl(this._cdRefInjectingView||this._lView)}detach(){this._lView[jt]&=-65}reattach(){this._lView[jt]|=64}detectChanges(){Oh(this._lView[Xe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lp(i,s){$c(i,s,s[kt],2,null,null)}(this._lView[Xe],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new fe(902,!1);this._appRef=s}}class Ey extends Xc{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Oh(s[Xe],s,s[xn],!1)}checkNoChanges(){}get context(){return null}}class Nh extends _u{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=nn(s);return new Nr(a,this.ngModule)}}function Cy(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class aw{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,l){l=yt(l);const h=this.injector.get(s,ny,l);return h!==ny||a===ny?h:this.parentInjector.get(s,a,l)}}class Nr extends I0{get inputs(){return Cy(this.componentDef.inputs)}get outputs(){return Cy(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function JE(i){return i.map(XE).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,l,h){let f=(h=h||this.ngModule)instanceof Pl?h:h?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const y=f?new aw(s,f):s,w=y.get(C0,null);if(null===w)throw new fe(407,!1);const b=y.get($E,null),A=w.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",U=l?function pC(i,s,a){return i.selectRootElement(s,a===O.ShadowDom)}(A,l,this.componentDef.encapsulation):Bi(A,x,function ow(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(x)),Z=this.componentDef.onPush?288:272,Q=yy(0,null,null,1,0,null,null,null,null,null),me=hy(null,Q,null,Z,null,null,w,A,b,y,null);let Fe,Qe;Ec(me);try{const ct=this.componentDef;let je,Re=null;ct.findHostDirectiveDefs?(je=[],Re=new Map,ct.findHostDirectiveDefs(ct,je,Re),je.push(ct)):je=[ct];const Rt=function HS(i,s){const a=i[Xe],l=Pt;return i[l]=s,Qc(a,l,2,"#host",null)}(me,U),Fn=function zS(i,s,a,l,h,f,y,w){const b=h[Xe];!function uw(i,s,a,l){for(const h of i)s.mergedAttrs=Li(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(Ph(s,s.mergedAttrs,!0),null!==a&&fh(l,a,s))}(l,i,s,y);const A=f.createRenderer(s,a),x=hy(h,Mh(a),null,a.onPush?32:16,h[i.index],i,f,A,w||null,null,null);return b.firstCreatePass&&_y(b,i,l.length-1),xh(h,x),h[i.index]=x}(Rt,U,ct,je,me,w,A);Qe=Ko(Q,Pt),U&&function Dy(i,s,a,l){if(l)go(i,a,["ng-version",ty.full]);else{const{attrs:h,classes:f}=function Dp(i){const s=[],a=[];let l=1,h=2;for(;l<i.length;){let f=i[l];if("string"==typeof f)2===h?""!==f&&s.push(f,i[++l]):8===h&&a.push(f);else{if(!Ms(h))break;h=f}l++}return{attrs:s,classes:a}}(s.selectors[0]);h&&go(i,a,h),f&&f.length>0&&hh(i,a,f.join(" "))}}(A,ct,U,l),void 0!==a&&function Lp(i,s,a){const l=i.projection=[];for(let h=0;h<s.length;h++){const f=a[h];l.push(null!=f?Array.from(f):null)}}(Qe,this.ngContentSelectors,a),Fe=function lw(i,s,a,l,h,f){const y=Hn(),w=h[Xe],b=lr(y,h);K0(w,h,y,a,null,l);for(let x=0;x<a.length;x++)Ir(Ji(h,w,y.directiveStart+x,y),h);Q0(w,h,y),b&&Ir(b,h);const A=Ji(h,w,y.directiveStart+y.componentOffset,y);if(i[xn]=h[xn]=A,null!==f)for(const x of f)x(A,s);return xp(w,y,i),A}(Fn,ct,je,Re,me,[AC]),py(Q,me,null)}finally{Hd()}return new bu(this.componentType,Fe,Rl(Qe,me),me,Qe)}}class bu extends LE{constructor(s,a,l,h,f){super(),this.location=l,this._rootLView=h,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new Ey(h),this.componentType=s}setInput(s,a){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[s])){const f=this._rootLView;Fp(f[Xe],f,h,s,a),Vl(cr(this._tNode.index,f))}}get injector(){return new Zr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function AC(){const i=Hn();ll(Se()[Xe],i)}function Ay(i){let s=function Vp(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let h;if(Ni(i))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new fe(903,!1);h=s.\u0275dir}if(h){if(a){l.push(h);const y=i;y.inputs=cw(i.inputs),y.declaredInputs=cw(i.declaredInputs),y.outputs=cw(i.outputs);const w=h.hostBindings;w&&WS(i,w);const b=h.viewQuery,A=h.contentQueries;if(b&&ZS(i,b),A&&qS(i,A),he(i.inputs,h.inputs),he(i.declaredInputs,h.declaredInputs),he(i.outputs,h.outputs),Ni(h)&&h.data.animation){const x=i.data;x.animation=(x.animation||[]).concat(h.data.animation)}}const f=h.features;if(f)for(let y=0;y<f.length;y++){const w=f[y];w&&w.ngInherit&&w(i),w===Ay&&(a=!1)}}s=Object.getPrototypeOf(s)}!function GS(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const h=i[l];h.hostVars=s+=h.hostVars,h.hostAttrs=Li(h.hostAttrs,a=Li(a,h.hostAttrs))}}(l)}function cw(i){return i===Y?{}:i===ae?[]:i}function ZS(i,s){const a=i.viewQuery;i.viewQuery=a?(l,h)=>{s(l,h),a(l,h)}:s}function qS(i,s){const a=i.contentQueries;i.contentQueries=a?(l,h,f)=>{s(l,h,f),a(l,h,f)}:s}function WS(i,s){const a=i.hostBindings;i.hostBindings=a?(l,h)=>{s(l,h),a(l,h)}:s}function Ca(i){return!!My(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function My(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ri(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function gw(i,s,a,l){const h=Se();return ri(h,zs(),s)&&(Xt(),Nn(hn(),h,i,s,a,l)),gw}function Bl(i,s,a,l){return ri(i,zs(),a)?s+we(a)+l:zt}function Bp(i,s,a,l,h,f,y,w){const b=Se(),A=Xt(),x=i+Pt,U=A.firstCreatePass?function MC(i,s,a,l,h,f,y,w,b){const A=s.consts,x=Qc(s,i,4,y||null,wi(A,w));vy(s,a,x,wi(A,b)),ll(s,x);const U=x.tView=yy(2,x,l,h,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,A);return null!==s.queries&&(s.queries.template(s,x),U.queries=s.queries.embeddedTView(x)),x}(x,A,b,s,a,l,h,f,y):A.data[x];Ii(U,!1);const Z=b[kt].createComment("");hp(A,b,Z,U),Ir(Z,b),xh(b,b[x]=wy(Z,b,Z,U)),Ri(U)&&gy(A,b,U),null!=y&&my(b,U,w)}function xC(i){return function ci(i,s){return i[s]}(function Ja(){return Ot.lFrame.contextLView}(),Pt+i)}function Uh(i,s,a){const l=Se();return ri(l,zs(),s)&&ls(Xt(),hn(),l,i,s,l[kt],a,!1),Uh}function Ry(i,s,a,l,h){const y=h?"class":"style";Fp(i,a,s.inputs[y],y,l)}function ed(i,s,a,l){const h=Se(),f=Xt(),y=Pt+i,w=h[kt],b=f.firstCreatePass?function Iw(i,s,a,l,h,f){const y=s.consts,b=Qc(s,i,2,l,wi(y,h));return vy(s,a,b,wi(y,f)),null!==b.attrs&&Ph(b,b.attrs,!1),null!==b.mergedAttrs&&Ph(b,b.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,b),b}(y,f,h,s,a,l):f.data[y],A=h[y]=Bi(w,s,function mm(){return Ot.lFrame.currentNamespace}()),x=Ri(b);return Ii(b,!0),fh(w,A,b),32!=(32&b.flags)&&hp(f,h,A,b),0===function Ju(){return Ot.lFrame.elementDepthCount}()&&Ir(A,h),function el(){Ot.lFrame.elementDepthCount++}(),x&&(gy(f,h,b),xp(f,b,h)),null!==l&&my(h,b),ed}function jp(){let i=Hn();Qa()?function Xa(){Ot.lFrame.isParent=!1}():(i=i.parent,Ii(i,!1));const s=i;!function tl(){Ot.lFrame.elementDepthCount--}();const a=Xt();return a.firstCreatePass&&(ll(a,i),Zu(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function cl(i){return 0!=(8&i.flags)}(s)&&Ry(a,s,Se(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function ta(i){return 0!=(16&i.flags)}(s)&&Ry(a,s,Se(),s.stylesWithoutHost,!1),jp}function bw(i,s,a,l){return ed(i,s,a,l),jp(),bw}function ky(){return Se()}function $l(i){return!!i&&"function"==typeof i.then}function PC(i){return!!i&&"function"==typeof i.subscribe}const Ew=PC;function $p(i,s,a,l){const h=Se(),f=Xt(),y=Hn();return function NC(i,s,a,l,h,f,y){const w=Ri(l),A=i.firstCreatePass&&Iy(i),x=s[xn],U=sw(s);let Z=!0;if(3&l.type||y){const Fe=lr(l,s),Qe=y?y(Fe):Fe,ct=U.length,je=y?Rt=>y(On(Rt[l.index])):l.index;let Re=null;if(!y&&w&&(Re=function JS(i,s,a,l){const h=i.cleanup;if(null!=h)for(let f=0;f<h.length-1;f+=2){const y=h[f];if(y===a&&h[f+1]===l){const w=s[Zi],b=h[f+2];return w.length>b?w[b]:null}"string"==typeof y&&(f+=2)}return null}(i,s,h,l.index)),null!==Re)(Re.__ngLastListenerFn__||Re).__ngNextListenerFn__=f,Re.__ngLastListenerFn__=f,Z=!1;else{f=Cw(l,s,x,f,!1);const Rt=a.listen(Qe,h,f);U.push(f,Rt),A&&A.push(h,je,ct,ct+1)}}else f=Cw(l,s,x,f,!1);const Q=l.outputs;let me;if(Z&&null!==Q&&(me=Q[h])){const Fe=me.length;if(Fe)for(let Qe=0;Qe<Fe;Qe+=2){const Fn=s[me[Qe]][me[Qe+1]].subscribe(f),ir=U.length;U.push(f,Fn),A&&A.push(h,l.index,ir,-(ir+1))}}}(f,h,h[kt],y,i,s,l),$p}function kC(i,s,a,l){try{return un(6,s,a),!1!==a(l)}catch(h){return kp(i,h),!1}finally{un(7,s,a)}}function Cw(i,s,a,l,h){return function f(y){if(y===Function)return l;Vl(i.componentOffset>-1?cr(i.index,s):s);let b=kC(s,a,l,y),A=f.__ngNextListenerFn__;for(;A;)b=kC(s,a,A,y)&&b,A=A.__ngNextListenerFn__;return h&&!1===b&&(y.preventDefault(),y.returnValue=!1),b}}function Fy(i=1){return function Cc(i){return(Ot.lFrame.contextLView=function Jf(i,s){for(;i>0;)s=s[Us],i--;return s}(i,Ot.lFrame.contextLView))[xn]}(i)}function Hp(i,s,a){return Ly(i,"",s,"",a),Hp}function Ly(i,s,a,l,h){const f=Se(),y=Bl(f,s,a,l);return y!==zt&&ls(Xt(),hn(),f,i,y,f[kt],h,!1),Ly}function td(i,s){return i<<17|s<<2}function Du(i){return i>>17&32767}function nd(i){return 2|i}function Hl(i){return(131068&i)>>2}function jh(i,s){return-131069&i|s<<2}function $h(i){return 1|i}function Hy(i,s,a,l,h){const f=i[a+1],y=null===s;let w=l?Du(f):Hl(f),b=!1;for(;0!==w&&(!1===b||y);){const x=i[w+1];$C(i[w],s)&&(b=!0,i[w+1]=l?$h(x):nd(x)),w=l?Du(x):Hl(x)}b&&(i[a+1]=l?nd(f):$h(f))}function $C(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&lt(i,s)>=0}function Zy(i,s,a){return io(i,s,a,!1),Zy}function qy(i,s){return io(i,s,null,!0),qy}function io(i,s,a,l){const h=Se(),f=Xt(),y=function Fi(i){const s=Ot.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);f.firstUpdatePass&&function Wy(i,s,a,l){const h=i.data;if(null===h[a+1]){const f=h[zr()],y=function Vw(i,s){return s>=i.expandoStartIndex}(i,a);(function WC(i,s){return 0!=(i.flags&(s?8:16))})(f,l)&&null===s&&!y&&(s=!1),s=function ZC(i,s,a,l){const h=function ol(i){const s=Ot.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=l?s.residualClasses:s.residualStyles;if(null===h)0===(l?s.classBindings:s.styleBindings)&&(a=rd(a=Bw(null,i,s,a,l),s.attrs,l),f=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==h)if(a=Bw(h,i,s,a,l),null===f){let b=function Uw(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==Hl(l))return i[Du(l)]}(i,s,l);void 0!==b&&Array.isArray(b)&&(b=Bw(null,i,s,b[1],l),b=rd(b,s.attrs,l),function nM(i,s,a,l){i[Du(a?s.classBindings:s.styleBindings)]=l}(i,s,l,b))}else f=function rM(i,s,a){let l;const h=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<h;f++)l=rd(l,i[f].hostAttrs,a);return rd(l,s.attrs,a)}(i,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),a}(h,f,s,l),function $y(i,s,a,l,h,f){let y=f?s.classBindings:s.styleBindings,w=Du(y),b=Hl(y);i[l]=a;let x,A=!1;if(Array.isArray(a)?(x=a[1],(null===x||lt(a,x)>0)&&(A=!0)):x=a,h)if(0!==b){const Z=Du(i[w+1]);i[l+1]=td(Z,w),0!==Z&&(i[Z+1]=jh(i[Z+1],l)),i[w+1]=function VC(i,s){return 131071&i|s<<17}(i[w+1],l)}else i[l+1]=td(w,0),0!==w&&(i[w+1]=jh(i[w+1],l)),w=l;else i[l+1]=td(b,0),0===w?w=l:i[b+1]=jh(i[b+1],l),b=l;A&&(i[l+1]=nd(i[l+1])),Hy(i,x,l,!0),Hy(i,x,l,!1),function jC(i,s,a,l,h){const f=h?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&lt(f,s)>=0&&(a[l+1]=$h(a[l+1]))}(s,x,i,l,f),y=td(w,b),f?s.classBindings=y:s.styleBindings=y}(h,f,s,a,y,l)}}(f,i,y,l),s!==zt&&ri(h,y,s)&&function Ky(i,s,a,l,h,f,y,w){if(!(3&s.type))return;const b=i.data,A=b[w+1],x=function UC(i){return 1==(1&i)}(A)?$w(b,s,a,h,Hl(A),y):void 0;Yy(x)||(Yy(f)||function xw(i){return 2==(2&i)}(A)&&(f=$w(b,null,a,h,w,y)),function Om(i,s,a,l,h){if(s)h?i.addClass(a,l):i.removeClass(a,l);else{let f=-1===l.indexOf("-")?void 0:hi.DashCase;null==h?i.removeStyle(a,l,f):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),f|=hi.Important),i.setStyle(a,l,h,f))}}(l,y,Es(zr(),a),h,f))}(f,f.data[zr()],h,h[kt],i,h[y+1]=function sM(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=le(fi(i)))),i}(s,a),l,y)}function Bw(i,s,a,l,h){let f=null;const y=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<y&&(f=s[w],l=rd(l,f.hostAttrs,h),f!==i);)w++;return null!==i&&(a.directiveStylingLast=w),l}function rd(i,s,a){const l=a?1:2;let h=-1;if(null!==s)for(let f=0;f<s.length;f++){const y=s[f];"number"==typeof y?h=y:h===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Wt(i,y,!!a||s[++f]))}return void 0===i?null:i}function $w(i,s,a,l,h,f){const y=null===s;let w;for(;h>0;){const b=i[h],A=Array.isArray(b),x=A?b[1]:b,U=null===x;let Z=a[h+1];Z===zt&&(Z=U?ae:void 0);let Q=U?Js(Z,l):x===l?Z:void 0;if(A&&!Yy(Q)&&(Q=Js(b,l)),Yy(Q)&&(w=Q,y))return w;const me=i[h+1];h=y?Du(me):Hl(me)}if(null!==s){let b=f?s.residualClasses:s.residualStyles;null!=b&&(w=Js(b,l))}return w}function Yy(i){return void 0!==i}function Hw(i,s=""){const a=Se(),l=Xt(),h=i+Pt,f=l.firstCreatePass?Qc(l,h,1,s,null):l.data[h],y=a[h]=function pt(i,s){return i.createText(s)}(a[kt],s);hp(l,a,y,f),Ii(f,!1)}function Qy(i){return Hh("",i,""),Qy}function Hh(i,s,a){const l=Se(),h=Bl(l,i,s,a);return h!==zt&&function no(i,s,a){const l=Es(s,i);!function Ht(i,s,a){i.setValue(s,a)}(i[kt],l,a)}(l,zr(),h),Hh}const Zl=void 0;var Yw=["en",[["a","p"],["AM","PM"],Zl],[["AM","PM"],Zl,Zl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zl,"{1} 'at' {0}",Zl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Yp(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Tu={};function Rs(i){const s=function iv(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Jw(s);if(a)return a;const l=s.split("-")[0];if(a=Jw(l),a)return a;if("en"===l)return Yw;throw new fe(701,!1)}function Xw(i){return Rs(i)[At.PluralCase]}function Jw(i){return i in Tu||(Tu[i]=xt.ng&&xt.ng.common&&xt.ng.common.locales&&xt.ng.common.locales[i]),Tu[i]}var At=(()=>((At=At||{})[At.LocaleId=0]="LocaleId",At[At.DayPeriodsFormat=1]="DayPeriodsFormat",At[At.DayPeriodsStandalone=2]="DayPeriodsStandalone",At[At.DaysFormat=3]="DaysFormat",At[At.DaysStandalone=4]="DaysStandalone",At[At.MonthsFormat=5]="MonthsFormat",At[At.MonthsStandalone=6]="MonthsStandalone",At[At.Eras=7]="Eras",At[At.FirstDayOfWeek=8]="FirstDayOfWeek",At[At.WeekendRange=9]="WeekendRange",At[At.DateFormat=10]="DateFormat",At[At.TimeFormat=11]="TimeFormat",At[At.DateTimeFormat=12]="DateTimeFormat",At[At.NumberSymbols=13]="NumberSymbols",At[At.NumberFormats=14]="NumberFormats",At[At.CurrencyCode=15]="CurrencyCode",At[At.CurrencySymbol=16]="CurrencySymbol",At[At.CurrencyName=17]="CurrencyName",At[At.Currencies=18]="Currencies",At[At.Directionality=19]="Directionality",At[At.PluralCase=20]="PluralCase",At[At.ExtraData=21]="ExtraData",At))();const ql="en-US";let tI=ql;function Jh(i,s,a,l,h){if(i=q(i),Array.isArray(i))for(let f=0;f<i.length;f++)Jh(i[f],s,a,l,h);else{const f=Xt(),y=Se();let w=xo(i)?i:q(i.provide),b=_0(i);const A=Hn(),x=1048575&A.providerIndexes,U=A.directiveStart,Z=A.providerIndexes>>20;if(xo(i)||!i.multi){const Q=new ea(b,h,Yc),me=pg(w,s,h?x:x+Z,U);-1===me?(oa(Zs(A,y),f,w),fg(f,i,s.length),s.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),a.push(Q),y.push(Q)):(a[me]=Q,y[me]=Q)}else{const Q=pg(w,s,x+Z,U),me=pg(w,s,x,x+Z),Qe=me>=0&&a[me];if(h&&!Qe||!h&&!(Q>=0&&a[Q])){oa(Zs(A,y),f,w);const ct=function mg(i,s,a,l,h){const f=new ea(i,a,Yc);return f.multi=[],f.index=s,f.componentProviders=0,bv(f,h,l&&!a),f}(h?ef:dD,a.length,h,l,b);!h&&Qe&&(a[me].providerFactory=ct),fg(f,i,s.length,0),s.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),a.push(ct),y.push(ct)}else fg(f,i,Q>-1?Q:me,bv(a[h?me:Q],b,!h&&l));!h&&l&&Qe&&a[me].componentProviders++}}}function fg(i,s,a,l){const h=xo(s),f=function qc(i){return!!i.useClass}(s);if(h||f){const b=(f?q(s.useClass):s).prototype.ngOnDestroy;if(b){const A=i.destroyHooks||(i.destroyHooks=[]);if(!h&&s.multi){const x=A.indexOf(a);-1===x?A.push(a,[l,b]):A[x+1].push(l,b)}else A.push(a,b)}}}function bv(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function pg(i,s,a,l){for(let h=a;h<l;h++)if(s[h]===i)return h;return-1}function dD(i,s,a,l){return gg(this.multi,[])}function ef(i,s,a,l){const h=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Ji(a,a[Xe],this.providerFactory.index,l);f=w.slice(0,y),gg(h,f);for(let b=y;b<w.length;b++)f.push(w[b])}else f=[],gg(h,f);return f}function gg(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function dd(i,s=[]){return a=>{a.providersResolver=(l,h)=>function hg(i,s,a){const l=Xt();if(l.firstCreatePass){const h=Ni(i);Jh(a,l.data,l.blueprint,h,!0),Jh(s,l.data,l.blueprint,h,!1)}}(l,h?h(i):i,s)}}class Ns{}class yg{}function hD(i,s){return new Ev(i,s??null)}class Ev extends Ns{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Nh(this);const l=$r(s);this._bootstrapComponents=Oo(l.bootstrap),this._r3Injector=rC(s,a,[{provide:Ns,useValue:this},{provide:_u,useValue:this.componentFactoryResolver}],le(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class vg extends yg{constructor(s){super(),this.moduleType=s}create(s){return new Ev(this.moduleType,s)}}class fD extends Ns{constructor(s,a,l){super(),this.componentFactoryResolver=new Nh(this),this.instance=null;const h=new y0([...s,{provide:Ns,useValue:this},{provide:_u,useValue:this.componentFactoryResolver}],a||wp(),l,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Pa(i,s,a=null){return new fD(i,s,a).injector}let Ra=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=f0(0,a.type),h=l.length>0?Pa([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=tt({token:i,providedIn:"environment",factory:()=>new i(Be(Pl))}),i})();function tf(i){i.getStandaloneInjector=s=>s.get(Ra).getOrCreateStandaloneInjector(i)}function TI(i,s,a,l){return function _g(i,s,a,l,h,f){const y=s+a;return ri(i,y,h)?function No(i,s,a){return i[s]=a}(i,y+1,f?l.call(f,h):l(h)):function gd(i,s){const a=i[s];return a===zt?void 0:a}(i,y+1)}(Se(),function Wn(){const i=Ot.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}(),i,s,a,l)}function Tv(i){return s=>{setTimeout(i,void 0,s)}}const Lo=class wD extends c.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){let h=s,f=a||(()=>null),y=l;if(s&&"object"==typeof s){const b=s;h=b.next?.bind(b),f=b.error?.bind(b),y=b.complete?.bind(b)}this.__isAsync&&(f=Tv(f),h&&(h=Tv(h)),y&&(y=Tv(y)));const w=super.subscribe({next:h,error:f,complete:y});return s instanceof B.w0&&s.add(w),w}};function LI(){return this._results[Symbol.iterator]()}class Ig{get changes(){return this._changes||(this._changes=new Lo)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ig.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=LI)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const h=function Di(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function _l(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let h=i[l],f=s[l];if(a&&(h=a(h),f=a(f)),f!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let yd=(()=>{class i{}return i.__NG_ELEMENT_ID__=Na,i})();const bg=yd,VI=class extends bg{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s,a){const l=this._declarationTContainer.tView,h=hy(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null,a||null);h[ws]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[ar];return null!==y&&(h[ar]=y.createEmbeddedView(l)),py(l,h,s),new Xc(h)}};function Na(){return df(Hn(),Se())}function df(i,s){return 4&i.type?new VI(s,i,Rl(i,s)):null}let hf=(()=>{class i{}return i.__NG_ELEMENT_ID__=Sv,i})();function Sv(){return xv(Hn(),Se())}const ff=hf,Mv=class extends ff{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return Rl(this._hostTNode,this._hostLView)}get injector(){return new Zr(this._hostTNode,this._hostLView)}get parentInjector(){const s=qs(this._hostTNode,this._hostLView);if(ia(s)){const a=Gs(s,this._hostLView),l=iu(s);return new Zr(a[Xe].data[l+8],a)}return new Zr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Eg(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-Ar}createEmbeddedView(s,a,l){let h,f;"number"==typeof l?h=l:null!=l&&(h=l.index,f=l.injector);const y=s.createEmbeddedView(a||{},f);return this.insert(y,h),y}createComponent(s,a,l,h,f){const y=s&&!function di(i){return"function"==typeof i}(s);let w;if(y)w=a;else{const U=a||{};w=U.index,l=U.injector,h=U.projectableNodes,f=U.environmentInjector||U.ngModuleRef}const b=y?s:new Nr(nn(s)),A=l||this.parentInjector;if(!f&&null==b.ngModule){const Z=(y?A:this.parentInjector).get(Pl,null);Z&&(f=Z)}const x=b.create(A,h,void 0,f);return this.insert(x.hostView,w),x}insert(s,a){const l=s._lView,h=l[Xe];if(function vc(i){return ur(i[gn])}(l)){const x=this.indexOf(s);if(-1!==x)this.detach(x);else{const U=l[gn],Z=new Mv(U,U[Dn],U[gn]);Z.detach(Z.indexOf(s))}}const f=this._adjustIndex(a),y=this._lContainer;!function cp(i,s,a,l){const h=Ar+l,f=a.length;l>0&&(a[h-1][Hr]=s),l<f-Ar?(s[Hr]=a[h],wl(a,Ar+l,s)):(a.push(s),s[Hr]=null),s[gn]=a;const y=s[ws];null!==y&&a!==y&&function dp(i,s){const a=i[Is];s[Dr]!==s[gn][gn][Dr]&&(i[hc]=!0),null===a?i[Is]=[s]:a.push(s)}(y,s);const w=s[ar];null!==w&&w.insertView(i),s[jt]|=64}(h,l,y,f);const w=Mm(f,y),b=l[kt],A=ch(b,y[Wi]);return null!==A&&function _a(i,s,a,l,h,f){l[Oi]=h,l[Dn]=s,$c(i,l,a,1,h,f)}(h,y[Dn],b,l,A,w),s.attachToViewContainerRef(),wl(vd(y),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Eg(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=pu(this._lContainer,a);l&&(Qs(vd(this._lContainer),a),gu(l[Xe],l))}detach(s){const a=this._adjustIndex(s,-1),l=pu(this._lContainer,a);return l&&null!=Qs(vd(this._lContainer),a)?new Xc(l):null}_adjustIndex(s,a=0){return s??this.length+a}};function Eg(i){return i[Pi]}function vd(i){return i[Pi]||(i[Pi]=[])}function xv(i,s){let a;const l=s[i.index];if(ur(l))a=l;else{let h;if(8&i.type)h=On(l);else{const f=s[kt];h=f.createComment("");const y=lr(i,s);mu(f,ch(f,y),h,function q_(i,s){return i.nextSibling(s)}(f,y),!1)}s[i.index]=a=wy(l,s,h,i),xh(s,a)}return new Mv(a,i,s)}class _d{constructor(s){this.queryList=s,this.matches=null}clone(){return new _d(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ov{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let f=0;f<l;f++){const y=a.getByIndex(f);h.push(this.queries[y.indexInDeclarationView].clone())}return new Ov(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Uv(s,a).matches&&this.queries[a].setDirty()}}class Pv{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class Ql{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,f=this.getByIndex(l).embeddedTView(s,h);f&&(f.indexInDeclarationView=l,null!==a?a.push(f):a=[f])}return null!==a?new Ql(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Cg{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Cg(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const f=l[h];this.matchTNodeWithReadOption(s,a,UI(a,f)),this.matchTNodeWithReadOption(s,a,lu(a,s,f,!1,!1))}else l===yd?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,lu(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===ba||h===hf||h===yd&&4&a.type)this.addMatch(a.index,-2);else{const f=lu(a,s,h,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function UI(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function Nv(i,s,a,l){return-1===a?function Rv(i,s){return 11&i.type?Rl(i,s):4&i.type?df(i,s):null}(s,i):-2===a?function BI(i,s,a){return a===ba?Rl(s,i):a===yd?df(s,i):a===hf?xv(s,i):void 0}(i,s,l):Ji(i,i[Xe],a,s)}function pf(i,s,a,l){const h=s[ar].queries[l];if(null===h.matches){const f=i.data,y=a.matches,w=[];for(let b=0;b<y.length;b+=2){const A=y[b];w.push(A<0?null:Nv(s,f[A],y[b+1],a.metadata.read))}h.matches=w}return h.matches}function Dg(i,s,a,l){const h=i.queries.getByIndex(a),f=h.matches;if(null!==f){const y=pf(i,s,h,a);for(let w=0;w<f.length;w+=2){const b=f[w];if(b>0)l.push(y[w/2]);else{const A=f[w+1],x=s[-b];for(let U=Ar;U<x.length;U++){const Z=x[U];Z[ws]===Z[gn]&&Dg(Z[Xe],Z,A,l)}if(null!==x[Is]){const U=x[Is];for(let Z=0;Z<U.length;Z++){const Q=U[Z];Dg(Q[Xe],Q,A,l)}}}}}return l}function kv(i){const s=Se(),a=Xt(),l=bc();tu(l+1);const h=Uv(a,l);if(i.dirty&&function Qu(i){return 4==(4&i[jt])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const f=h.crossesNgTemplate?Dg(a,s,l,[]):pf(a,s,h,l);i.reset(f,E0),i.notifyOnChanges()}return!0}return!1}function Fv(i,s,a,l){const h=Xt();if(h.firstCreatePass){const f=Hn();(function gf(i,s,a){null===i.queries&&(i.queries=new Ql),i.queries.track(new Cg(s,a))})(h,new Pv(s,a,l),f.index),function ds(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(h,i),2==(2&a)&&(h.staticContentQueries=!0)}!function Vv(i,s,a){const l=new Ig(4==(4&a));Z0(i,s,l,l.destroy),null===s[ar]&&(s[ar]=new Ov),s[ar].queries.push(new _d(l))}(h,Se(),a)}function Lv(){return function jI(i,s){return i[ar].queries[s].queryList}(Se(),bc())}function Uv(i,s){return i.queries.getByIndex(s)}function $v(i){return!!$r(i)}function yf(...i){}const Mg=new vn("Application Initializer");let ie=(()=>{class i{constructor(a){this.appInits=a,this.resolve=yf,this.reject=yf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const f=this.appInits[h]();if($l(f))a.push(f);else if(Ew(f)){const y=new Promise((w,b)=>{f.subscribe({complete:w,error:b})});a.push(y)}}Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Be(Mg,8))},i.\u0275prov=tt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const vf=new vn("AppId",{providedIn:"root",factory:function Fs(){return`${nc()}${nc()}${nc()}`}});function nc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ka=new vn("Platform Initializer"),OD=new vn("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let Wv=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=tt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const xg=new vn("LocaleId",{providedIn:"root",factory:()=>nt(xg,it.Optional|it.SkipSelf)||function RD(){return typeof $localize<"u"&&$localize.locale||ql}()}),hs=new vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ti{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let kD=(()=>{class i{compileModuleSync(a){return new vg(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),f=Oo($r(a).declarations).reduce((y,w)=>{const b=nn(w);return b&&y.push(new Nr(b)),y},[]);return new Ti(l,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=tt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const FD=(()=>Promise.resolve(0))();function Yv(i){typeof Zone>"u"?FD.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Ls{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Lo(!1),this.onMicrotaskEmpty=new Lo(!1),this.onStable=new Lo(!1),this.onError=new Lo(!1),typeof Zone>"u")throw new fe(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function LD(){let i=xt.requestAnimationFrame,s=xt.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function BD(i){const s=()=>{!function UD(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(xt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Xv(i),i.isCheckStableRunning=!0,Qv(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Xv(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,f,y,w)=>{try{return JI(i),a.invokeTask(h,f,y,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),eb(i)}},onInvoke:(a,l,h,f,y,w,b)=>{try{return JI(i),a.invoke(h,f,y,w,b)}finally{i.shouldCoalesceRunChangeDetection&&s(),eb(i)}},onHasTask:(a,l,h,f)=>{a.hasTask(h,f),l===h&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,Xv(i),Qv(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,l,h,f)=>(a.handleError(h,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ls.isInAngularZone())throw new fe(909,!1)}static assertNotInAngularZone(){if(Ls.isInAngularZone())throw new fe(909,!1)}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,h){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+h,s,VD,yf,yf);try{return f.runTask(y,a,l)}finally{f.cancelTask(y)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const VD={};function Qv(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Xv(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function JI(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function eb(i){i._nesting--,Qv(i)}class jD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Lo,this.onMicrotaskEmpty=new Lo,this.onStable=new Lo,this.onError=new Lo}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,h){return s.apply(a,l)}}const Jv=new vn(""),tb=new vn("");let wf,nb=(()=>{class i{constructor(a,l,h){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,wf||(function $D(i){wf=i}(h),h.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ls.assertNotInAngularZone(),Yv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yv(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,h){return[]}}return i.\u0275fac=function(a){return new(a||i)(Be(Ls),Be(e_),Be(tb))},i.\u0275prov=tt({token:i,factory:i.\u0275fac}),i})(),e_=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return wf?.findTestabilityInTree(this,a,l)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=tt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Tn=!1;let La=null;const Pu=new vn("AllowMultipleToken"),Rg=new vn("PlatformDestroyListeners"),Yn=new vn("appBootstrapListener");class rb{constructor(s,a){this.name=s,this.token=a}}function Cr(i,s,a=[]){const l=`Platform: ${s}`,h=new vn(l);return(f=[])=>{let y=Ua();if(!y||y.injector.get(Pu,!1)){const w=[...a,...f,{provide:h,useValue:!0}];i?i(w):function Cd(i){if(La&&!La.get(Pu,!1))throw new fe(400,!1);La=i;const s=i.get(kg);(function ib(i){const s=i.get(ka,null);s&&s.forEach(a=>a())})(i)}(function Va(i=[],s){return Wc.create({name:s,providers:[{provide:Ym,useValue:"platform"},{provide:Rg,useValue:new Set([()=>La=null])},...i]})}(w,l))}return function HD(i){const s=Ua();if(!s)throw new fe(401,!1);return s}()}}function Ua(){return La?.get(kg)??null}let kg=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const h=function Dd(i,s){let a;return a="noop"===i?new jD:("zone.js"===i?void 0:i)||new Ls(s),a}(l?.ngZone,function t_(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(l)),f=[{provide:Ls,useValue:h}];return h.run(()=>{const y=Wc.create({providers:f,parent:this.injector,name:a.moduleType.name}),w=a.create(y),b=w.injector.get(bh,null);if(!b)throw new fe(402,!1);return h.runOutsideAngular(()=>{const A=h.onError.subscribe({next:x=>{b.handleError(x)}});w.onDestroy(()=>{rc(this._modules,w),A.unsubscribe()})}),function sb(i,s,a){try{const l=a();return $l(l)?l.catch(h=>{throw s.runOutsideAngular(()=>i.handleError(h)),h}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(b,h,()=>{const A=w.injector.get(ie);return A.runInitializers(),A.donePromise.then(()=>(function Xp(i){et(i,"Expected localeId to be defined"),"string"==typeof i&&(tI=i.toLowerCase().replace(/_/g,"-"))}(w.injector.get(xg,ql)||ql),this._moduleDoBootstrap(w),w))})})}bootstrapModule(a,l=[]){const h=Ba({},l);return function Ng(i,s,a){const l=new vg(a);return Promise.resolve(l)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,h))}_moduleDoBootstrap(a){const l=a.injector.get(ao);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new fe(-403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new fe(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(Rg,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Be(Wc))},i.\u0275prov=tt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Ba(i,s){return Array.isArray(s)?s.reduce(Ba,i):{...i,...s}}let ao=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,l,h){this._zone=a,this._injector=l,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new P.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new P.y(w=>{let b;this._zone.runOutsideAngular(()=>{b=this._zone.onStable.subscribe(()=>{Ls.assertNotInAngularZone(),Yv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Ls.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{b.unsubscribe(),A.unsubscribe()}});this.isStable=(0,ee.T)(f,y.pipe((0,ne.B)()))}bootstrap(a,l){const h=a instanceof I0;if(!this._injector.get(ie).done){!h&&Xr(a);throw new fe(405,Tn)}let y;y=h?a:this._injector.get(_u).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const w=function En(i){return i.isBoundToModule}(y)?void 0:this._injector.get(Ns),A=y.create(Wc.NULL,[],l||y.selector,w),x=A.location.nativeElement,U=A.injector.get(Jv,null);return U?.registerApplication(x),A.onDestroy(()=>{this.detachView(A.hostView),rc(this.components,A),U?.unregisterApplication(x)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new fe(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;rc(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(Yn,[]);l.push(...this._bootstrapListeners),l.forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>rc(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new fe(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(Be(Ls),Be(Pl),Be(bh))},i.\u0275prov=tt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function rc(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}function If(){return!1}let sc=(()=>{class i{}return i.__NG_ELEMENT_ID__=n_,i})();function n_(i){return function Ef(i,s,a){if(za(i)&&!a){const l=cr(i.index,s);return new Xc(l,l)}return 47&i.type?new Xc(s[Dr],s):null}(Hn(),Se(),16==(16&i))}class Bg{constructor(){}supports(s){return Ca(s)}create(s){return new s_(s)}}const cb=(i,s)=>s;class s_{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||cb}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,h=0,f=null;for(;a||l;){const y=!l||a&&a.currentIndex<fb(l,h,f)?a:l,w=fb(y,h,f),b=y.currentIndex;if(y===l)h--,l=l._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{f||(f=[]);const A=w-h,x=b-h;if(A!=x){for(let Z=0;Z<A;Z++){const Q=Z<f.length?f[Z]:f[Z]=0,me=Q+Z;x<=me&&me<A&&(f[Z]=Q+1)}f[y.previousIndex]=x-A}}w!==b&&s(y,w,b)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Ca(s))throw new fe(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,f,y,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)f=s[w],y=this._trackByFn(w,f),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,f,y,w)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,y,w),l=!0),a=a._next}else h=0,function Sy(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Symbol.iterator]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,w=>{y=this._trackByFn(h,w),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,w,y,h)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,y,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,h){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,h)):s=this._addAfter(new db(a,l),f,h),s}_verifyReinsertion(s,a,l,h){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,f=s._nextRemoved;return null===h?this._removalsHead=f:h._nextRemoved=f,null===f?this._removalsTail=h:f._prevRemoved=h,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new o_),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new o_),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class db{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hb{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class o_{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new hb,this.map.set(a,l)),l.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fb(i,s,a){const l=i.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+s+h}class pb{constructor(){}supports(s){return s instanceof Map||My(s)}create(){return new KD}}class KD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||My(s)))throw new fe(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const f=h._prev,y=h._next;return f&&(f._next=y),y&&(y._prev=f),h._next=null,h._prev=null,h}const l=new gb(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class gb{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mb(){return new jg([new Bg])}let jg=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||mb()),deps:[[i,new fa,new Vi]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new fe(901,!1)}}return i.\u0275prov=tt({token:i,providedIn:"root",factory:mb}),i})();function yb(){return new a_([new pb])}let a_=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||yb()),deps:[[i,new fa,new Vi]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(l)return l;throw new fe(901,!1)}}return i.\u0275prov=tt({token:i,providedIn:"root",factory:yb}),i})();const Hg=Cr(null,"core",[]);let vb=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Be(ao))},i.\u0275mod=$a({type:i}),i.\u0275inj=Ln({}),i})();function _b(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(ft,De,L)=>{L.d(De,{Z:()=>Ge});var c=L(2090),B=L(4859),P=L(9681),ee=L(1877);class ne{constructor(fe,Ie){this._delegate=fe,this.firebase=Ie,(0,P._addComponent)(fe,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(fe,Ie=P._DEFAULT_ENTRY_NAME){var we;this._delegate.checkDestroyed();const Pe=this._delegate.container.getProvider(fe);return!Pe.isInitialized()&&"EXPLICIT"===(null===(we=Pe.getComponent())||void 0===we?void 0:we.instantiationMode)&&Pe.initialize(),Pe.getImmediate({identifier:Ie})}_removeServiceInstance(fe,Ie=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(Ie)}_addComponent(fe){(0,P._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,P._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function de(){const ot=function le(ot){const fe={},Ie={__esModule:!0,initializeApp:function Te(K,oe={}){const pe=P.initializeApp(K,oe);if((0,c.r3)(fe,pe.name))return fe[pe.name];const Ze=new ot(pe,Ie);return fe[pe.name]=Ze,Ze},app:Pe,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function be(K){const oe=K.name,pe=oe.replace("-compat","");if(P._registerComponent(K)&&"PUBLIC"===K.type){const Ze=($e=Pe())=>{if("function"!=typeof $e[pe])throw he.create("invalid-app-argument",{appName:oe});return $e[pe]()};void 0!==K.serviceProps&&(0,c.ZB)(Ze,K.serviceProps),Ie[pe]=Ze,ot.prototype[pe]=function(...$e){return this._getService.bind(this,oe).apply(this,K.multipleInstances?$e:[])}}return"PUBLIC"===K.type?Ie[pe]:null},removeApp:function we(K){delete fe[K]},useAsService:function He(K,oe){return"serverAuth"===oe?null:oe},modularAPIs:P}};function Pe(K){if(!(0,c.r3)(fe,K=K||P._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:K});return fe[K]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function xe(){return Object.keys(fe).map(K=>fe[K])}}),Pe.App=ot,Ie}(ne);return ot.INTERNAL=Object.assign(Object.assign({},ot.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function fe(Ie){(0,c.ZB)(ot,Ie)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),ot}(),z=new ee.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ot=self.firebase.SDK_VERSION;ot&&ot.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ge=H;!function Ae(ot){(0,P.registerVersion)("@firebase/app-compat","0.2.7",ot)}()},9681:(ft,De,L)=>{L.r(De),L.d(De,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>Ur,_DEFAULT_ENTRY_NAME:()=>ke,_addComponent:()=>rn,_addOrOverwriteComponent:()=>mt,_apps:()=>et,_clearComponents:()=>Ln,_components:()=>Ke,_getProvider:()=>tt,_registerComponent:()=>dt,_removeServiceInstance:()=>tn,deleteApp:()=>ai,getApp:()=>Vn,getApps:()=>oi,initializeApp:()=>xi,onLog:()=>it,registerVersion:()=>or,setLogLevel:()=>pr});var c=L(5861),B=L(4859),P=L(1877),ee=L(2090),ne=L(8766);class se{constructor(_e){this.container=_e}getPlatformInfoString(){return this.container.getProviders().map(nt=>{if(function he(Be){return"VERSION"===Be.getComponent()?.type}(nt)){const yt=nt.getImmediate();return`${yt.library}/${yt.version}`}return null}).filter(nt=>nt).join(" ")}}const le="@firebase/app",H=new P.Yd("@firebase/app"),ke="[DEFAULT]",Ve={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},et=new Map,Ke=new Map;function rn(Be,_e){try{Be.container.addComponent(_e)}catch(nt){H.debug(`Component ${_e.name} failed to register with FirebaseApp ${Be.name}`,nt)}}function mt(Be,_e){Be.container.addOrOverwriteComponent(_e)}function dt(Be){const _e=Be.name;if(Ke.has(_e))return H.debug(`There were multiple attempts to register component ${_e}.`),!1;Ke.set(_e,Be);for(const nt of et.values())rn(nt,Be);return!0}function tt(Be,_e){const nt=Be.container.getProvider("heartbeat").getImmediate({optional:!0});return nt&&nt.triggerHeartbeat(),Be.container.getProvider(_e)}function tn(Be,_e,nt=ke){tt(Be,_e).clearInstance(nt)}function Ln(){Ke.clear()}const sn=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Jn{constructor(_e,nt,yt){this._isDeleted=!1,this._options=Object.assign({},_e),this._config=Object.assign({},nt),this._name=nt.name,this._automaticDataCollectionEnabled=nt.automaticDataCollectionEnabled,this._container=yt,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this.checkDestroyed(),this._automaticDataCollectionEnabled=_e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_e){this._isDeleted=_e}checkDestroyed(){if(this.isDeleted)throw sn.create("app-deleted",{appName:this._name})}}const Ur="9.19.1";function xi(Be,_e={}){let nt=Be;"object"!=typeof _e&&(_e={name:_e});const yt=Object.assign({name:ke,automaticDataCollectionEnabled:!1},_e),Tt=yt.name;if("string"!=typeof Tt||!Tt)throw sn.create("bad-app-name",{appName:String(Tt)});if(nt||(nt=(0,ee.aH)()),!nt)throw sn.create("no-options");const Yt=et.get(Tt);if(Yt){if((0,ee.vZ)(nt,Yt.options)&&(0,ee.vZ)(yt,Yt.config))return Yt;throw sn.create("duplicate-app",{appName:Tt})}const jn=new B.H0(Tt);for(const j of Ke.values())jn.addComponent(j);const $=new Jn(nt,yt,jn);return et.set(Tt,$),$}function Vn(Be=ke){const _e=et.get(Be);if(!_e&&Be===ke)return xi();if(!_e)throw sn.create("no-app",{appName:Be});return _e}function oi(){return Array.from(et.values())}function ai(Be){return mn.apply(this,arguments)}function mn(){return(mn=(0,c.Z)(function*(Be){const _e=Be.name;et.has(_e)&&(et.delete(_e),yield Promise.all(Be.container.getProviders().map(nt=>nt.delete())),Be.isDeleted=!0)})).apply(this,arguments)}function or(Be,_e,nt){var yt;let Tt=null!==(yt=Ve[Be])&&void 0!==yt?yt:Be;nt&&(Tt+=`-${nt}`);const Yt=Tt.match(/\s|\//),jn=_e.match(/\s|\//);if(Yt||jn){const $=[`Unable to register library "${Tt}" with version "${_e}":`];return Yt&&$.push(`library name "${Tt}" contains illegal characters (whitespace or "/")`),Yt&&jn&&$.push("and"),jn&&$.push(`version name "${_e}" contains illegal characters (whitespace or "/")`),void H.warn($.join(" "))}dt(new B.wA(`${Tt}-version`,()=>({library:Tt,version:_e}),"VERSION"))}function it(Be,_e){if(null!==Be&&"function"!=typeof Be)throw sn.create("invalid-log-argument");(0,P.Am)(Be,_e)}function pr(Be){(0,P.Ub)(Be)}const gr="firebase-heartbeat-database",Zn=1,Un="firebase-heartbeat-store";let Qr=null;function xt(){return Qr||(Qr=(0,ne.X3)(gr,Zn,{upgrade:(Be,_e)=>{0===_e&&Be.createObjectStore(Un)}}).catch(Be=>{throw sn.create("idb-open",{originalErrorMessage:Be.message})})),Qr}function Mt(){return(Mt=(0,c.Z)(function*(Be){try{return(yield xt()).transaction(Un).objectStore(Un).get(qn(Be))}catch(_e){if(_e instanceof ee.ZR)H.warn(_e.message);else{const nt=sn.create("idb-get",{originalErrorMessage:_e?.message});H.warn(nt.message)}}})).apply(this,arguments)}function wn(Be,_e){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,c.Z)(function*(Be,_e){try{const yt=(yield xt()).transaction(Un,"readwrite");return yield yt.objectStore(Un).put(_e,qn(Be)),yt.done}catch(nt){if(nt instanceof ee.ZR)H.warn(nt.message);else{const yt=sn.create("idb-set",{originalErrorMessage:nt?.message});H.warn(yt.message)}}})).apply(this,arguments)}function qn(Be){return`${Be.name}!${Be.options.appId}`}class vi{constructor(_e){this.container=_e,this._heartbeatsCache=null;const nt=this.container.getProvider("app").getImmediate();this._storage=new Gt(nt),this._heartbeatsCachePromise=this._storage.read().then(yt=>(this._heartbeatsCache=yt,yt))}triggerHeartbeat(){var _e=this;return(0,c.Z)(function*(){const yt=_e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Tt=Ut();if(null===_e._heartbeatsCache&&(_e._heartbeatsCache=yield _e._heartbeatsCachePromise),_e._heartbeatsCache.lastSentHeartbeatDate!==Tt&&!_e._heartbeatsCache.heartbeats.some(Yt=>Yt.date===Tt))return _e._heartbeatsCache.heartbeats.push({date:Tt,agent:yt}),_e._heartbeatsCache.heartbeats=_e._heartbeatsCache.heartbeats.filter(Yt=>{const jn=new Date(Yt.date).valueOf();return Date.now()-jn<=2592e6}),_e._storage.overwrite(_e._heartbeatsCache)})()}getHeartbeatsHeader(){var _e=this;return(0,c.Z)(function*(){if(null===_e._heartbeatsCache&&(yield _e._heartbeatsCachePromise),null===_e._heartbeatsCache||0===_e._heartbeatsCache.heartbeats.length)return"";const nt=Ut(),{heartbeatsToSend:yt,unsentEntries:Tt}=function _i(Be,_e=1024){const nt=[];let yt=Be.slice();for(const Tt of Be){const Yt=nt.find(jn=>jn.agent===Tt.agent);if(Yt){if(Yt.dates.push(Tt.date),Br(nt)>_e){Yt.dates.pop();break}}else if(nt.push({agent:Tt.agent,dates:[Tt.date]}),Br(nt)>_e){nt.pop();break}yt=yt.slice(1)}return{heartbeatsToSend:nt,unsentEntries:yt}}(_e._heartbeatsCache.heartbeats),Yt=(0,ee.L)(JSON.stringify({version:2,heartbeats:yt}));return _e._heartbeatsCache.lastSentHeartbeatDate=nt,Tt.length>0?(_e._heartbeatsCache.heartbeats=Tt,yield _e._storage.overwrite(_e._heartbeatsCache)):(_e._heartbeatsCache.heartbeats=[],_e._storage.overwrite(_e._heartbeatsCache)),Yt})()}}function Ut(){return(new Date).toISOString().substring(0,10)}class Gt{constructor(_e){this.app=_e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var _e=this;return(0,c.Z)(function*(){return(yield _e._canUseIndexedDBPromise)&&(yield function ht(Be){return Mt.apply(this,arguments)}(_e.app))||{heartbeats:[]}})()}overwrite(_e){var nt=this;return(0,c.Z)(function*(){var yt;if(yield nt._canUseIndexedDBPromise){const Yt=yield nt.read();return wn(nt.app,{lastSentHeartbeatDate:null!==(yt=_e.lastSentHeartbeatDate)&&void 0!==yt?yt:Yt.lastSentHeartbeatDate,heartbeats:_e.heartbeats})}})()}add(_e){var nt=this;return(0,c.Z)(function*(){var yt;if(yield nt._canUseIndexedDBPromise){const Yt=yield nt.read();return wn(nt.app,{lastSentHeartbeatDate:null!==(yt=_e.lastSentHeartbeatDate)&&void 0!==yt?yt:Yt.lastSentHeartbeatDate,heartbeats:[...Yt.heartbeats,..._e.heartbeats]})}})()}}function Br(Be){return(0,ee.L)(JSON.stringify({version:2,heartbeats:Be})).length}!function Bn(Be){dt(new B.wA("platform-logger",_e=>new se(_e),"PRIVATE")),dt(new B.wA("heartbeat",_e=>new vi(_e),"PRIVATE")),or(le,"0.9.7",Be),or(le,"0.9.7","esm2017"),or("fire-js","")}("")},4859:(ft,De,L)=>{L.d(De,{H0:()=>le,wA:()=>P});var c=L(5861),B=L(2090);class P{constructor(H,z,q){this.name=H,this.instanceFactory=z,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const ee="[DEFAULT]";class ne{constructor(H,z){this.name=H,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const z=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(z)){const q=new B.BH;if(this.instancesDeferred.set(z,q),this.isInitialized(z)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:z});Ue&&q.resolve(Ue)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(H){var z;const q=this.normalizeInstanceIdentifier(H?.identifier),Ue=null!==(z=H?.optional)&&void 0!==z&&z;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(Ae){if(Ue)return null;throw Ae}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function he(de){return"EAGER"===de.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[z,q]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(z);try{const Ae=this.getOrInitializeService({instanceIdentifier:Ue});q.resolve(Ae)}catch{}}}}clearInstance(H=ee){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,c.Z)(function*(){const z=Array.from(H.instances.values());yield Promise.all([...z.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...z.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=ee){return this.instances.has(H)}getOptions(H=ee){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:z={}}=H,q=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:q,options:z});for(const[Ae,Ge]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(Ae)&&Ge.resolve(Ue);return Ue}onInit(H,z){var q;const Ue=this.normalizeInstanceIdentifier(z),Ae=null!==(q=this.onInitCallbacks.get(Ue))&&void 0!==q?q:new Set;Ae.add(H),this.onInitCallbacks.set(Ue,Ae);const Ge=this.instances.get(Ue);return Ge&&H(Ge,Ue),()=>{Ae.delete(H)}}invokeOnInitCallbacks(H,z){const q=this.onInitCallbacks.get(z);if(q)for(const Ue of q)try{Ue(H,z)}catch{}}getOrInitializeService({instanceIdentifier:H,options:z={}}){let q=this.instances.get(H);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(de=H,de===ee?void 0:de),options:z}),this.instances.set(H,q),this.instancesOptions.set(H,z),this.invokeOnInitCallbacks(q,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,q)}catch{}var de;return q||null}normalizeInstanceIdentifier(H=ee){return this.component?this.component.multipleInstances?H:ee:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const z=this.getProvider(H.name);if(z.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);z.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const z=new ne(H,this);return this.providers.set(H,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(ft,De,L)=>{L.d(De,{Am:()=>de,Ub:()=>le,Yd:()=>he,in:()=>B});const c=[];var B=(()=>{return(H=B||(B={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",B;var H})();const P={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},ee=B.INFO,ne={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},se=(H,z,...q)=>{if(z<H.logLevel)return;const Ue=(new Date).toISOString(),Ae=ne[z];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Ae](`[${Ue}]  ${H.name}:`,...q)};class he{constructor(z){this.name=z,this._logLevel=ee,this._logHandler=se,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in B))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?P[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...z),this._logHandler(this,B.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...z),this._logHandler(this,B.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,B.INFO,...z),this._logHandler(this,B.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,B.WARN,...z),this._logHandler(this,B.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...z),this._logHandler(this,B.ERROR,...z)}}function le(H){c.forEach(z=>{z.setLogLevel(H)})}function de(H,z){for(const q of c){let Ue=null;z&&z.level&&(Ue=P[z.level]),q.userLogHandler=null===H?null:(Ae,Ge,...ot)=>{const fe=ot.map(Ie=>{if(null==Ie)return null;if("string"==typeof Ie)return Ie;if("number"==typeof Ie||"boolean"==typeof Ie)return Ie.toString();if(Ie instanceof Error)return Ie.message;try{return JSON.stringify(Ie)}catch{return null}}).filter(Ie=>Ie).join(" ");Ge>=(Ue??Ae.logLevel)&&H({level:B[Ge].toLowerCase(),message:fe,args:ot,type:Ae.name})}}}},259:(ft,De,L)=>{L.d(De,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp,ZF:()=>c.initializeApp});var c=L(9681);(0,c.registerVersion)("firebase","9.19.1","app")},9260:(ft,De,L)=>{L.d(De,{Z:()=>c.Z});var c=L(3942);c.Z.registerVersion("firebase","9.19.1","app-compat")},9568:(ft,De,L)=>{L.r(De);var c=L(5861),B=L(3942),P=L(3432),ee=L(2090),he=(L(9681),L(1877),L(4859));function le(){return window}const de=2e3;function z(){return z=(0,c.Z)(function*(R,F,O){var Y;const{BuildInfo:ae}=le();(0,P.ar)(F.sessionId,"AuthEvent did not contain a session ID");const st=yield function Ie(R){return we.apply(this,arguments)}(F.sessionId),It={};return(0,P.as)()?It.ibi=ae.packageName:(0,P.at)()?It.apn=ae.packageName:(0,P.au)(R,"operation-not-supported-in-this-environment"),ae.displayName&&(It.appDisplayName=ae.displayName),It.sessionId=st,(0,P.av)(R,O,F.type,void 0,null!==(Y=F.eventId)&&void 0!==Y?Y:void 0,It)}),z.apply(this,arguments)}function Ue(){return(Ue=(0,c.Z)(function*(R){const{BuildInfo:F}=le(),O={};(0,P.as)()?O.iosBundleId=F.packageName:(0,P.at)()?O.androidPackageName=F.packageName:(0,P.au)(R,"operation-not-supported-in-this-environment"),yield(0,P.aw)(R,O)})).apply(this,arguments)}function ot(){return(ot=(0,c.Z)(function*(R,F,O){const{cordova:Y}=le();let ae=()=>{};try{yield new Promise((st,It)=>{let St=null;function qt(){var Bt;st();const jr=null===(Bt=Y.plugins.browsertab)||void 0===Bt?void 0:Bt.close;"function"==typeof jr&&jr(),"function"==typeof O?.close&&O.close()}function bt(){St||(St=window.setTimeout(()=>{It((0,P.ay)(R,"redirect-cancelled-by-user"))},de))}function yn(){"visible"===document?.visibilityState&&bt()}F.addPassiveListener(qt),document.addEventListener("resume",bt,!1),(0,P.at)()&&document.addEventListener("visibilitychange",yn,!1),ae=()=>{F.removePassiveListener(qt),document.removeEventListener("resume",bt,!1),document.removeEventListener("visibilitychange",yn,!1),St&&window.clearTimeout(St)}})}finally{ae()}})).apply(this,arguments)}function we(){return(we=(0,c.Z)(function*(R){const F=function Pe(R){if((0,P.ar)(/[0-9a-zA-Z]+/.test(R),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(R);const F=new ArrayBuffer(R.length),O=new Uint8Array(F);for(let Y=0;Y<R.length;Y++)O[Y]=R.charCodeAt(Y);return O}(R),O=yield crypto.subtle.digest("SHA-256",F);return Array.from(new Uint8Array(O)).map(ae=>ae.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Te=20;class xe extends P.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(F=>{this.resolveInialized=F})}addPassiveListener(F){this.passiveListeners.add(F)}removePassiveListener(F){this.passiveListeners.delete(F)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(F){return this.resolveInialized(),this.passiveListeners.forEach(O=>O(F)),super.onEvent(F)}initialized(){var F=this;return(0,c.Z)(function*(){yield F.initPromise})()}}function K(R){return oe.apply(this,arguments)}function oe(){return(oe=(0,c.Z)(function*(R){const F=yield $e()._get(Ct(R));return F&&(yield $e()._remove(Ct(R))),F})).apply(this,arguments)}function Ze(){const R=[],F="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let O=0;O<Te;O++){const Y=Math.floor(Math.random()*F.length);R.push(F.charAt(Y))}return R.join("")}function $e(){return(0,P.aB)(P.b)}function Ct(R){return(0,P.aC)("authEvent",R.config.apiKey,R.name)}function ce(R){if(!R?.includes("?"))return{};const[F,...O]=R.split("?");return(0,ee.zd)(O.join("?"))}const ke=class Me{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aD,this._overrideRedirectResult=P.aE}_initialize(F){var O=this;return(0,c.Z)(function*(){const Y=F._key();let ae=O.eventManagers.get(Y);return ae||(ae=new xe(F),O.eventManagers.set(Y,ae),O.attachCallbackListeners(F,ae)),ae})()}_openPopup(F){(0,P.au)(F,"operation-not-supported-in-this-environment")}_openRedirect(F,O,Y,ae){var st=this;return(0,c.Z)(function*(){!function fe(R){var F,O,Y,ae,st,It,St,qt,bt,yn;const Bt=le();(0,P.az)("function"==typeof(null===(F=Bt?.universalLinks)||void 0===F?void 0:F.subscribe),R,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.az)(typeof(null===(O=Bt?.BuildInfo)||void 0===O?void 0:O.packageName)<"u",R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.az)("function"==typeof(null===(st=null===(ae=null===(Y=Bt?.cordova)||void 0===Y?void 0:Y.plugins)||void 0===ae?void 0:ae.browsertab)||void 0===st?void 0:st.openUrl),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.az)("function"==typeof(null===(qt=null===(St=null===(It=Bt?.cordova)||void 0===It?void 0:It.plugins)||void 0===St?void 0:St.browsertab)||void 0===qt?void 0:qt.isAvailable),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.az)("function"==typeof(null===(yn=null===(bt=Bt?.cordova)||void 0===bt?void 0:bt.InAppBrowser)||void 0===yn?void 0:yn.open),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(F);const It=yield st._initialize(F);yield It.initialized(),It.resetRedirect(),(0,P.aF)(),yield st._originValidation(F);const St=function be(R,F,O=null){return{type:F,eventId:O,urlResponse:null,sessionId:Ze(),postBody:null,tenantId:R.tenantId,error:(0,P.ay)(R,"no-auth-event")}}(F,Y,ae);yield function He(R,F){return $e()._set(Ct(R),F)}(F,St);const qt=yield function H(R,F,O){return z.apply(this,arguments)}(F,St,O),bt=yield function Ae(R){const{cordova:F}=le();return new Promise(O=>{F.plugins.browsertab.isAvailable(Y=>{let ae=null;Y?F.plugins.browsertab.openUrl(R):ae=F.InAppBrowser.open(R,(0,P.ax)()?"_blank":"_system","location=yes"),O(ae)})})}(qt);return function Ge(R,F,O){return ot.apply(this,arguments)}(F,It,bt)})()}_isIframeWebStorageSupported(F,O){throw new Error("Method not implemented.")}_originValidation(F){const O=F._key();return this.originValidationPromises[O]||(this.originValidationPromises[O]=function q(R){return Ue.apply(this,arguments)}(F)),this.originValidationPromises[O]}attachCallbackListeners(F,O){const{universalLinks:Y,handleOpenURL:ae,BuildInfo:st}=le(),It=setTimeout((0,c.Z)(function*(){yield K(F),O.onEvent(Ve())}),500),St=function(){var yn=(0,c.Z)(function*(Bt){clearTimeout(It);const jr=yield K(F);let Bu=null;jr&&Bt?.url&&(Bu=function pe(R,F){var O,Y;const ae=function re(R){const F=ce(R),O=F.link?decodeURIComponent(F.link):void 0,Y=ce(O).link,ae=F.deep_link_id?decodeURIComponent(F.deep_link_id):void 0;return ce(ae).link||ae||Y||O||R}(F);if(ae.includes("/__/auth/callback")){const st=ce(ae),It=st.firebaseError?function Je(R){try{return JSON.parse(R)}catch{return null}}(decodeURIComponent(st.firebaseError)):null,St=null===(Y=null===(O=It?.code)||void 0===O?void 0:O.split("auth/"))||void 0===Y?void 0:Y[1],qt=St?(0,P.ay)(St):null;return qt?{type:R.type,eventId:R.eventId,tenantId:R.tenantId,error:qt,urlResponse:null,sessionId:null,postBody:null}:{type:R.type,eventId:R.eventId,tenantId:R.tenantId,sessionId:R.sessionId,urlResponse:ae,postBody:null}}return null}(jr,Bt.url)),O.onEvent(Bu||Ve())});return function(jr){return yn.apply(this,arguments)}}();typeof Y<"u"&&"function"==typeof Y.subscribe&&Y.subscribe(null,St);const qt=ae,bt=`${st.packageName.toLowerCase()}://`;le().handleOpenURL=function(){var yn=(0,c.Z)(function*(Bt){if(Bt.toLowerCase().startsWith(bt)&&St({url:Bt}),"function"==typeof qt)try{qt(Bt)}catch(jr){console.error(jr)}});return function(Bt){return yn.apply(this,arguments)}}()}};function Ve(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.ay)("no-auth-event")}}const mt=1e3;function dt(){var R;return(null===(R=self?.location)||void 0===R?void 0:R.protocol)||null}function tn(R=(0,ee.z$)()){return!("file:"!==dt()&&"ionic:"!==dt()&&"capacitor:"!==dt()||!R.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ur(){try{const R=self.localStorage,F=P.aK();if(R)return R.setItem(F,"1"),R.removeItem(F),!function Jn(R=(0,ee.z$)()){return function cn(){return(0,ee.w1)()&&11===document?.documentMode}()||function sn(R=(0,ee.z$)()){return/Edge\/\d+/.test(R)}(R)}()||(0,ee.hl)()}catch{return xi()&&(0,ee.hl)()}return!1}function xi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Vn(){return(function tt(){return"http:"===dt()||"https:"===dt()}()||(0,ee.ru)()||tn())&&!function Ln(){return(0,ee.b$)()||(0,ee.UG)()}()&&Ur()&&!xi()}function oi(){return tn()&&typeof document<"u"}function mn(){return(mn=(0,c.Z)(function*(){return!!oi()&&new Promise(R=>{const F=setTimeout(()=>{R(!1)},mt);document.addEventListener("deviceready",()=>{clearTimeout(F),R(!0)})})})).apply(this,arguments)}const it={LOCAL:"local",NONE:"none",SESSION:"session"},pr=P.az,gr="persistence";function Un(R){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,c.Z)(function*(R){yield R._initializationPromise;const F=ht(),O=P.aC(gr,R.config.apiKey,R.name);F&&F.setItem(O,R._getPersistence())})).apply(this,arguments)}function ht(){var R;try{return(null===(R=function or(){return typeof window<"u"?window:null}())||void 0===R?void 0:R.sessionStorage)||null}catch{return null}}const Mt=P.az;class wn{constructor(){this.browserResolver=P.aB(P.k),this.cordovaResolver=P.aB(ke),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aD,this._overrideRedirectResult=P.aE}_initialize(F){var O=this;return(0,c.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._initialize(F)})()}_openPopup(F,O,Y,ae){var st=this;return(0,c.Z)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openPopup(F,O,Y,ae)})()}_openRedirect(F,O,Y,ae){var st=this;return(0,c.Z)(function*(){return yield st.selectUnderlyingResolver(),st.assertedUnderlyingResolver._openRedirect(F,O,Y,ae)})()}_isIframeWebStorageSupported(F,O){this.assertedUnderlyingResolver._isIframeWebStorageSupported(F,O)}_originValidation(F){return this.assertedUnderlyingResolver._originValidation(F)}get _shouldInitProactively(){return oi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Mt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var F=this;return(0,c.Z)(function*(){if(F.underlyingResolver)return;const O=yield function ai(){return mn.apply(this,arguments)}();F.underlyingResolver=O?F.cordovaResolver:F.browserResolver})()}}function Mn(R){return R.unwrap()}function mr(R){return vi(R)}function vi(R){const{_tokenResponse:F}=R instanceof ee.ZR?R.customData:R;if(!F)return null;if(!(R instanceof ee.ZR)&&"temporaryProof"in F&&"phoneNumber"in F)return P.P.credentialFromResult(R);const O=F.providerId;if(!O||O===P.p.PASSWORD)return null;let Y;switch(O){case P.p.GOOGLE:Y=P.U;break;case P.p.FACEBOOK:Y=P.Q;break;case P.p.GITHUB:Y=P.V;break;case P.p.TWITTER:Y=P.Y;break;default:const{oauthIdToken:ae,oauthAccessToken:st,oauthTokenSecret:It,pendingToken:St,nonce:qt}=F;return st||It||ae||St?St?O.startsWith("saml.")?P.aN._create(O,St):P.K._fromParams({providerId:O,signInMethod:O,pendingToken:St,idToken:ae,accessToken:st}):new P.W(O).credential({idToken:ae,accessToken:st,rawNonce:qt}):null}return R instanceof ee.ZR?Y.credentialFromError(R):Y.credentialFromResult(R)}function Ut(R,F){return F.catch(O=>{throw O instanceof ee.ZR&&function er(R,F){var O;const Y=null===(O=F.customData)||void 0===O?void 0:O._tokenResponse;if("auth/multi-factor-auth-required"===F?.code)F.resolver=new Br(R,P.ap(R,F));else if(Y){const ae=vi(F),st=F;ae&&(st.credential=ae,st.tenantId=Y.tenantId||void 0,st.email=Y.email||void 0,st.phoneNumber=Y.phoneNumber||void 0)}}(R,O),O}).then(O=>{const ae=O.user;return{operationType:O.operationType,credential:mr(O),additionalUserInfo:P.an(O),user:Bn.getOrCreate(ae)}})}function _i(R,F){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,c.Z)(function*(R,F){const O=yield F;return{verificationId:O.verificationId,confirm:Y=>Ut(R,O.confirm(Y))}})).apply(this,arguments)}class Br{constructor(F,O){this.resolver=O,this.auth=function qn(R){return R.wrapped()}(F)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(F){return Ut(Mn(this.auth),this.resolver.resolveSignIn(F))}}class Bn{constructor(F){this._delegate=F,this.multiFactor=P.aq(F)}static getOrCreate(F){return Bn.USER_MAP.has(F)||Bn.USER_MAP.set(F,new Bn(F)),Bn.USER_MAP.get(F)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(F){return this._delegate.getIdTokenResult(F)}getIdToken(F){return this._delegate.getIdToken(F)}linkAndRetrieveDataWithCredential(F){return this.linkWithCredential(F)}linkWithCredential(F){var O=this;return(0,c.Z)(function*(){return Ut(O.auth,P.$(O._delegate,F))})()}linkWithPhoneNumber(F,O){var Y=this;return(0,c.Z)(function*(){return _i(Y.auth,P.l(Y._delegate,F,O))})()}linkWithPopup(F){var O=this;return(0,c.Z)(function*(){return Ut(O.auth,P.d(O._delegate,F,wn))})()}linkWithRedirect(F){var O=this;return(0,c.Z)(function*(){return yield Un(P.aG(O.auth)),P.g(O._delegate,F,wn)})()}reauthenticateAndRetrieveDataWithCredential(F){return this.reauthenticateWithCredential(F)}reauthenticateWithCredential(F){var O=this;return(0,c.Z)(function*(){return Ut(O.auth,P.a0(O._delegate,F))})()}reauthenticateWithPhoneNumber(F,O){return _i(this.auth,P.r(this._delegate,F,O))}reauthenticateWithPopup(F){return Ut(this.auth,P.e(this._delegate,F,wn))}reauthenticateWithRedirect(F){var O=this;return(0,c.Z)(function*(){return yield Un(P.aG(O.auth)),P.h(O._delegate,F,wn)})()}sendEmailVerification(F){return P.ad(this._delegate,F)}unlink(F){var O=this;return(0,c.Z)(function*(){return yield P.am(O._delegate,F),O})()}updateEmail(F){return P.ai(this._delegate,F)}updatePassword(F){return P.aj(this._delegate,F)}updatePhoneNumber(F){return P.u(this._delegate,F)}updateProfile(F){return P.ah(this._delegate,F)}verifyBeforeUpdateEmail(F,O){return P.ae(this._delegate,F,O)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Bn.USER_MAP=new WeakMap;const Be=P.az;let _e=(()=>{class R{constructor(O,Y){if(this.app=O,Y.isInitialized())return this._delegate=Y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ae}=O.options;Be(ae,"invalid-api-key",{appName:O.name}),Be(ae,"invalid-api-key",{appName:O.name});const st=typeof window<"u"?wn:void 0;this._delegate=Y.initialize({options:{persistence:yt(ae,O.name),popupRedirectResolver:st}}),this._delegate._updateErrorMap(P.C),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Bn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(O){this._delegate.languageCode=O}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(O){this._delegate.tenantId=O}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(O,Y){P.H(this._delegate,O,Y)}applyActionCode(O){return P.a4(this._delegate,O)}checkActionCode(O){return P.a5(this._delegate,O)}confirmPasswordReset(O,Y){return P.a3(this._delegate,O,Y)}createUserWithEmailAndPassword(O,Y){var ae=this;return(0,c.Z)(function*(){return Ut(ae._delegate,P.a7(ae._delegate,O,Y))})()}fetchProvidersForEmail(O){return this.fetchSignInMethodsForEmail(O)}fetchSignInMethodsForEmail(O){return P.ac(this._delegate,O)}isSignInWithEmailLink(O){return P.aa(this._delegate,O)}getRedirectResult(){var O=this;return(0,c.Z)(function*(){Be(Vn(),O._delegate,"operation-not-supported-in-this-environment");const Y=yield P.j(O._delegate,wn);return Y?Ut(O._delegate,Promise.resolve(Y)):{credential:null,user:null}})()}addFrameworkForLogging(O){!function et(R,F){(0,P.aG)(R)._logFramework(F)}(this._delegate,O)}onAuthStateChanged(O,Y,ae){const{next:st,error:It,complete:St}=nt(O,Y,ae);return this._delegate.onAuthStateChanged(st,It,St)}onIdTokenChanged(O,Y,ae){const{next:st,error:It,complete:St}=nt(O,Y,ae);return this._delegate.onIdTokenChanged(st,It,St)}sendSignInLinkToEmail(O,Y){return P.a9(this._delegate,O,Y)}sendPasswordResetEmail(O,Y){return P.a2(this._delegate,O,Y||void 0)}setPersistence(O){var Y=this;return(0,c.Z)(function*(){let ae;switch(function Zn(R,F){pr(Object.values(it).includes(F),R,"invalid-persistence-type"),(0,ee.b$)()?pr(F!==it.SESSION,R,"unsupported-persistence-type"):(0,ee.UG)()?pr(F===it.NONE,R,"unsupported-persistence-type"):xi()?pr(F===it.NONE||F===it.LOCAL&&(0,ee.hl)(),R,"unsupported-persistence-type"):pr(F===it.NONE||Ur(),R,"unsupported-persistence-type")}(Y._delegate,O),O){case it.SESSION:ae=P.a;break;case it.LOCAL:ae=(yield P.aB(P.i)._isAvailable())?P.i:P.b;break;case it.NONE:ae=P.M;break;default:return P.au("argument-error",{appName:Y._delegate.name})}return Y._delegate.setPersistence(ae)})()}signInAndRetrieveDataWithCredential(O){return this.signInWithCredential(O)}signInAnonymously(){return Ut(this._delegate,P.Z(this._delegate))}signInWithCredential(O){return Ut(this._delegate,P._(this._delegate,O))}signInWithCustomToken(O){return Ut(this._delegate,P.a1(this._delegate,O))}signInWithEmailAndPassword(O,Y){return Ut(this._delegate,P.a8(this._delegate,O,Y))}signInWithEmailLink(O,Y){return Ut(this._delegate,P.ab(this._delegate,O,Y))}signInWithPhoneNumber(O,Y){return _i(this._delegate,P.s(this._delegate,O,Y))}signInWithPopup(O){var Y=this;return(0,c.Z)(function*(){return Be(Vn(),Y._delegate,"operation-not-supported-in-this-environment"),Ut(Y._delegate,P.c(Y._delegate,O,wn))})()}signInWithRedirect(O){var Y=this;return(0,c.Z)(function*(){return Be(Vn(),Y._delegate,"operation-not-supported-in-this-environment"),yield Un(Y._delegate),P.f(Y._delegate,O,wn)})()}updateCurrentUser(O){return this._delegate.updateCurrentUser(O)}verifyPasswordResetCode(O){return P.a6(this._delegate,O)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return R.Persistence=it,R})();function nt(R,F,O){let Y=R;"function"!=typeof R&&({next:Y,error:F,complete:O}=R);const ae=Y;return{next:It=>ae(It&&Bn.getOrCreate(It)),error:F,complete:O}}function yt(R,F){const O=function xt(R,F){const O=ht();if(!O)return[];const Y=P.aC(gr,R,F);switch(O.getItem(Y)){case it.NONE:return[P.M];case it.LOCAL:return[P.i,P.a];case it.SESSION:return[P.a];default:return[]}}(R,F);if(typeof self<"u"&&!O.includes(P.i)&&O.push(P.i),typeof window<"u")for(const Y of[P.b,P.a])O.includes(Y)||O.push(Y);return O.includes(P.M)||O.push(P.M),O}class Tt{constructor(){this.providerId="phone",this._delegate=new P.P(Mn(B.Z.auth()))}static credential(F,O){return P.P.credential(F,O)}verifyPhoneNumber(F,O){return this._delegate.verifyPhoneNumber(F,O)}unwrap(){return this._delegate}}Tt.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,Tt.PROVIDER_ID=P.P.PROVIDER_ID;const Yt=P.az;class jn{constructor(F,O,Y=B.Z.app()){var ae;Yt(null===(ae=Y.options)||void 0===ae?void 0:ae.apiKey,"invalid-api-key",{appName:Y.name}),this._delegate=new P.R(F,O,Y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function j(R){R.INTERNAL.registerComponent(new he.wA("auth-compat",F=>{const O=F.getProvider("app-compat").getImmediate(),Y=F.getProvider("auth");return new _e(O,Y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.N,FacebookAuthProvider:P.Q,GithubAuthProvider:P.V,GoogleAuthProvider:P.U,OAuthProvider:P.W,SAMLAuthProvider:P.X,PhoneAuthProvider:Tt,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:jn,TwitterAuthProvider:P.Y,Auth:_e,AuthCredential:P.I,Error:ee.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),R.registerVersion("@firebase/auth-compat","0.3.7")}(B.Z)},8766:(ft,De,L)=>{L.d(De,{Lj:()=>Te,X3:()=>Pe});var c=L(5861);const B=(oe,pe)=>pe.some(Ze=>oe instanceof Ze);let P,ee;const he=new WeakMap,le=new WeakMap,de=new WeakMap,H=new WeakMap,z=new WeakMap;let Ae={get(oe,pe,Ze){if(oe instanceof IDBTransaction){if("done"===pe)return le.get(oe);if("objectStoreNames"===pe)return oe.objectStoreNames||de.get(oe);if("store"===pe)return Ze.objectStoreNames[1]?void 0:Ze.objectStore(Ze.objectStoreNames[0])}return Ie(oe[pe])},set:(oe,pe,Ze)=>(oe[pe]=Ze,!0),has:(oe,pe)=>oe instanceof IDBTransaction&&("done"===pe||"store"===pe)||pe in oe};function fe(oe){return"function"==typeof oe?function ot(oe){return oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function se(){return ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(oe)?function(...pe){return oe.apply(we(this),pe),Ie(he.get(this))}:function(...pe){return Ie(oe.apply(we(this),pe))}:function(pe,...Ze){const $e=oe.call(we(this),pe,...Ze);return de.set($e,pe.sort?pe.sort():[pe]),Ie($e)}}(oe):(oe instanceof IDBTransaction&&function Ue(oe){if(le.has(oe))return;const pe=new Promise((Ze,$e)=>{const Ct=()=>{oe.removeEventListener("complete",Je),oe.removeEventListener("error",re),oe.removeEventListener("abort",re)},Je=()=>{Ze(),Ct()},re=()=>{$e(oe.error||new DOMException("AbortError","AbortError")),Ct()};oe.addEventListener("complete",Je),oe.addEventListener("error",re),oe.addEventListener("abort",re)});le.set(oe,pe)}(oe),B(oe,function ne(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(oe,Ae):oe)}function Ie(oe){if(oe instanceof IDBRequest)return function q(oe){const pe=new Promise((Ze,$e)=>{const Ct=()=>{oe.removeEventListener("success",Je),oe.removeEventListener("error",re)},Je=()=>{Ze(Ie(oe.result)),Ct()},re=()=>{$e(oe.error),Ct()};oe.addEventListener("success",Je),oe.addEventListener("error",re)});return pe.then(Ze=>{Ze instanceof IDBCursor&&he.set(Ze,oe)}).catch(()=>{}),z.set(pe,oe),pe}(oe);if(H.has(oe))return H.get(oe);const pe=fe(oe);return pe!==oe&&(H.set(oe,pe),z.set(pe,oe)),pe}const we=oe=>z.get(oe);function Pe(oe,pe,{blocked:Ze,upgrade:$e,blocking:Ct,terminated:Je}={}){const re=indexedDB.open(oe,pe),ce=Ie(re);return $e&&re.addEventListener("upgradeneeded",ye=>{$e(Ie(re.result),ye.oldVersion,ye.newVersion,Ie(re.transaction))}),Ze&&re.addEventListener("blocked",()=>Ze()),ce.then(ye=>{Je&&ye.addEventListener("close",()=>Je()),Ct&&ye.addEventListener("versionchange",()=>Ct())}).catch(()=>{}),ce}function Te(oe,{blocked:pe}={}){const Ze=indexedDB.deleteDatabase(oe);return pe&&Ze.addEventListener("blocked",()=>pe()),Ie(Ze).then(()=>{})}const xe=["get","getKey","getAll","getAllKeys","count"],be=["put","add","delete","clear"],He=new Map;function K(oe,pe){if(!(oe instanceof IDBDatabase)||pe in oe||"string"!=typeof pe)return;if(He.get(pe))return He.get(pe);const Ze=pe.replace(/FromIndex$/,""),$e=pe!==Ze,Ct=be.includes(Ze);if(!(Ze in($e?IDBIndex:IDBObjectStore).prototype)||!Ct&&!xe.includes(Ze))return;const Je=function(){var re=(0,c.Z)(function*(ce,...ye){const Me=this.transaction(ce,Ct?"readwrite":"readonly");let ke=Me.store;return $e&&(ke=ke.index(ye.shift())),(yield Promise.all([ke[Ze](...ye),Ct&&Me.done]))[0]});return function(ye){return re.apply(this,arguments)}}();return He.set(pe,Je),Je}!function Ge(oe){Ae=oe(Ae)}(oe=>({...oe,get:(pe,Ze,$e)=>K(pe,Ze)||oe.get(pe,Ze,$e),has:(pe,Ze)=>!!K(pe,Ze)||oe.has(pe,Ze)}))},5861:(ft,De,L)=>{function c(P,ee,ne,se,he,le,de){try{var H=P[le](de),z=H.value}catch(q){return void ne(q)}H.done?ee(z):Promise.resolve(z).then(se,he)}function B(P){return function(){var ee=this,ne=arguments;return new Promise(function(se,he){var le=P.apply(ee,ne);function de(z){c(le,se,he,de,H,"next",z)}function H(z){c(le,se,he,de,H,"throw",z)}de(void 0)})}}L.d(De,{Z:()=>B})}},ft=>{ft(ft.s=7915)}]);